KeenIOAnalysesProcessor=function(a){this.process=function(a){var b=this,c={};return $.each(this.processInstructions,function(d,e){var f=[];$.each(e.analyses,function(b,d){if(Number.isInteger(d))f.push(a[d]);else{if("undefined"==typeof c[d])throw"Invalid processed query name";f.push(c[d])}}),c[d]=b[e.processor](f),"undefined"!=typeof e.title&&(c[d].title=e.title)}),c[this.finalAnalysis]},this.loadConfig(a)},KeenIOAnalysesProcessor.prototype.loadConfig=function(a){if("object"!=typeof a)throw"Invalid KeenIOAnalysesProcessor config";if("undefined"==typeof a.instructions)throw"Missing process in KeenIOAnalysesProcessor config";if("undefined"==typeof a.finalAnalysis)throw"Missing finalAnalysis in KeenIOAnalysesProcessor config";this.processInstructions=a.instructions,this.finalAnalysis=a.finalAnalysis},KeenIOAnalysesProcessor.prototype.addResults=function(a){if(!Array.isArray(a)||a.length<2)throw"addResults requires an array of results";var b="singleValue";Array.isArray(a[0].result)&&(b="multipleValue");var c=a.shift();return $.each(a,function(a,d){"singleValue"===b?c.result+=d.result:$.each(d.result,function(a,b){c.result[a].value/=b.value})}),c},KeenIOAnalysesProcessor.prototype.divideResults=function(a){if(!Array.isArray(a)||a.length<2)throw"divideResults requires an array of results";var b="singleValue";Array.isArray(a[0].result)&&(b="multipleValue");var c=a.shift();return $.each(a,function(a,d){"singleValue"===b?0!=d.result?c.result/=d.result:c.result=0:$.each(d.result,function(a,b){0!=b.value?c.result[a].value/=b.value:c.result[a].value=0})}),c};
//# sourceMappingURL=keenioanalysisprocessor.min.js.map