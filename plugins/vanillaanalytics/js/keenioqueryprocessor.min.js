KeenIOQueryProcessor=function(a){this.getResult=function(a){var b=this,c={};return $.each(this.process,function(d,e){var f=[];$.each(e.queries,function(b,d){if(Number.isInteger(d))f.push(a[d]);else{if("undefined"==typeof c[d])throw"Invalid processed query name";f.push(c[d])}}),c[d]=b[e.processor](f)}),c[this.resultQuery]},this.loadConfig(a)},KeenIOQueryProcessor.prototype.loadConfig=function(a){if("object"!=typeof a)throw"Invalid KeenIOQueryProcessor config";if("undefined"==typeof a.process)throw"Missing process in KeenIOQueryProcessor config";if("undefined"==typeof a.resultQuery)throw"Missing resultQuery in KeenIOQueryProcessor config";this.process=a.process,this.resultQuery=a.resultQuery},KeenIOQueryProcessor.prototype.addMetrics=function(a){if(!Array.isArray(a))throw"addMetrics requires an array";if(a.length<2)throw"addMetrics requires at least two results";var b={};return $.each(a,function(a,c){if("number"!=typeof c.result)throw"addMetrics only works with metrics";0==a?b.result=c.result:b.result+=c.result}),b},KeenIOQueryProcessor.prototype.divideMetrics=function(a){if(!Array.isArray(a))throw"divideMetrics requires an array";if(a.length<2)throw"divideMetrics requires at least two results";var b={};return $.each(a,function(a,c){if("number"!=typeof c.result)throw"addMetrics only works with metrics";0==a?b.result=c.result:0!=c.result?b.result/=c.result:b.result=0}),b};
//# sourceMappingURL=keenioqueryprocessor.min.js.map