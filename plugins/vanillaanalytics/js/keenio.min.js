var keenTracker={keenClient:!1,projectID:gdn.meta["keenio.projectID"]||!1,writeKey:gdn.meta["keenio.writeKey"]||!1};keenTracker.analyticsTickHandler=function(a,b,c,d){if("success"===d){if("undefined"!=typeof c.responseJSON){var e=gdn.definition("eventData",{});"undefined"!=typeof c.responseJSON.clientIP&&(e.ip=c.responseJSON.clientIP),"undefined"!=typeof c.responseJSON.dateTime&&(e.dateTime=c.responseJSON.dateTime),e.referrer=document.referrer,gdn.meta.eventData=e}keenTracker.event(gdn.definition("viewEventType","page_view"),"page",!0)}},keenTracker.event=function(a,b,c){var d=this.getKeenClient(),e=gdn.definition("eventData",{});d&&Object.keys(e).length>0&&(e.type=a,e.user=this.getUser(e,c),d.recordEvent(b||"page",e))},keenTracker.getKeenClient=function(){return!this.keenClient&&this.projectID&&this.writeKey&&"function"==typeof Keen&&(this.keenClient=new Keen({projectId:this.projectID,writeKey:this.writeKey})),this.keenClient},keenTracker.getUser=function(a,b){var c={},d=function(a){return"object"!=typeof a?(console.log("user: default"),c):(console.log("user: cookie"),"undefined"!=typeof a.uuid&&(c.uuid=a.uuid),b?"undefined"!=typeof a.secondarySessionID&&(c.sessionID=a.secondarySessionID):"undefined"!=typeof a.sessionID&&(c.sessionID=a.sessionID),void("undefined"!=typeof a.pv&&(c.pv=a.pv)))};if("object"==typeof a&&"object"==typeof a.user&&(c=a.user,"function"==typeof Cookies)){var e=Cookies.getJSON(gdn.definition("vaCookieName"));c=d(e)}return c},$(document).on("analyticsTick",keenTracker.analyticsTickHandler);
//# sourceMappingURL=keenio.min.js.map