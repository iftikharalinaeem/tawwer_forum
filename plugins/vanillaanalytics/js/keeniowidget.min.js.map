{"version":3,"sources":["src/keeniowidget.js"],"names":["KeenIOWidget","config","callback","chartConfig","client","data","dataviz","interval","element","query","range","end","start","type","title","this","addQuery","Array","i","length","queryParams","eventCollection","maxAge","filters","isArray","groupBy","target_property","newQuery","Keen","Query","analisysType","push","getCallback","getClient","projectID","gdn","meta","readKey","projectId","getConfig","key","defaultValue","getData","getDataviz","Dataviz","loadDatavizConfig","getElement","getInterval","getRange","getQuery","getQueryParam","index","queryCollection","parseInt","currentQuery","get","getTitle","getType","resetQuery","setCallback","newCallback","setChartConfig","newChartConfig","setData","newData","setElement","newElement","HTMLElement","setInterval","newInterval","setRange","newRange","Date","setHours","setMonth","getMonth","setType","newType","setTitle","newTitle","updateQueryParams","newParams","set","loadConfig","prototype","divideResult","result","revisedResult","value","parseFloat","toFixed","timeframe","getMetricMarkup","markup","Number","toLocaleString","replace","chartOptions","labelMapping","library","height","chartType","dateFormat","formatSeconds","totalSeconds","hours","Math","floor","minutes","seconds","toString","renderBody","el","$","parent","removeClass","innerHTML","parseRawData","labels","stacked","colors","x","view","_rendered","update","render","runQuery","widget","updateParams","run","error","analyses","getQueryResult","boundCallback","bind","primaryResult","shift","intervalValues","category","offsetComp","writeContents","container","forceNewElement","_prepared","prepare","addClass"],"mappings":"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","file":"keeniowidget.min.js"}