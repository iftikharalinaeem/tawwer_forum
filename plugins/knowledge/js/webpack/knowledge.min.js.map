{"version":3,"sources":["webpack://vanillaknowledge/./applications/dashboard/src/scripts/application.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/@types/api/general.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/@types/api/authenticate.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/apiv2.ts","webpack://vanillaknowledge/./build/entries/public-path.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/utility.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/@types/api/index.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/gdn.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/state/reducerRegistry.ts","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/pages/article/articlePageActions.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/state/utility.ts","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/pages/article/articlePageReducer.ts","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/rootReducer.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/state/getStore.ts","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/@types/api/article.ts","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/KnowledgeRoutes.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/KnowledgeApp.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/entries/knowledge.tsx"],"names":["__webpack_require__","getMeta","key","defaultValue","_dashboard_gdn__WEBPACK_IMPORTED_MODULE_2__","meta","parts","split","haystack","parts_1","__values","parts_1_1","next","done","part","value","hasOwnProperty","t","str","defaultTranslation","substr","undefined","translations","formatUrl","path","indexOf","assetUrl","_components","_mountComponents","parent","querySelectorAll","forEach","node","name","getAttribute","Component","toLowerCase","getComponent","react_dom__WEBPACK_IMPORTED_MODULE_1___default","a","render","react__WEBPACK_IMPORTED_MODULE_0___default","createElement","Object","_dashboard_utility__WEBPACK_IMPORTED_MODULE_3__","_readyHandlers","onReady","callback","push","_executeReady","Promise","resolve","handlerPromises","map","handler","exec","all","then","document","readyState","addEventListener","onContent","LoadStatus","d","__webpack_exports__","AuthenticationStep","api","axios__WEBPACK_IMPORTED_MODULE_2___default","create","baseURL","_dashboard_application__WEBPACK_IMPORTED_MODULE_0__","headers","common","X-Requested-With","transformResponse","__spread","defaults","responseData","status","errors","length","_dashboard_utility__WEBPACK_IMPORTED_MODULE_1__","paramsSerializer","params","qs__WEBPACK_IMPORTED_MODULE_3___default","stringify","indices","p","_debug","debug","newValue","log","_i","arguments","console","apply","logError","error","IMAGE_REGEX","isFileImage","file","test","type","indexArrayByKey","array","object","array_1","array_1_1","item","gdn","window","permissions","haveGot","wasReadyCalled","reducers","registerReducer","reducer","utility","getReducers","__assign","application","GET_ARTICLE_REQUEST","GET_ARTICLE_SUCCESS","GET_ARTICLE_ERROR","getArticleActions","requestType","successType","errorType","dummyResponseType","dummyMetaType","request","createApiRequestAction","success","response","payload","createApiSuccessAction","createApiErrorAction","generateApiActionCreators","initialState","PENDING","getStore_store","Format","rootReducer","redux","articlePage","state","action","articlePageReducer_assign","LOADING","SUCCESS","data","article","ERROR","getStore_initialState","initialActions","__ACTIONS__","middleware","es","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","getStore","dispatch","Loading","_a","pastDelay","retry","react_default","onClick","ArticlePage","lib_default","loading","loader","e","bind","HomePage","KnowledgeRoutes","BrowserRouter","Fragment","Route","exact","component","KnowledgeApp","store","react_redux_es","app","querySelector","react_dom_default","locale","body","format","RICH","articleCategoryID","seoName","seoDescription","slug","sort","articleID","insertUserID","insertUser","userID","photoUrl","dateLastActive","updateUserID","dateInserted","dateUpdated","score","countViews","url","bodyRendered","dummyArticleContent","createDummyArticleData"],"mappings":"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","file":"/plugins/knowledge/js/webpack/knowledge.min.js?fefe09eb4a8b23a1b491","sourcesContent":["/**\n * Application functions for interop between Components in different packages.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React, { ComponentClass } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { RouteProps } from \"react-router-dom\";\nimport gdn from \"@dashboard/gdn\";\nimport { PromiseOrNormalCallback, logError } from \"@dashboard/utility\";\nimport isUrl from \"validator/lib/isURL\";\n\n/**\n * Get a piece of metadata passed from the server.\n *\n * @param key - The key to lookup.\n * @param defaultValue - A fallback value in case the key cannot be found.\n *\n * @returns Returns a meta value or the default value.\n */\nexport function getMeta(key: string, defaultValue?: any) {\n    if (!gdn.meta) {\n        return defaultValue;\n    }\n\n    const parts = key.split(\".\");\n    let haystack = gdn.meta;\n\n    for (const part of parts) {\n        if (!haystack.hasOwnProperty(part)) {\n            return defaultValue;\n        }\n        haystack = haystack[part];\n    }\n    return haystack;\n}\n\n/**\n * Set a piece of metadata. This will override what was passed from the server.\n *\n * @param key - The key to store under.\n * @param value - The value to set.\n */\nexport function setMeta(key: string, value: any) {\n    const parts = key.split(\".\");\n    const last = parts.pop();\n\n    if (!last) {\n        throw new Error(`Unable to set meta value ${key}. ${last} is not a valid object key.`);\n    }\n\n    let haystack = gdn.meta;\n\n    for (const part of parts) {\n        if (haystack[part] === null || typeof haystack[part] !== \"object\") {\n            haystack[part] = {};\n        }\n        haystack = haystack[part];\n    }\n    haystack[last] = value;\n}\n\n/**\n * Translate a string into the current locale.\n *\n * @param str - The string to translate.\n * @param defaultTranslation - The default translation to use.\n *\n * @returns Returns the translation or the default.\n */\nexport function translate(str: string, defaultTranslation?: string): string {\n    // Codes that begin with @ are considered literals.\n    if (str.substr(0, 1) === \"@\") {\n        return str.substr(1);\n    }\n\n    if (gdn.translations[str] !== undefined) {\n        return gdn.translations[str];\n    }\n\n    return defaultTranslation !== undefined ? defaultTranslation : str;\n}\n\n/**\n * The t function is an alias for translate.\n */\nexport const t = translate;\n\n/**\n * Determine if a string is an allowed URL.\n *\n * In the future this may be extended to check if we want to whitelist/blacklist various URLs.\n *\n * @param input - The string to check.\n */\nexport function isAllowedUrl(input: string): boolean {\n    // Options https://github.com/chriso/validator.js#validators\n    const options = {\n        protocols: [\"http\", \"https\"],\n        require_tld: true,\n        require_protocol: true,\n        require_host: true,\n        require_valid_protocol: true,\n        allow_trailing_dot: false,\n        allow_protocol_relative_urls: false,\n    };\n    return isUrl(input, options);\n}\n\n/**\n * Format a URL in the format passed from the controller.\n *\n * @param path - The path to format.\n *\n * @returns Returns a URL that can be used in the APP.\n */\nexport function formatUrl(path: string): string {\n    if (path.indexOf(\"//\") >= 0) {\n        return path;\n    } // this is an absolute path.\n\n    // The context paths that come down are expect to have no / at the end of them.\n    // Normally a domain like so: https://someforum.com\n    // When we don't have that we want to fallback to \"\" so that our path with a / can get passed.\n    const urlFormat = getMeta(\"context.basePath\", \"\");\n    return urlFormat + path;\n}\n\n/**\n * Create the URL of an asset of the site.\n *\n * @param path - The path to format.\n *\n * @returns Returns a URL that can be used for a static asset.\n */\nexport function assetUrl(path: string): string {\n    if (path.indexOf(\"//\") >= 0) {\n        return path;\n    } // this is an absolute path.\n\n    // The context paths that come down are expect to have no / at the end of them.\n    // Normally a domain like so: https://someforum.com\n    // When we don't have that we want to fallback to \"\" so that our path with a / can get passed.\n    const urlFormat = getMeta(\"context.assetPath\", \"\");\n    return urlFormat + path;\n}\n\n/**\n * @type {Object} The currently registered Components.\n * @private\n */\nconst _components = {};\n\n/**\n * Register a component in the Components registry.\n *\n * @param name The name of the component.\n * @param component The component to register.\n */\nexport function addComponent(name: string, component: ComponentClass) {\n    _components[name.toLowerCase()] = component;\n}\n\n/**\n * Test to see if a component has been registered.\n *\n * @param name The name of the component to test.\n * @returns Returns **true** if the component has been registered or **false** otherwise.\n */\nexport function componentExists(name: string): boolean {\n    return _components[name.toLowerCase()] !== undefined;\n}\n\n/**\n * Get a component from the component registry.\n *\n * @param name The name of the component.\n * @returns Returns the component or **undefined** if there is no registered component.\n */\nexport function getComponent(name: string): ComponentClass | undefined {\n    return _components[name.toLowerCase()];\n}\n\n/**\n * Mount all declared Components on the dom.\n *\n * The page signifies that an element contains a component with the `data-react=\"<Component>\"` attribute.\n *\n * @param parent - The parent element to search. This element is not included in the search.\n */\nexport function _mountComponents(parent: Element) {\n    const nodes = parent.querySelectorAll(\"[data-react]\").forEach(node => {\n        const name = node.getAttribute(\"data-react\") || \"\";\n        const Component = getComponent(name);\n\n        if (Component) {\n            ReactDOM.render(<Component />, node);\n        } else {\n            logError(\"Could not find component %s.\", name);\n        }\n    });\n}\n\n/**\n * @type {Array} The currently registered routes.\n * @private\n */\nconst _routes: any[] = [];\n\n/**\n * Register one or more routes to the app component.\n *\n * @param routes An array of routes to add.\n */\nexport function addRoutes(routes: Array<React.ReactElement<RouteProps>>) {\n    if (!Array.isArray(routes)) {\n        _routes.push(routes);\n    } else {\n        _routes.push(...routes);\n    }\n}\n\n/**\n * Get all of the currently registered routes.\n *\n * @returns Returns an array of routes.\n */\nexport function getRoutes(): Array<React.ReactElement<RouteProps>> {\n    return _routes;\n}\n\n/**\n * @type {Array}\n * @private\n */\nconst _readyHandlers: PromiseOrNormalCallback[] = [];\n\n/**\n * Register a callback that executes when the document and the core libraries are ready to use.\n *\n * @param callback - The function to call. This can return a Promise but doesn't have to.\n */\nexport function onReady(callback: PromiseOrNormalCallback) {\n    _readyHandlers.push(callback);\n}\n\n/**\n * Execute all of the registered events in order.\n *\n * @returns A Promise when the events have all fired.\n */\nexport function _executeReady(): Promise<any[]> {\n    return new Promise(resolve => {\n        const handlerPromises = _readyHandlers.map(handler => handler());\n        const exec = () => {\n            return Promise.all(handlerPromises).then(resolve);\n        };\n\n        if (document.readyState !== \"loading\") {\n            return exec();\n        } else {\n            document.addEventListener(\"DOMContentLoaded\", exec);\n        }\n    });\n}\n\n/**\n * Execute a callback when a piece of DOM content is ready to be operated on.\n *\n * This is similar to onReady() but also includes content that is added dynamically (ex. AJAX).\n * Note that this function is meant to bridge the non-react parts of the application with react.\n *\n * @param {function} callback - The callback to execute.\n */\nexport function onContent(callback) {\n    document.addEventListener(\"X-DOMContentReady\", callback);\n}\n\n/**\n * Make a URL to a user's profile.\n */\nexport function makeProfileUrl(username: string) {\n    const userPath = `/profile/${encodeURIComponent(username)}`;\n    return formatUrl(userPath);\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nexport const enum LoadStatus {\n    PENDING = \"PENDING\",\n    LOADING = \"LOADING\",\n    SUCCESS = \"SUCCESS\",\n    ERROR = \"ERROR\",\n}\n\ninterface IPendingValue {\n    status: LoadStatus.PENDING;\n}\n\ninterface ILoadingValue<T> {\n    status: LoadStatus.LOADING;\n    data?: T;\n    error?: IApiError;\n}\n\ninterface ISuccessValue<T> {\n    status: LoadStatus.SUCCESS;\n    data: T;\n    error?: undefined;\n}\n\ninterface IErrorValue<T> {\n    status: LoadStatus.ERROR;\n    error: IApiError;\n    data?: T;\n}\n\nexport type ILoadable<T> = IPendingValue | ILoadingValue<T> | ISuccessValue<T> | IErrorValue<T>;\n\nexport interface IApiResponse<DataType = any> {\n    data: DataType;\n    status: number;\n    headers: any;\n}\n\nexport interface IFieldError {\n    message: string; // translated message\n    code: string; // translation code\n    field: string;\n    status?: number; // HTTP status\n}\n\nexport interface IApiError {\n    message: string;\n    status: number;\n    errors?: {\n        [key: string]: IFieldError[];\n    };\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { IUserFragment } from \"@dashboard/@types/api\";\n\nexport interface IUserAuthenticator {\n    authenticatorID: string;\n    type: string;\n    isUnique: boolean;\n    name: string;\n    ui: {\n        url: string;\n        buttonName: string;\n        photoUrl: string | null;\n        backgroundColor: string | null;\n        foregroundColor: string | null;\n    };\n    isUserLinked?: boolean;\n    sso?: any;\n}\n\nexport const enum AuthenticationStep {\n    AUTHENTICATED = \"authenticated\",\n    LINK_USER = \"linkUser\",\n}\n\nexport interface IAuthenticateResponse {\n    authenticationStep: AuthenticationStep;\n    user?: IUserFragment;\n    authSessionID?: string;\n    targetUrl?: string;\n}\n\nexport interface IAuthenticatePasswordParams {\n    username: string;\n    password: string;\n    persist?: boolean;\n}\n\nexport interface IAuthenticatePasswordResponseData extends IUserFragment {}\n","/**\n * Entrypoint for the APIv2 calls. Prepulates an axios instance with some config settings.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { formatUrl, t } from \"@dashboard/application\";\nimport { isFileImage, indexArrayByKey } from \"@dashboard/utility\";\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport { IEmbedData } from \"@dashboard/embeds\";\nimport { IFieldError, LoadStatus, ILoadable } from \"@dashboard/@types/api\";\n\nfunction fieldErrorTransformer(responseData) {\n    if (responseData.status >= 400 && responseData.errors && responseData.errors.length > 0) {\n        responseData.errors = indexArrayByKey(responseData.errors, \"field\");\n    }\n\n    return responseData;\n}\n\nconst api = axios.create({\n    baseURL: formatUrl(\"/api/v2/\"),\n    headers: {\n        common: {\n            \"X-Requested-With\": \"vanilla\",\n        },\n    },\n    transformResponse: [...axios.defaults.transformResponse, fieldErrorTransformer],\n    paramsSerializer: params => qs.stringify(params, { indices: false }),\n});\n\nexport default api;\n\n/**\n * Upload an image using Vanilla's API v2.\n *\n * @param file - The file to upload.\n *\n * @throws If the file given is not an image. You must check yourself first.\n */\nexport async function uploadImage(image: File): Promise<IEmbedData> {\n    if (!isFileImage(image)) {\n        throw new Error(\n            `Unable to upload an image of type ${image.type}. Supported formats included .gif, .jpg and .png`,\n        );\n    }\n\n    const data = new FormData();\n    data.append(\"file\", image, image.name);\n    data.append(\"type\", \"image\");\n\n    const result = await api.post(\"/media\", data);\n    result.data.type = \"image\";\n    return result.data;\n}\n\n/**\n * Extract a field specific error from an ILoadable if applicable.\n *\n * @param loadable - The loadable to extract from.\n * @param field - The field to extract.\n *\n * @returns an array of IFieldErrors if found or undefined.\n */\nexport function getFieldErrors(loadable: ILoadable<any>, field: string): IFieldError[] | undefined {\n    if (loadable.status === LoadStatus.ERROR || loadable.status === LoadStatus.LOADING) {\n        if (loadable.error && loadable.error.errors && loadable.error.errors[field]) {\n            return loadable.error.errors[field];\n        }\n    }\n}\n\n/**\n * Extract a global error message out of an ILoadable if applicable.\n *\n * @param loadable - The loadable to extract from.\n * @param validFields - Field to check for overriding fields errors from. A global error only shows if there are no valid field errors.\n *\n * @returns A global error message or an undefined.\n */\nexport function getGlobalErrorMessage(loadable: ILoadable<any>, validFields: string[]): string | undefined {\n    if (loadable.status === LoadStatus.ERROR || loadable.status === LoadStatus.LOADING) {\n        for (const field of validFields) {\n            if (getFieldErrors(loadable, field)) {\n                return;\n            }\n        }\n\n        if (loadable.error) {\n            return loadable.error.message || t(\"An error has occurred, please try again.\");\n        }\n    }\n}\n","/**\n * Set wepback's public path.\n * Otherwise the lookups of dynamically imported webpack files can fail on sites that have a different webroot\n * Eg. installed in a subfolder / using Reverse Proxy.\n *\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\nimport { assetUrl } from \"@dashboard/application\";\n\n/**\n * This needs to be a free variable.\n *\n * Webpack does some magic to make this work.\n * It you try and set a local or global version of it, it WILL NOT work.\n *\n * @see https://stackoverflow.com/questions/12934929/what-are-free-variables\n * @see https://webpack.js.org/configuration/output/#output-publicpath\n * @see https://github.com/webpack/webpack/issues/2776#issuecomment-233208623\n */\n// @ts-ignore: Cannot find variable warning. See comment aboe.\n__webpack_public_path__ = assetUrl(\"/\");\n","/**\n * General utility functions.\n * This file should have NO external dependencies other than javascript.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\n/**\n * @type {boolean} The current debug setting.\n * @private\n */\nlet _debug = false;\n\n/**\n * Get or set the debug flag.\n *\n * @param newValue - The new value of debug.\n * @returns the current debug setting.\n */\nexport function debug(newValue?: boolean): boolean {\n    if (newValue !== undefined) {\n        _debug = newValue;\n    }\n\n    return _debug;\n}\n\ntype NormalCallback = (...args: any[]) => any;\ntype PromiseCallback = (...args: any[]) => Promise<any>;\n\nexport type PromiseOrNormalCallback = NormalCallback | PromiseCallback;\n\n/**\n * Resolve an array of functions that return promises sequentially.\n *\n * @param promiseFunctions - The functions to execute.\n *\n * @returns An array of all results in sequential order.\n *\n * @example\n * const urls = ['/url1', '/url2', '/url3']\n * const functions = urls.map(url => () => fetch(url))\n * resolvePromisesSequentially(funcs)\n *   .then(console.log)\n *   .catch(console.error)\n */\nexport function resolvePromisesSequentially(promiseFunctions: PromiseOrNormalCallback[]): Promise<any[]> {\n    if (!Array.isArray(promiseFunctions)) {\n        throw new Error(\"First argument needs to be an array of Promises\");\n    }\n\n    return new Promise((resolve, reject) => {\n        let count = 0;\n        let results = [];\n\n        function iterationFunction(previousPromise, currentPromise) {\n            return previousPromise\n                .then(result => {\n                    if (count++ !== 0) {\n                        results = results.concat(result);\n                    }\n\n                    return currentPromise(result, results, count);\n                })\n                .catch(err => reject(err));\n        }\n\n        promiseFunctions = promiseFunctions.concat(() => Promise.resolve());\n\n        promiseFunctions.reduce(iterationFunction, Promise.resolve(false)).then(() => {\n            resolve(results);\n        });\n    });\n}\n\n/**\n * Log something to console.\n *\n * This only prints in debug mode.\n *\n * @param value - The value to log.\n */\nexport function log(...value: any[]) {\n    if (_debug) {\n        // tslint:disable-next-line:no-console\n        console.log(...value);\n    }\n}\n\n/**\n * Log an error to console.\n *\n * @param value - The value to log.\n */\nexport function logError(...value: any[]) {\n    // tslint:disable-next-line:no-console\n    console.error(...value);\n}\n\n/**\n * Log a warning to console.\n *\n * @param value - The value to log.\n */\nexport function logWarning(...value: any[]) {\n    // tslint:disable-next-line:no-console\n    console.warn(...value);\n}\n\n/**\n * A simple, fast method of hashing a string. Similar to Java's hash function.\n * https://stackoverflow.com/a/7616484/1486603\n *\n * @param str - The string to hash.\n *\n * @returns The hash code returned.\n */\nexport function hashString(str: string): number {\n    function hashReduce(prevHash, currVal) {\n        // tslint:disable-next-line:no-bitwise\n        return (prevHash << 5) - prevHash + currVal.charCodeAt(0);\n    }\n    return str.split(\"\").reduce(hashReduce, 0);\n}\n\n/**\n * Split a string in multiple pieces similar to String.prototype.split but ignore most acccent characters.\n *\n * This will still return pieces with accents.\n *\n * @param toSplit The string to split.\n * @param splitWith The string to split with.\n */\nexport function splitStringLoosely(toSplit: string, splitWith: string): string[] {\n    const normalizedName = toSplit.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n    const normalizedSplitTerm = splitWith.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n    const normalizedPieces = normalizedName.split(new RegExp(`(${normalizedSplitTerm})`, \"i\"));\n\n    let charactersUsed = 0;\n    return normalizedPieces.map(piece => {\n        const start = charactersUsed;\n        charactersUsed += piece.length;\n        return toSplit.substring(start, charactersUsed);\n    });\n}\n\ninterface IClass {\n    new (): any;\n}\n\nexport function isInstanceOfOneOf(needle: any, haystack: IClass[]) {\n    for (const classItem of haystack) {\n        if (needle instanceof classItem) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nexport function simplifyFraction(numerator: number, denominator: number) {\n    const findGCD = (a, b) => {\n        return b ? findGCD(b, a % b) : a;\n    };\n    const gcd = findGCD(numerator, denominator);\n\n    numerator = numerator / gcd;\n    denominator = denominator / gcd;\n\n    return {\n        numerator,\n        denominator,\n        shorthand: denominator + \":\" + numerator,\n    };\n}\n\ninterface IMentionMatch {\n    match: string;\n    rawMatch: string;\n}\n\n/**\n * Custom matching to allow quotation marks in the matching string as well as spaces.\n * Spaces make things more complicated.\n *\n * @param subtext - The string to be tested.\n * @param shouldStartWithSpace - Should the pattern include a test for a whitespace prefix?\n * @returns Matching string if successful.  Null on failure to match.\n */\nexport function matchAtMention(\n    subtext: string,\n    shouldStartWithSpace: boolean = false,\n    requireQuotesForWhitespace: boolean = true,\n): IMentionMatch | null {\n    // Split the string at the lines to allow for a simpler regex.\n    const lines = subtext.split(\"\\n\");\n    const lastLine = lines[lines.length - 1];\n\n    // If you change this you MUST change the regex in src/scripts/__tests__/legacy.test.js !!!\n    /**\n     * Put together the non-excluded characters.\n     *\n     * @param {boolean} excludeWhiteSpace - Whether or not to exclude whitespace characters.\n     *\n     * @returns {string} A Regex string.\n     */\n    function nonExcludedCharacters(excludeWhiteSpace) {\n        let excluded =\n            \"[^\" +\n            '\"' + // Quote character\n            \"\\\\u0000-\\\\u001f\\\\u007f-\\\\u009f\" + // Control characters\n            \"\\\\u2028\"; // Line terminator\n\n        if (excludeWhiteSpace) {\n            excluded += \"\\\\s\";\n        }\n\n        excluded += \"]\";\n        return excluded;\n    }\n\n    let regexStr =\n        \"@\" + // @ Symbol triggers the match\n        \"(\" +\n        // One or more non-greedy characters that aren't excluded. Whitespace is allowed, but a starting quote is required.\n        '\"(' +\n        nonExcludedCharacters(false) +\n        '+?)\"?' +\n        \"|\" + // Or\n        // One or more non-greedy characters that aren't exluded. Whitespace may be excluded.\n        \"(\" +\n        nonExcludedCharacters(requireQuotesForWhitespace) +\n        '+?)\"?' +\n        \")\" +\n        \"(?:\\\\n|$)\"; // Newline terminates.\n\n    // Determined by at.who library\n    if (shouldStartWithSpace) {\n        regexStr = \"(?:^|\\\\s)\" + regexStr;\n    }\n    const regex = new RegExp(regexStr, \"gi\");\n    const match = regex.exec(lastLine);\n    if (match) {\n        return {\n            rawMatch: match[0],\n            match: match[2] || match[1], // Return either of the matching groups (quoted or unquoted).\n        };\n    }\n\n    // No match\n    return null;\n}\n\n/** This should mirror extensions allowed in Vanilla\\ImageResizer.php */\nconst IMAGE_REGEX = /^image\\/(gif|jpe?g|png)/i;\n\n/**\n * A filter for use with [].filter\n *\n * Matches only image image type files.\n * @private\n *\n * @param file - A File object.\n * @see https://developer.mozilla.org/en-US/docs/Web/API/File\n *\n * @returns Whether or not the file is an acceptable image\n */\nexport function isFileImage(file: File): boolean {\n    if (IMAGE_REGEX.test(file.type)) {\n        return true;\n    }\n\n    log(\"Filtered out non-image file: \", file.name);\n    return false;\n}\n\nexport function capitalizeFirstLetter(str: string): string {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}\n\n/**\n * Transform an array of objects and an map of objets with a given key.\n *\n * Objects that do not contain the given key are dropped.\n *\n * @param array The array to go through.\n * @param key The key to lookup.\n */\nexport function indexArrayByKey<T extends object>(\n    array: T[],\n    key: string,\n): {\n    [key: string]: T;\n} {\n    const object = {};\n    for (const item of array) {\n        if (key in item) {\n            if (!(item[key] in object)) {\n                object[item[key]] = [];\n            }\n            object[item[key]].push(item);\n        }\n    }\n    return object;\n}\n\nconst SAFE_PROTOCOL_REGEX = /^(http:\\/\\/|https:\\/\\/|tel:|mailto:\\/\\/)/;\n\n/**\n * Sanitize a URL to ensure that it matches a whitelist of approved url schemes. If the url does not match one of these schemes, prepend `unsafe:` before it.\n *\n * Allowed protocols\n * - \"http://\",\n * - \"https://\",\n * - \"tel:\",\n * - \"mailto://\",\n *\n * @param url The url to sanitize.\n */\nexport function sanitizeUrl(url: string) {\n    if (url.match(SAFE_PROTOCOL_REGEX)) {\n        return url;\n    } else {\n        return \"unsafe:\" + url;\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nexport * from \"@dashboard/@types/api/general\";\nexport * from \"@dashboard/@types/api/user\";\nexport * from \"@dashboard/@types/api/authenticate\";\nexport * from \"@dashboard/@types/api/comment\";\nexport * from \"@dashboard/@types/api/discussion\";\nexport * from \"@dashboard/@types/api/media\";\n","/**\n * A module to isolate meta data passed from the server into a single dependency.\n * This should always be used instead of accessing window.gdn directly.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\ninterface IGdn {\n    meta: AnyObject;\n    permissions: AnyObject;\n    translations: AnyObject;\n    [key: string]: any;\n}\n\n/** The gdn object may be set in an inline script in the head of the document. */\nconst gdn = window.gdn || {};\n\nif (!(\"meta\" in gdn)) {\n    gdn.meta = {};\n}\n\nif (!(\"permissions\" in gdn)) {\n    gdn.permissions = {};\n}\n\nif (!(\"translations\" in gdn)) {\n    gdn.translations = {};\n}\n\nexport default gdn as IGdn;\n","/**\n * A reducer registry so that we can have dynamically loading reducers.\n *\n * @see http://nicolasgallagher.com/redux-modules-and-code-splitting/\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\nimport { logError } from \"@dashboard/utility\";\nimport { Reducer, ReducersMapObject } from \"redux\";\nimport { onReady } from \"@dashboard/application\";\n\nlet haveGot = false;\nlet wasReadyCalled = false;\nconst reducers = {};\n\nonReady(() => {\n    wasReadyCalled = true;\n});\n\nexport function registerReducer(name: string, reducer: Reducer) {\n    if (haveGot) {\n        logError(\"Cannot register reducer %s after reducers applied to the store.\", name);\n    } else {\n        reducers[name] = reducer;\n    }\n}\n\nexport function getReducers(): ReducersMapObject<any, any> {\n    haveGot = true;\n\n    if (!wasReadyCalled) {\n        logError(\"getReducers() was called before onReady\");\n    }\n\n    return {\n        ...reducers,\n    };\n}\n\n/**\n * @deprecated\n */\nconst reducerRegistry = {\n    register: registerReducer,\n    getReducers,\n};\n\nexport default reducerRegistry;\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\nimport { generateApiActionCreators, ActionsUnion, apiThunk } from \"@dashboard/state/utility\";\nimport { IGetArticleRequestBody, IGetArticleResponseBody } from \"@knowledge/@types/api\";\n\n// Getting an article\nexport const GET_ARTICLE_REQUEST = \"GET_ARTICLE_REQUEST\";\nexport const GET_ARTICLE_SUCCESS = \"GET_ARTICLE_SUCCESS\";\nexport const GET_ARTICLE_ERROR = \"GET_ARTICLE_ERROR\";\n\nexport const getArticleActions = generateApiActionCreators(\n    GET_ARTICLE_REQUEST,\n    GET_ARTICLE_SUCCESS,\n    GET_ARTICLE_ERROR,\n    // https://github.com/Microsoft/TypeScript/issues/10571#issuecomment-345402872\n    {} as IGetArticleResponseBody,\n    {} as IGetArticleRequestBody,\n);\n\nexport function getArticle(options: IGetArticleRequestBody) {\n    return apiThunk(\"get\", `/articles/${options.id}`, getArticleActions, options);\n}\n\nexport type ActionTypes = ActionsUnion<typeof getArticleActions>;\n","/**\n * State utility functions.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { IApiResponse, IApiError } from \"@dashboard/@types/api\";\nimport apiv2 from \"@dashboard/apiv2\";\nimport { AxiosResponse, AxiosError } from \"axios\";\n\n// Utility to pull a group of action types out of an actions object\nexport type ActionsUnion<A extends IActionCreatorsMapObject> = ReturnType<A[keyof A]>;\n\n// Utility to create a generic action action.\n\n/**\n * Utility to create an action with our a without a payload of a given type.\n * The action generated can have its type narrowed in a reducer switch statement if the type T matches.\n *\n * @see ActionsUnion\n *\n * @param type The action type.\n * @param payload The payload data.\n */\nexport function createAction<ActionType extends string>(type: ActionType): IAction<ActionType>;\nexport function createAction<ActionType extends string, Payload>(\n    type: ActionType,\n    payload: Payload,\n): IActionWithPayload<ActionType, Payload>;\nexport function createAction<ActionType extends string, Payload>(type: ActionType, payload?: Payload) {\n    return payload === undefined ? { type } : { type, payload };\n}\n\n/**\n * Create request, response, and error action creators.\n *\n * The dummy types are needed because typescript currently requires all generic types to be specified or all to be inferred. They cannot currently be mixed.\n *\n * @see https://github.com/Microsoft/TypeScript/issues/10571#issuecomment-345402872\n *\n * @param requestType The string for the request type. This should be a unique constant.\n * @param successType The string for the success type. This should be a unique constant.\n * @param errorType The string for the error type. This should be a unique constant.\n * @param dummyResponseType A placeholder to infer the type of the response. This isn't used for anything other than inferring a type.\n * @param dummyMetaType A placeholder to infer the type of the meta. This isn't used for anything other than inferringa  type.\n *\n * @example\n *\n * ```\n * const GET_THING_REQUEST = \"GET_THING_REQUEST\";\n * const GET_THING_SUCCESS = \"GET_THING_SUCCESS\";\n * const GET_THING_ERROR = \"GET_THING_ERROR\";\n * interface IThing { thing: string }\n * interface IThingOptions { page?: number }\n *\n * generateApiActionCreators(GET_THING_REQUEST, GET_THING_SUCCESS, GET_THING_ERROR, {} as IThing, {} as IThingOptions);\n * ```\n */\nexport function generateApiActionCreators<\n    RequestActionType extends string,\n    SuccessActionType extends string,\n    ErrorActionType extends string,\n    ResponseDataType,\n    Meta = any\n>(\n    requestType: RequestActionType,\n    successType: SuccessActionType,\n    errorType: ErrorActionType,\n    dummyResponseType?: ResponseDataType,\n    dummyMetaType?: Meta,\n): {\n    request: (meta?: Meta) => IApiAction<RequestActionType, Meta>;\n    success: (\n        payload: IApiResponse<ResponseDataType>,\n        meta?: Meta,\n    ) => IApiSuccessAction<SuccessActionType, Meta, ResponseDataType>;\n    error: (error: IApiError, meta?: Meta) => IApiErrorAction<ErrorActionType, Meta>;\n} {\n    return {\n        request: (meta: Meta) => createApiRequestAction(requestType, meta),\n        success: (response: IApiResponse<ResponseDataType>, meta: Meta) =>\n            createApiSuccessAction(successType, meta, response),\n        error: (error: IApiError, meta: Meta) => createApiErrorAction(errorType, meta, error),\n    };\n}\n\ntype GeneratedActionCreators = ReturnType<typeof generateApiActionCreators>;\n\n// Thunk types\ntype RequestType = \"get\" | \"post\" | \"put\" | \"delete\" | \"patch\";\nexport function apiThunk(\n    requestType: RequestType,\n    endpoint: string,\n    actionCreators: GeneratedActionCreators,\n    params: any,\n) {\n    return dispatch => {\n        dispatch(actionCreators.request(params));\n        apiv2[requestType as any](endpoint, params)\n            .then((response: AxiosResponse) => {\n                dispatch(actionCreators.success(response, params));\n            })\n            .catch((axiosError: AxiosError) => {\n                const error = axiosError.response ? axiosError.response.data : (axiosError as any);\n                dispatch(actionCreators.error(error));\n            });\n    };\n}\n\n// Action interfaces\nexport interface IAction<T extends string> {\n    type: T;\n}\n\nexport interface IActionWithPayload<T extends string, P> extends IAction<T> {\n    payload: P;\n}\n\nexport interface IActionCreator<T extends string> {\n    (): IAction<T>;\n}\n\ntype FunctionType = (...args: any[]) => any;\ninterface IActionCreatorsMapObject {\n    [actionCreator: string]: FunctionType;\n}\n\n// API Action interfaces\ninterface IApiAction<ActionType, Meta> {\n    type: ActionType;\n    meta: Meta;\n}\n\ninterface IApiErrorAction<ActionType, Meta> extends IApiAction<ActionType, Meta> {\n    payload: IApiError;\n}\n\ninterface IApiSuccessAction<ActionType, Meta, ResponseDataType> extends IApiAction<ActionType, Meta> {\n    payload: IApiResponse<ResponseDataType>;\n}\n\n/**\n * Create an API request action. For use in createApiActions().\n *\n * @param type The action's type.\n * @param meta The type of the meta for the action.\n */\nfunction createApiRequestAction<ActionType extends string, Meta>(\n    type: ActionType,\n    meta: Meta,\n): IApiAction<ActionType, Meta> {\n    return {\n        type,\n        meta,\n    };\n}\n\n/**\n * Create an API error action. For use in createApiActions().\n *\n * @param type The action's type.\n * @param meta The type of the meta for the action.\n * @param error An API error.\n */\nfunction createApiErrorAction<ActionType extends string, Meta>(\n    type: ActionType,\n    meta: Meta,\n    error: IApiError,\n): IApiErrorAction<ActionType, Meta> {\n    return {\n        type,\n        meta,\n        payload: error,\n    };\n}\n\n/**\n * Create an API success action. For use in createApiActions().\n *\n * @param type The action's type.\n * @param meta The type of the meta for the action.\n * @param payload The shape of the IApiResponse data.\n */\nfunction createApiSuccessAction<ActionType extends string, Meta, ResponseDataType>(\n    type: ActionType,\n    meta: Meta,\n    payload: IApiResponse<ResponseDataType>,\n): IApiSuccessAction<ActionType, Meta, ResponseDataType> {\n    return {\n        type,\n        meta,\n        payload,\n    };\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\nimport * as actions from \"@knowledge/pages/article/articlePageActions\";\nimport { LoadStatus } from \"@dashboard/@types/api\";\nimport { IArticlePageState } from \"@knowledge/@types/state\";\n\nconst initialState: IArticlePageState = {\n    status: LoadStatus.PENDING,\n};\n\nexport default function articlePageReducer(\n    state: IArticlePageState = initialState,\n    action: actions.ActionTypes,\n): IArticlePageState {\n    switch (action.type) {\n        case actions.GET_ARTICLE_REQUEST:\n            return {\n                ...state,\n                status: LoadStatus.LOADING,\n            };\n        case actions.GET_ARTICLE_SUCCESS:\n            return {\n                status: LoadStatus.SUCCESS,\n                data: {\n                    article: action.payload.data,\n                },\n                error: undefined,\n            };\n        case actions.GET_ARTICLE_ERROR:\n            return {\n                ...state,\n                status: LoadStatus.ERROR,\n                error: action.payload,\n            };\n        default:\n            return state;\n    }\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { combineReducers } from \"redux\";\nimport articlePageReducer from \"@knowledge/pages/article/articlePageReducer\";\n\nconst knowledgeReducer = combineReducers({\n    articlePage: articlePageReducer,\n});\n\nexport default knowledgeReducer;\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\nimport { createStore, compose, applyMiddleware, combineReducers, Store } from \"redux\";\nimport { getReducers } from \"@dashboard/state/reducerRegistry\";\nimport thunk from \"redux-thunk\";\nimport { IStoreState } from \"@dashboard/@types/state\";\n\n// There may be an initial state to import.\nconst initialState = {};\nconst initialActions = window.__ACTIONS__ || [];\n\nconst middleware = [thunk];\n\n// Browser may have redux dev tools installed, if so integrate with it.\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst enhancer = composeEnhancers(applyMiddleware(...middleware));\n\n// Build the store, add devtools extension support if it's available.\nlet store;\n\nexport default function getStore<S extends IStoreState = IStoreState>(): Store<S> {\n    if (store === undefined) {\n        // Get our reducers.\n        const reducer = combineReducers(getReducers());\n        store = createStore(reducer, initialState, enhancer);\n\n        // Dispatch initial actions returned from the server.\n        initialActions.forEach(store.dispatch);\n    }\n\n    return store;\n}\n","import { IUserFragment } from \"@dashboard/@types/api\";\n\n/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\nexport enum Format {\n    TEXT = \"text\",\n    TEXTEX = \"textex\",\n    MARKDOWN = \"markdown\",\n    WYSIWYG = \"wysiwyg\",\n    HTML = \"html\",\n    BBCODE = \"bbcode\",\n    RICH = \"rich\",\n}\n\ninterface IArticleRequiredData {\n    name: string; // The title of the article\n    locale: string; // The locale the article was written in\n    body: string; // The content of the article.\n    format: Format; // The format of the article.\n    articleCategoryID: number; //The category the article belongs in.\n}\n\ninterface IArticleDefaultedData {\n    seoName: string; // Displayed in the tag of the page. If empty will be just the name of the article.\n    seoDescription: string; // Displayed in the of the page. If empty will be calculated from the article body.\n    slug: string; // The path to the article from an import used to support redirects. This is not editable within the UI, but should be accessable via API in case we decide to make it an advanced option.\n    sort: number; // The manual sort order of the article.\n}\n\ninterface IArticleServerManagedData {\n    articleID: number;\n    insertUserID: number;\n    updateUserID: number;\n    insertUser?: IUserFragment;\n    updateUser?: IUserFragment;\n    dateInserted: string;\n    dateUpdated: string;\n    score: number; // The article score based on helpful reactions.\n    countViews: number; // The number of times the article has been viewed.\n    url: string; // Full URL to the resource\n    bodyRendered: string;\n}\n\ntype ArticleExpandFields = \"user\";\n\n// The record\nexport interface IArticle extends IArticleRequiredData, IArticleDefaultedData, IArticleServerManagedData {}\n\n// Request/Response interfaces\nexport interface IPostArticleRequestBody extends IArticleRequiredData, Partial<IArticleDefaultedData> {}\n\nexport interface IPostArticleResponseBody extends IArticle {}\n\nexport interface IGetArticleRequestBody {\n    id: number;\n    expand?: ArticleExpandFields[];\n}\n\nexport interface IGetArticleResponseBody extends IArticle {}\n\nexport interface IArticleFragment {\n    name: string; //The title of the article\n    updateUser: IUserFragment;\n    url: string; // Full URL to the resource\n    slug: string; // The path to the article from an import used to support redirects. This is not editable within the UI, but should be accessable via API in case we decide to make it an advanced option.\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport { BrowserRouter, Route } from \"react-router-dom\";\nimport Loadable from \"react-loadable\";\nimport { t } from \"@dashboard/application\";\n\nfunction Loading({ error, pastDelay, retry }) {\n    if (error) {\n        return (\n            <div>\n                {t(\"Error! \")}\n                <button onClick={retry}>{t(\"Retry\")}</button>\n            </div>\n        );\n    } else if (pastDelay) {\n        return <div>{t(\"Loading...\")}</div>;\n    } else {\n        return null;\n    }\n}\n\nconst ArticlePage = Loadable({\n    loading: Loading,\n    loader: () =>\n        import(/* webpackChunkName: \"plugins/knowledge/js/webpack/pages/kb/article\" */ \"@knowledge/pages/article/ArticlePage\"),\n});\n\nconst HomePage = Loadable({\n    loading: Loading,\n    loader: () =>\n        import(/* webpackChunkName: \"plugins/knowledge/js/webpack/pages/kb/index\" */ \"@knowledge/pages/home/HomePage\"),\n});\n\nexport default function KnowledgeRoutes() {\n    return (\n        <BrowserRouter>\n            <React.Fragment>\n                <Route exact path=\"/kb\" component={HomePage} />\n                <Route path=\"/kb/articles/:id\" component={ArticlePage} />\n            </React.Fragment>\n        </BrowserRouter>\n    );\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport { Provider } from \"react-redux\";\nimport getStore from \"@dashboard/state/getStore\";\nimport KnowledgeRoutes from \"@knowledge/KnowledgeRoutes\";\n\nexport default function KnowledgeApp() {\n    const store = getStore();\n    return (\n        <Provider store={store}>\n            <KnowledgeRoutes />\n        </Provider>\n    );\n}\n","/**\n * @author Adam Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license http://www.opensource.org/licenses/gpl-2.0.php GNU GPL v2\n */\n\n// Import stylesheets\nimport \"../../scss/knowledge-styles.scss\";\n\n// Vendors\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\n// Our own libraries\nimport { onReady } from \"@dashboard/application\";\nimport { registerReducer } from \"@dashboard/state/reducerRegistry\";\n\n// Knowledge Modules\nimport rootReducer from \"@knowledge/rootReducer\";\nimport getStore from \"@dashboard/state/getStore\";\nimport { IGetArticleResponseBody, Format } from \"@knowledge/@types/api\";\nimport { getArticleActions } from \"@knowledge/pages/article/articlePageActions\";\nimport KnowledgeApp from \"@knowledge/KnowledgeApp\";\n\nonReady(() => {\n    registerReducer(\"knowledge\", rootReducer);\n    const app = document.querySelector(\"#app\");\n    ReactDOM.render(<KnowledgeApp />, app);\n    // TODO: remove this once we have the API endpoints setup.\n    createDummyArticleData();\n});\n\n/**\n * Create dummy article data and insert it into the redux store.\n */\nfunction createDummyArticleData() {\n    const article: IGetArticleResponseBody = {\n        name: \"Test Dummy article\",\n        locale: \"en\",\n        body: \"[{}]\", // This shouldn't be needed for the view page.\n        format: Format.RICH,\n        articleCategoryID: 0,\n        seoName: \"Knowledge Base Site Name - Test Dummy Article\",\n        seoDescription:\n            \"You will find a common format across all the hosting directories. We have information structured on three bits – Shared Unix or Shared Linux Packages, Shared Windows Packages, Reseller Packages.\",\n        slug: \"test-dummy-article\",\n        sort: 0,\n        articleID: 0,\n        insertUserID: 0,\n        insertUser: {\n            userID: 0,\n            name: \"John Doe\",\n            photoUrl: \"https://us.v-cdn.net/5022541/uploads/userpics/314/p0CECMSM6JR3L.jpeg\",\n            dateLastActive: \"2018-08-20T13:08:49+00:00\",\n        },\n        updateUserID: 0,\n        dateInserted: \"2018-08-20T13:08:49+00:00\",\n        dateUpdated: \"2018-08-20T13:08:49+00:00\",\n        score: 17,\n        countViews: 10,\n        url: \"https://testsite.com/knowledge/articles/test-dummy-article-0\",\n        bodyRendered: dummyArticleContent,\n    };\n\n    const store = getStore();\n    store.dispatch(getArticleActions.success({ data: article, status: 200, headers: {} }, undefined));\n}\n\nconst dummyArticleContent = `\n<div class=\"_userContent\">\n    <h3 class=\"_pageSubTitle\">Overview</h3>\n\n    <p>You will find a common format across all the hosting directories. We have information structured on three bits – Shared Unix or Shared Linux Packages, Shared Windows Packages, Reseller Packages. Each Hosting Directory <s>Strikethrough</s> has a list of plans. Each plan is accompanies by a short synopsis of the plan details. Hence, expect to find the price, the web <strong>Bold</strong>, Data This is a <a href=\"#\">link</a> and the <em>Italic</em> platform.</p>\n\n    <ul>\n        <li>Unordered list example one</li>\n        <li>Unordered list example two</li>\n        <li>\n            Unordered list example two\n            <ul>\n                <li>Unordered list example two</li>\n                <li>Unordered list example two</li>\n            </ul>\n        </li>\n        <li>Unordered list example three</li>\n        <li>Unordered list example four</li>\n        <li>Unordered list example five</li>\n    </ul>\n\n    <p>At one shot, you would be able to sort these plans by any of the following factors – Price, rating, Web Space, Data Transfer. With such a high range of flexibility in filtering of data, you could almost be assured of making the right choice as long as your hosting company is considered.</p>\n\n    <h3 class=\"pageSubTitle\">Changing Themes</h3>\n\n    <p>We are one of the ones that provide web talk forums for you to discuss with other members of the forums. Basically, through these forums you could ask your questions about a particular plan and in essence also gather information on the best hosting plan for their needs. In fact, these forums would give you a good opportunity for you to get your questions answered.</p>\n\n    <ol>\n        <li>Ordered list example one</li>\n        <li>Ordered list example two</li>\n        <li>\n            Ordered list example two\n            <ol>\n                <li>Ordered list example two</li>\n                <li>Ordered list example two</li>\n            </ol>\n        </li>\n        <li>Ordered list example three</li>\n        <li>Ordered list example four</li>\n        <li>Ordered list example five</li>\n    </ol>\n\n    <p>Unlike some of the other web hosting reviews, this website offers you reviews for free. You just do need to pay us a dime for all the information you get. It does not matter if you search Shared Unix, Shared Linux Packages or Shared Windows Packages. Our idea is to provide you quality information. We leave the decision up to you once we think we have done a good job of the deal.</p>\n</div>\n`;\n"],"sourceRoot":""}