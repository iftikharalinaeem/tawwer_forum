{"version":3,"sources":["webpack://vanillaknowledge/./node_modules/classnames/index.js","webpack://vanillaknowledge/./applications/dashboard/src/scripts/embeds.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/dom.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/getty.ts","webpack://vanillaknowledge/./node_modules/timers-browserify/main.js","webpack://vanillaknowledge/./node_modules/setimmediate/setImmediate.js","webpack://vanillaknowledge/./node_modules/twemoji/2/twemoji.npm.js","webpack://vanillaknowledge/./node_modules/tabbable/index.js","webpack://vanillaknowledge/./node_modules/lodash/uniqueId.js","webpack://vanillaknowledge/./node_modules/lodash/toString.js","webpack://vanillaknowledge/./node_modules/lodash/_baseToString.js","webpack://vanillaknowledge/./node_modules/lodash/_arrayMap.js","webpack://vanillaknowledge/./node_modules/lodash/isArray.js","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/components/PanelArea.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/components/Panel.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/components/Breadcrumb.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/components/Breadcrumbs.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/components/PanelLayoutBreadcrumbs.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/layouts/PanelLayout.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/components/PanelWidget.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/components/Icons.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/components/BackLink.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/components/Heading.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/components/PageHeading.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/BaseEmbed.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/codepen.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/giphy.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/image.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/imgur.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/instagram.tsx","webpack://vanillaknowledge/./node_modules/shave/dist/shave.es.js","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/link.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/soundcloud.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/twitter.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/video.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/spoilers.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/CollapsableContent.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/embeds/quote.tsx","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/index.ts","webpack://vanillaknowledge/./applications/dashboard/src/scripts/app/user-content/emoji.ts","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/components/UserContent.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/layouts/components/Container.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/pages/article/ArticlePage.tsx","webpack://vanillaknowledge/../knowledge/plugins/knowledge/src/scripts/dummyPostHTML.ts"],"names":["__WEBPACK_AMD_DEFINE_RESULT__","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","key","call","join","module","exports","default","undefined","__webpack_require__","embedRenderers","embedComponents","registerEmbedRenderer","type","renderer","registerEmbedComponent","component","delegatedEventListeners","delegateEvent","eventName","filterSelector","callback","scopeSelector","scope","functionKey","toString","document","querySelector","Error","HTMLElement","eventHash","_dashboard_utility__WEBPACK_IMPORTED_MODULE_0__","Object","keys","includes","wrappedCallback","event","match","target","closest","addEventListener","dataMap","WeakMap","setData","element","value","initialValue","has","get","set","getData","defaultValue","attributeString","hasAttribute","getAttribute","testChar","emojiSupportedCache","emojiOptions","className","size","convertToSafeEmojiCharacters","stringOrNode","canvas","createElement","getContext","offset","window","devicePixelRatio","ctx","fillStyle","textBaseline","font","fillText","getImageData","data","isEmojiSupported","twemoji__WEBPACK_IMPORTED_MODULE_1___default","a","parse","loadEventCallbacks","rejectionCache","Map","ensureScript","scriptUrl","Promise","resolve","reject","existingScript","callbacks","head","getElementsByTagName","script_1","src","onerror","error","timeout_1","setTimeout","onload","clearTimeout","forEach","delete","appendChild","getElementHeight","previousBottomMargin","height","getBoundingClientRect","_a","getComputedStyle","marginTop","marginBottom","topHeight","parseInt","Math","max","bottomHeight","bottomMargin","_dashboard_application__WEBPACK_IMPORTED_MODULE_2__","initGettyEmbeds","_dashboard_embeds__WEBPACK_IMPORTED_MODULE_0__","renderGetty","convertGettyEmbeds","elements","contentElement","content","url","attributes","post","newLink","classList","add","setAttribute","id","style","width","setImmediate","loadGettyImages","gettyPosts","querySelectorAll","gettyPosts_1","__values","gettyPosts_1_1","next","sig","Number","items","capt","tld","i360","_b","sent","remove","fallbackCallback","c","gie","q","widgets","load","w","h","caption","isCaptioned","is360","_dashboard_dom__WEBPACK_IMPORTED_MODULE_1__","global","self","Function","prototype","Timeout","clearFn","this","_id","_clearFn","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","process","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","random","onGlobalMessage","source","indexOf","slice","attachEvent","installPostMessageImplementation","MessageChannel","channel","port1","port2","installMessageChannelImplementation","html","documentElement","script","onreadystatechange","removeChild","installReadyStateChangeImplementation","args","task","run","location","twemoji","base","ext","convert","fromCodePoint","codepoint","code","fromCharCode","toCodePoint","parentNode","replaceChild","createText","alt","what","how","str","options","replace","rawText","attrib","attrname","ret","iconId","grabTheRightIcon","concat","escapeHTML","node","modified","fragment","subnode","text","index","img","allText","grabAllTextNodes","nodeType","childNodes","shouldntBeParsed","test","nodeName","toLowerCase","createDocumentFragment","nodeValue","re","exec","Image","defaultImageSrcGenerator","returnNull","folder","toSizeSquaredAsset","lastIndex","result","escaper","&","<",">","'","\"","UFE0Fg","U200D","String","rescaper","clean","createTextNode","s","replacer","icon","m","unicodeSurrogates","sep","r","p","charCodeAt","protocol","el","candidate","candidateIndexAttr","candidateIndex","elementDocument","ownerDocument","basicTabbables","orderedTabbables","isUnavailable","isOffCache","computedStyle","defaultView","isOff","nodeComputedStyle","display","visibility","createIsUnavailable","candidateSelectors","candidates","includeContainer","matches","Element","msMatchesSelector","webkitMatchesSelector","some","candidateSelector","unshift","l","isNaN","tabIndex","tagName","disabled","tabbableNodes","sort","b","map","idCounter","prefix","baseToString","Symbol","arrayMap","isSymbol","INFINITY","symbolProto","symbolToString","array","iteratee","_super","PanelArea","__extends","render","props","children","react","classnames_default","defaultProps","Panel","Panel_extends","top","bottom","bottomPanel","components_PanelArea","Breadcrumb","Breadcrumb_extends","ariaCurrent","lastElement","href","title","name","aria-current","itemScope","itemType","itemProp","Breadcrumbs","Breadcrumbs_extends","crumbCount_1","crumbs","crumb","components_Breadcrumb","aria-label","application","PanelLayoutBreadcrumbs","PanelLayoutBreadcrumbs_extends","breadcrumbs","noLeftPanel","renderLeftPanel","components_Panel","hasAdjacentPanel","components_Breadcrumbs","__assign","PanelLayout","PanelLayout_extends","isMobile","device","DeviceChecker","MOBILE","renderedLeftPanel","leftTopComponents","leftBottomComponents","renderedRightPanel","rightTopComponents","DESKTOP","noRightPanel","components_PanelLayoutBreadcrumbs","middleTopComponents","middleBottomComponents","rightBottomComponents","isMain","PanelWidget","PanelWidget_extends","currentColorFill","fill","BackLink","BackLink_extends","react_default","xmlns","viewBox","d","leftChevron","PageTitle","Heading_extends","Tag","depth","pageTitle","isForWidget","PageHeading","PageHeading_extends","components_BackLink","backUrl","Heading","actions","BaseEmbed","BaseEmbed_extends","componentDidMount","onRenderComplete","Component","codepen_CodePenEmbed","CodePenEmbed","codepen_extends","scrolling","embeds_BaseEmbed","giphy_GiphyEmbed","GiphyEmbed","giphy_extends","postID","ratioStyle","maxWidth","paddingBottom","image_ImageEmbed","ImageEmbed","image_extends","sanitizedUrl","utility","rel","imgur_ImgurEmbed","ImgurEmbed","imgur_extends","dataID","isAlbum","data-id","convertImgurEmbeds","then","componentDidUpdate","images","from","dom","imgurEmbed","createIframe","imagesLength","tasks","instagram_InstagramEmbed","InstagramEmbed","instagram_extends","permaLink","versionNumber","data-instgrmPermalink","data-instgrmVersion","data-instgrmCaptioned","convertInstagramEmbeds","instgrm","Embeds","shave_es","maxHeight","opts","els","character","classname","spaces","charHtml","styles","span","textProp","textContent","fullText","words","split","heightStyle","maxHeightStyle","offsetHeight","min","pivot","insertAdjacentHTML","diff","link_LinkEmbed","LinkEmbed","link_extends","photoUrl","body","linkImage","aria-hidden","dateTime","timestamp","humanTime","truncateEmbedLinks","container","untruncatedText","innerHTML","excerpt","truncateTextBasedOnMaxHeight","soundcloud_SoundcloudEmbed","SoundcloudEmbed","soundcloud_extends","visual","showArtwork","embedUrl","frameBorder","renderTweet","twttr","statusID","contains","conversation","createTweet","convertTwitterEmbeds","tweets","promises","root","all","video_VideoEmbed","VideoEmbed","_this","clickHandler","setState","isPlaying","state","video_extends","ratioClass","paddingTop","thumbnail","data-url","onClick","role","PlayIcon","VideoIframe","defineProperty","shorthand","allow","allowFullScreen","strokeWidth","points","handlePlayVideo","dataset","react_dom_default","handleToggleSpoiler","spoilerContainer","toggle","CollapsableUserContent","selfRef","createRef","CollapsableContent_extends","overflow","dangerouslySetInnerHTML","calcMaxHeight","debounce_default","prevProps","__html","isCollapsed","getHeightInfo","current","needsCollapser","childElementCount","finalMaxHeight","lastBottomMargin","_c","done","child","preferredMaxHeight","_d","scrollHeight","setNeedsCollapser","PureComponent","mountQuoteEmbeds","embeds","embed","quoteData","JSON","quote_QuoteEmbed","inEditor","removeAttribute","embeds_1","quote_values","embeds_1_1","ChevronUpIcon","stroke-linecap","fill-rule","transform","ChevronDownIcon","QuoteEmbed","renderedBody","needsCollapseButton","toggleCollapseState","preventDefault","quote_extends","insertUser","uniqueId_default","bodyClasses","userUrl","titleTime","aria-pressed","CollapsableContent","format","stringify","bodyRaw","apiv2","response","quote","dateUpdated","dateInserted","Date","toLocaleString","year","month","day","weekday","hour","minute","initAllUserContent","scripts_embeds","getty","UserContent","UserContent_extends","Container","Container_extends","tag","__webpack_exports__","ArticlePage_ArticlePage","ArticlePage","menuOpen","ArticlePage_extends","articlePageState","status","api","SUCCESS","article","Fragment","components_Container","layouts_PanelLayout","dummyBreadcrumbData","toggleMobileMenu","components_PanelWidget","components_PageHeading","components_UserContent","dummyPostData","params","open","withRedux","es","knowledge","articlePage","DeviceContext"],"mappings":"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","file":"plugins/knowledge/js/webpack/pages/kb/article.min.js?4c1d6270918d45e1787d","sourcesContent":["/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","/**\n * Embed utility functions and types.\n * This file should have NO external dependencies other than javascript.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { IDiscussionEmbed, ICommentEmbed, IScrapeData } from \"@dashboard/@types/api\";\n\nexport const FOCUS_CLASS = \"embed-focusableElement\";\n\nexport type IQuoteEmbedData = IDiscussionEmbed | ICommentEmbed;\nexport type IEmbedData = IScrapeData;\n\nexport interface IEmbedElements {\n    root: HTMLElement;\n    content: HTMLElement;\n}\n\nexport type EmbedRenderer = (elements: IEmbedElements, data: IEmbedData, inEditor: boolean) => Promise<void>;\n\nexport interface IEmbedProps<T = IScrapeData> {\n    data: T;\n    inEditor: boolean;\n    onRenderComplete: () => void;\n}\n\nconst embedRenderers: {\n    [type: string]: EmbedRenderer;\n} = {};\nconst embedComponents: {\n    [type: string]: React.ComponentClass<IEmbedProps>;\n} = {};\n\n/**\n * Get all of the registered embed types.\n */\nexport function getEditorEmbedTypes() {\n    return Object.keys(embedRenderers);\n}\n\n/**\n * Register an embed rendering function.\n */\nexport function registerEmbedRenderer(type: string, renderer: EmbedRenderer) {\n    embedRenderers[type] = renderer;\n}\n\n/**\n * Register an embed rendering function.\n */\nexport function registerEmbedComponent(type: string, component: React.ComponentClass<IEmbedProps>) {\n    embedComponents[type] = component;\n}\n\n/**\n * Render an embed into a DOM node based on it's type.\n */\nexport function renderEmbed(elements: IEmbedElements, data: IEmbedData, inEditor = true): Promise<void> {\n    return new Promise((resolve, reject) => {\n        if (!data.type) {\n            throw new Error(\"The embed type was not provided.\");\n        }\n\n        if (data.type === \"link\") {\n            elements.root.classList.add(\"embedText\");\n            elements.content.classList.add(\"embedText-content\");\n            elements.content.classList.add(\"embedLink-content\");\n        }\n\n        if (data.type === \"quote\") {\n            elements.root.classList.add(\"embedText\");\n            elements.content.classList.add(\"embedText-content\");\n            elements.content.classList.add(\"embedQuote-content\");\n        }\n\n        const renderer = data.type && embedRenderers[data.type];\n        const Component = data.type && embedComponents[data.type];\n\n        if (renderer) {\n            return renderer(elements, data, inEditor);\n        } else if (Component) {\n            ReactDOM.render(\n                <Component data={data as IScrapeData} inEditor={inEditor} onRenderComplete={resolve} />,\n                elements.content,\n            );\n        } else {\n            throw new Error(\"Could not find a renderer for the embed type - \" + data.type);\n        }\n    });\n}\n","/**\n * Utilities that have a hard dependency on the DOM.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as utility from \"@dashboard/utility\";\nimport twemoji from \"twemoji\";\nimport tabbable from \"tabbable\";\nimport { logError, log } from \"@dashboard/utility\";\nimport debounce from \"lodash/debounce\";\n\n/**\n * Use the browser's built-in functionality to quickly and safely escape a string.\n *\n * @param str - The string to escape.\n *\n * @returns Escaped HTML.\n */\nexport function escapeHTML(str: string): string {\n    const div = document.createElement(\"div\");\n    div.appendChild(document.createTextNode(str));\n    return div.innerHTML;\n}\n\n/**\n * Use the browser's built-in functionality to quickly unescape a string.\n * UNSAFE with unsafe strings; only use on previously-escaped ones!\n *\n * @param escapedString - A previously escaped string.\n *\n * @returns The unescaped string.\n */\nexport function unescapeHTML(escapedString: string): string {\n    const div = document.createElement(\"div\");\n    div.innerHTML = escapedString;\n    const child = div.childNodes[0];\n    return child && child.nodeValue ? child.nodeValue : \"\";\n}\n\n/**\n * Add the hidden class and aria-hidden attribute to an Element.\n *\n * @param element - The DOM Element to modify.\n */\nexport function hideElement(element: Element) {\n    element.classList.add(\"u-isHidden\");\n    element.setAttribute(\"aria-hidden\", \"true\");\n}\n\n/**\n * Remove the hidden class and aria-hidden attribute to an Element.\n *\n * @param element - The DOM Element to modify.\n */\nexport function unhideElement(element: Element) {\n    element.classList.remove(\"u-isHidden\");\n    element.removeAttribute(\"aria-hidden\");\n}\n\n/**\n * Check if an element is visible or not.\n *\n * @param element - The element to check.\n *\n * @returns The visibility.\n */\nexport function elementIsVisible(element: HTMLElement): boolean {\n    return !!(element.offsetWidth || element.offsetHeight || element.getClientRects().length);\n}\n\n/**\n * Get the form data out of a form element.\n *\n * @param {Element} formElement - The element to get the data out of.\n *\n * @returns {Object}\n */\nexport function getFormData(formElement) {\n    if (!(formElement instanceof HTMLFormElement)) {\n        return {};\n    }\n\n    const data = new FormData(formElement) as any;\n    const result = {};\n\n    data.forEach((key, value) => {\n        result[key] = value;\n    });\n\n    return result;\n}\n\nconst delegatedEventListeners = {};\n\n/**\n * Create an event listener using event delegation.\n *\n * @param eventName - The Event to listen for.\n * @param filterSelector - A CSS selector to match against.\n * @param callback - The callback function. This gets passed the fired event.\n * @param scopeSelector - And element to scope the event listener to.\n *\n * @returns The hash of the event. Save this to use removeDelegatedEvent().\n */\nexport function delegateEvent(\n    eventName: string,\n    filterSelector: string,\n    callback: (event: Event, triggeringElement: HTMLElement) => boolean | void,\n    scopeSelector?: string | HTMLElement,\n): string | undefined {\n    let functionKey = eventName + filterSelector + callback.toString();\n\n    let scope;\n\n    if (typeof scopeSelector === \"string\") {\n        scope = document.querySelector(scopeSelector);\n\n        if (!scope) {\n            throw new Error(`Unable to find element in the document for scopeSelector: ${scopeSelector}`);\n        } else {\n            functionKey += scopeSelector;\n        }\n    } else if (scopeSelector instanceof HTMLElement) {\n        scope = scopeSelector;\n    } else {\n        scope = document;\n    }\n\n    const eventHash = utility.hashString(functionKey).toString();\n\n    if (!Object.keys(delegatedEventListeners).includes(eventHash)) {\n        const wrappedCallback = event => {\n            // Get the nearest DOMNode that matches the given selector.\n            const match = filterSelector ? event.target.closest(filterSelector) : event.target;\n\n            if (match) {\n                // Call the callback with the matching element as the context.\n                return callback.call(match, event, match);\n            }\n        };\n\n        const listener = scope.addEventListener(eventName, wrappedCallback);\n        delegatedEventListeners[eventHash] = {\n            scope,\n            eventName,\n            wrappedCallback,\n        };\n        return eventHash;\n    }\n}\n\n/**\n * Remove a delegated event listener.\n *\n * @param eventHash - The event hash passed from delegateEvent().\n */\nexport function removeDelegatedEvent(eventHash: string) {\n    const { scope, eventName, wrappedCallback } = delegatedEventListeners[eventHash];\n    scope.removeEventListener(eventName, wrappedCallback);\n    delete delegatedEventListeners[eventHash];\n}\n\nexport function removeAllDelegatedEvents() {\n    Object.keys(delegatedEventListeners).forEach(key => {\n        removeDelegatedEvent(key);\n    });\n}\n\n/**\n * Toggle any attribute on an element.\n *\n * @param element - The element to toggle on.\n * @param attribute - The attribute to toggle.\n */\nexport function toggleAttribute(element: Element, attribute: string) {\n    const newValue = element.getAttribute(attribute) === \"false\";\n    element.setAttribute(attribute, newValue);\n}\n\nconst dataMap = new WeakMap();\n\n/**\n * Set a piece of data specific to a DOM Element. Similar to `$.data`.\n *\n * @param element - The DOM Element to assosciate the data with.\n * @param key - The key to assosciate the data with.\n * @param value - The value to store.\n */\nexport function setData(element: Element, key: string, value: any) {\n    const initialValue = dataMap.has(element) ? dataMap.get(element) : {};\n    initialValue[key] = value;\n\n    dataMap.set(element, initialValue);\n}\n\n/**\n * Get a piece of data specific to a DOM Element. Similar to `$.data`.\n *\n * @param element - The DOM Element to lookup.\n * @param key - The key to lookup.\n * @param defaultValue - A value to use if the element or key aren't found.\n */\nexport function getData(element: Element, key: string, defaultValue?: any) {\n    if (dataMap.has(element) && dataMap.get(element)[key]) {\n        return dataMap.get(element)[key];\n    }\n\n    const attributeString = `data-${key}`;\n\n    if (element.hasAttribute(attributeString)) {\n        return element.getAttribute(attributeString);\n    }\n\n    return defaultValue;\n}\n\n/**\n * Get an HTML element from a CSS selector or DOM Node.\n *\n * @param {string|Node} selectorOrElement - A CSS selector or an HTML element.\n *\n * @throws {Error} - If no element was found.\n * @returns {HTMLElement} - An HTMLElement no matter what.\n */\nexport function ensureHtmlElement(selectorOrElement) {\n    if (typeof selectorOrElement === \"string\") {\n        selectorOrElement = document.querySelector(selectorOrElement);\n    }\n\n    if (!(selectorOrElement instanceof HTMLElement)) {\n        throw new Error(`HTMLElement could not be found for ${selectorOrElement}.`);\n    }\n\n    return selectorOrElement;\n}\n\n// Test Char for Emoji 5.0\nconst testChar = \"\\uD83E\\uDD96\"; // U+1F996 T-Rex -> update test character with new emoji version support.\n\nlet emojiSupportedCache: boolean | null = null;\n\nexport function isEmojiSupported() {\n    if (emojiSupportedCache !== null) {\n        return emojiSupportedCache;\n    }\n\n    if (process.env.NODE_ENV !== \"test\") {\n        // Test environment\n        const canvas = document.createElement(\"canvas\");\n        if (canvas.getContext && canvas.getContext(\"2d\")) {\n            const pixelRatio = window.devicePixelRatio || 1;\n            const offset = 12 * pixelRatio;\n            const ctx = canvas.getContext(\"2d\");\n            ctx!.fillStyle = \"#f00\";\n            ctx!.textBaseline = \"top\";\n            ctx!.font = \"32px Arial\";\n            ctx!.fillText(testChar, 0, 0);\n            emojiSupportedCache = ctx!.getImageData(offset, offset, 1, 1).data[0] !== 0;\n        } else {\n            emojiSupportedCache = false;\n        }\n    } else {\n        emojiSupportedCache = true;\n    }\n\n    return emojiSupportedCache;\n}\n\nconst emojiOptions = {\n    className: \"fallBackEmoji\",\n    size: \"72x72\",\n};\n\n/**\n * Returns either native emoji or fallback image\n *\n * @param stringOrNode - A DOM Node or string to convert.\n */\nexport function convertToSafeEmojiCharacters(stringOrNode: string | Node) {\n    if (isEmojiSupported()) {\n        return stringOrNode;\n    }\n    return twemoji.parse(stringOrNode, emojiOptions);\n}\n\n// A weakmap so we can store multiple load callbacks per script.\nconst loadEventCallbacks: WeakMap<Node, Array<(event) => void>> = new WeakMap();\nconst rejectionCache: Map<string, Error> = new Map();\n\n/**\n * Dynamically load a javascript file.\n */\nexport function ensureScript(scriptUrl: string) {\n    return new Promise((resolve, reject) => {\n        const existingScript: HTMLScriptElement | null = document.querySelector(`script[src='${scriptUrl}']`);\n        if (rejectionCache.has(scriptUrl)) {\n            reject(rejectionCache.get(scriptUrl));\n        }\n        if (existingScript) {\n            if (loadEventCallbacks.has(existingScript)) {\n                // Add another resolveCallback into the weakmap.\n                const callbacks = loadEventCallbacks.get(existingScript);\n                callbacks && callbacks.push(resolve);\n            } else {\n                // Script is already loaded. Resolve immediately.\n                resolve();\n            }\n        } else {\n            // The script doesn't exist. Lets create it.\n            const head = document.getElementsByTagName(\"head\")[0];\n            const script = document.createElement(\"script\");\n            script.type = \"text/javascript\";\n            script.src = scriptUrl;\n            script.onerror = (event: ErrorEvent) => {\n                const error = new Error(\"Failed to load a required embed script\");\n                rejectionCache.set(scriptUrl, error);\n                reject(error);\n            };\n\n            const timeout = setTimeout(() => {\n                const error = new Error(`Loading of the script ${scriptUrl} has timed out.`);\n                rejectionCache.set(scriptUrl, error);\n                reject(error);\n            }, 10000);\n\n            loadEventCallbacks.set(script, [resolve]);\n\n            script.onload = event => {\n                clearTimeout(timeout);\n                const callbacks = loadEventCallbacks.get(script);\n                callbacks && callbacks.forEach(callback => callback(event));\n                loadEventCallbacks.delete(script);\n            };\n\n            head.appendChild(script);\n        }\n    });\n}\n\ninterface ITabbableOptions {\n    root: Element;\n    excludedElements: Element[];\n    excludedRoots: Element[];\n    reverse: boolean;\n    fromElement: Element;\n    allowLooping: boolean;\n}\n\n/**\n * Get the next tabbable item within a given tabindex.\n *\n * WARNING: Performance can be poor if you pass many excluded roots and do not\n * sufficiently narrow the tree your are looking in.\n *\n * @param options\n * @property root - The root element to look in.\n * @property excludedElements - Elements to ignore.\n * @property excludedRoots - These element's children will be ignored.\n * @property reverse - True to get the previous element instead.\n * @property fromElement - The currently focused element.\n * @property allowLooping - Whether or not the focus should loop around from beginning <-> end.\n */\nexport function getNextTabbableElement(options?: Partial<ITabbableOptions>): HTMLElement | null {\n    const defaultTabbableOptions: ITabbableOptions = {\n        root: document.documentElement,\n        excludedElements: [],\n        excludedRoots: [],\n        reverse: false,\n        fromElement: document.activeElement,\n        allowLooping: true,\n    };\n\n    // Merge the passed options and the defaults.\n    const finalOptions = {\n        ...defaultTabbableOptions,\n        ...options,\n    } as ITabbableOptions;\n\n    if (!(finalOptions.fromElement instanceof HTMLElement)) {\n        logError(\"Unable to tab to next element, `fromElement` given is not valid: \", finalOptions.fromElement);\n        return null;\n    }\n\n    const tabbables = tabbable(finalOptions.root).filter((tabbableElement: Element) => {\n        // We want to excempt items that are the active item or a parent of the active item\n        // because otherwise we would not be able to tab away from them.\n        const elementIsActiveOrChildOfActive =\n            finalOptions.fromElement === tabbableElement || tabbableElement.contains(finalOptions.fromElement);\n\n        if (!elementIsActiveOrChildOfActive) {\n            if (finalOptions.excludedElements.includes(tabbableElement)) {\n                return false;\n            }\n            for (const excludedRoot of finalOptions.excludedRoots) {\n                if (excludedRoot !== tabbableElement && excludedRoot.contains(tabbableElement)) {\n                    return false;\n                }\n            }\n        }\n\n        return true;\n    });\n\n    const currentTabIndex = tabbables.indexOf(finalOptions.fromElement);\n\n    if (currentTabIndex < 0) {\n        return null;\n    }\n\n    let targetIndex = finalOptions.reverse ? currentTabIndex - 1 : currentTabIndex + 1;\n\n    if (finalOptions.allowLooping) {\n        // Loop over the beginning and ends\n        if (targetIndex < 0) {\n            targetIndex = tabbables.length - 1;\n        } else if (targetIndex >= tabbables.length) {\n            targetIndex = 0;\n        }\n    }\n\n    return tabbables[targetIndex] || null;\n}\n\nfunction checkDomTreeWasClicked(rootNode: Element | null, clickedElement: Element) {\n    return rootNode && clickedElement && (rootNode.contains(clickedElement as Element) || rootNode === clickedElement);\n}\n\n/**\n * Determine if the currently focused element is somewhere inside of (or the same as)\n * a given Element.\n *\n * @param rootNode - The root node to look in.\n */\nfunction checkDomTreeHasFocus(rootNode: Element | null, event: FocusEvent, callback: (hasFocus: boolean) => void) {\n    setTimeout(() => {\n        const possibleTargets = [\n            // NEEDS TO COME FIRST, because safari will populate relatedTarget on focusin, and its not what we're looking for.\n            document.activeElement, // IE11, Safari.\n            event.relatedTarget as Element, // Chrome (The actual standard)\n            (event as any).explicitOriginalTarget, // Firefox\n        ];\n\n        let activeElement = null;\n        for (const target of possibleTargets) {\n            if (target && target !== document.body) {\n                activeElement = target;\n                break;\n            }\n        }\n\n        if (activeElement !== null) {\n            const hasFocus =\n                rootNode && activeElement && (activeElement === rootNode || rootNode.contains(activeElement));\n\n            // We will only invalidate based on something actually getting focus.\n            callback(!!hasFocus);\n        }\n    }, 0);\n}\n\n/**\n * Register a callback for focusin and focusin out events. The main improvement here over registering\n * the listeners yourself is that the events fire for the whole tree as 1 item instead of as\n * individual notes.\n *\n * This is particularly useful when you want to track focus leaving or enterring a component\n * without caring about the individual contents inside.\n *\n * @param rootNode - The root dom node to watch on.\n * @param callback - A callback for when the tree focuses and blurs.\n */\nexport function watchFocusInDomTree(rootNode: Element, callback: (hasFocus: boolean) => void) {\n    rootNode.addEventListener(\n        \"focusout\",\n        (event: FocusEvent) => {\n            checkDomTreeHasFocus(rootNode, event, hasFocus => {\n                !hasFocus && callback(false);\n            });\n        },\n        true,\n    );\n\n    rootNode.addEventListener(\n        \"focusin\",\n        (event: FocusEvent) => {\n            checkDomTreeHasFocus(rootNode, event, hasFocus => {\n                hasFocus && callback(true);\n            });\n        },\n        true,\n    );\n\n    document.addEventListener(\"click\", event => {\n        const triggeringElement = event.target as Element;\n        const wasClicked = checkDomTreeWasClicked(rootNode, triggeringElement);\n        if (!wasClicked) {\n            callback(false);\n        }\n    });\n}\n\n/**\n * Sticky header handling\n */\nfunction handleStickyHeaderState(element, data) {\n    const goingDown = data.lastScrollPos < data.currentScrollPos;\n    const isAtTopOfPage = data.currentScrollPos === 0;\n    const elementHeight = element.offsetHeight;\n    const isPastHeader =\n        element.style.position !== \"fixed\" && element.offsetTop + elementHeight <= data.currentScrollPos;\n    const elementTop = element.style.top !== \"\" ? parseInt(element.style.top, 10) : false;\n\n    element.classList.toggle(\"isScrollingDown\", goingDown);\n    element.classList.toggle(\"isScrollingUp\", !goingDown);\n    element.classList.toggle(\"isAtTop\", isAtTopOfPage);\n\n    if (goingDown) {\n        element.style.position = \"\";\n        if (isPastHeader) {\n            element.style.top = `${data.currentScrollPos - elementHeight}px`;\n        } else {\n            if (!elementTop) {\n                element.style.top = `${data.currentScrollPos}px`;\n            }\n        }\n    } else {\n        // going UP\n        if (data.currentScrollPos <= elementTop) {\n            element.style.top = \"\";\n            element.style.position = \"fixed\";\n        }\n    }\n}\n\n/**\n * Vanilla's default way to handle sticky headers\n */\nexport function stickyHeader() {\n    const header = document.querySelector(\".stickyHeader\");\n    if (header !== null) {\n        let currentScrollPos = Math.max(window.scrollY, 0);\n        let lastScrollPos = -1;\n\n        handleStickyHeaderState(header, {\n            currentScrollPos,\n            lastScrollPos,\n        });\n\n        window.addEventListener(\"scroll\", e => {\n            debounce(\n                () => {\n                    window.requestAnimationFrame(data => {\n                        lastScrollPos = currentScrollPos;\n                        currentScrollPos = Math.max(window.scrollY, 0);\n                        handleStickyHeaderState(header, {\n                            currentScrollPos,\n                            lastScrollPos,\n                        });\n                    });\n                },\n                100,\n                {\n                    leading: true,\n                },\n            )();\n        });\n    } else {\n        utility.log(\"No sticky header found\");\n    }\n}\n\n/**\n * Handler for an file being dragged and dropped.\n *\n * @param event - https://developer.mozilla.org/en-US/docs/Web/API/DragEvent\n */\nexport function getDraggedImage(event: DragEvent): File | undefined {\n    if (event.dataTransfer && event.dataTransfer.files && event.dataTransfer.files.length) {\n        event.preventDefault();\n        const files = Array.from(event.dataTransfer.files);\n\n        // Currently only 1 file is supported.\n        const mainFile = files[0];\n        return mainFile;\n    }\n}\n\n/**\n * Handler for an file being pasted.\n *\n * @param event - https://developer.mozilla.org/en-US/docs/Web/API/DragEvent\n */\nexport function getPastedImage(event: ClipboardEvent): File | undefined | null {\n    if (event.clipboardData && event.clipboardData.items && event.clipboardData.items.length) {\n        const files = Array.from(event.clipboardData.items)\n            .map((item: any) => (item.getAsFile ? item.getAsFile() : null))\n            .filter(Boolean);\n\n        if (files.length > 0) {\n            event.preventDefault();\n            // Currently only 1 file is supported.\n            const mainFile = files[0];\n            return mainFile;\n        }\n    }\n}\n\n/**\n * Calculate the height of element with simulated margin collapse.\n *\n * This is ideal for getting the calculate height of a fixed number of items. (not the entire parent).\n *\n * It considers:\n * - Element height\n * - Padding\n * - Borders\n * - Margins\n * - Margin collapsing.\n *\n * @param element - The element to measure\n * @param previousBottomMargin - The bottom margin of the previous element. You can use the returned bottom margin from this function to get this.\n */\nexport function getElementHeight(\n    element: Element,\n    previousBottomMargin: number = 0,\n): {\n    height: number;\n    bottomMargin: number;\n} {\n    const height = element.getBoundingClientRect().height;\n    const { marginTop, marginBottom } = window.getComputedStyle(element);\n\n    let topHeight = marginTop ? parseInt(marginTop, 10) : 0;\n    // Simulate a margin-collapsed height.\n    topHeight = Math.max(topHeight - previousBottomMargin, 0);\n\n    const bottomHeight = marginBottom ? parseInt(marginBottom, 10) : 0;\n    const finalHeight = height + topHeight + bottomHeight;\n\n    return {\n        height: finalHeight,\n        bottomMargin: bottomHeight,\n    };\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { IEmbedData, IEmbedElements, registerEmbedRenderer } from \"@dashboard/embeds\";\nimport { ensureScript } from \"@dashboard/dom\";\nimport { onContent, onReady } from \"@dashboard/application\";\nimport { IScrapeData } from \"@dashboard/@types/api\";\n\nexport function initGettyEmbeds() {\n    registerEmbedRenderer(\"getty\", renderGetty);\n    onReady(convertGettyEmbeds);\n    onContent(convertGettyEmbeds);\n}\n\n/**\n * Render a single getty embed.\n */\nexport async function renderGetty(elements: IEmbedElements, data: IScrapeData) {\n    const contentElement = elements.content;\n    const url = data.attributes.post;\n    const newLink = document.createElement(\"a\");\n    newLink.classList.add(\"gie-single\");\n    newLink.setAttribute(\"href\", \"http://www.gettyimages.ca/detail/\" + url);\n    newLink.setAttribute(\"id\", data.attributes.id);\n    contentElement.style.width = `${data.width}px`;\n    contentElement.appendChild(newLink);\n    setImmediate(() => {\n        void loadGettyImages(data);\n    });\n}\n\n/**\n * Renders posted getty embeds.\n */\nexport async function convertGettyEmbeds() {\n    const gettyPosts = document.querySelectorAll(\".js-gettyEmbed\");\n    if (gettyPosts.length > 0) {\n        for (const post of gettyPosts) {\n            const url = post.getAttribute(\"href\") || \"\";\n            const id = post.getAttribute(\"id\");\n            const sig = post.getAttribute(\"data-sig\");\n            const height = Number(post.getAttribute(\"data-height\")) || 1;\n            const width = Number(post.getAttribute(\"data-width\")) || 1;\n            const items = post.getAttribute(\"data-items\");\n            const capt = post.getAttribute(\"data-capt\");\n            const tld = post.getAttribute(\"data-tld\");\n            const i360 = post.getAttribute(\"data-is360\");\n            const data: IEmbedData = {\n                type: \"getty\",\n                url,\n                height,\n                width,\n                attributes: { id, sig, items, capt, tld, i360 },\n            };\n            await loadGettyImages(data);\n            post.classList.remove(\"js-gettyEmbed\");\n        }\n    }\n}\n\n/**\n * Loads getty embeds into a global object and fire getty's widget.js.\n * @param data\n * @returns {Promise<void>}\n */\nasync function loadGettyImages(data) {\n    const fallbackCallback = c => {\n        (window.gie.q = window.gie.q || []).push(c);\n    };\n    // This is part of Getty's embed code, we need to ensure embeds are loaded and sent to their widget.js script.\n    window.gie = window.gie || fallbackCallback;\n\n    window.gie(() => {\n        window.gie.widgets.load({\n            id: data.attributes.id,\n            sig: data.attributes.sig,\n            w: data.width + \"px\",\n            h: data.height + \"px\",\n            items: data.attributes.items,\n            caption: data.attributes.isCaptioned,\n            tld: data.attributes.tld,\n            is360: data.attributes.is360,\n        });\n    });\n\n    /// DO NOT IGNORE\n    /// This will turn totally sideways if window.gie is not populated before the script is initially loaded.\n    await ensureScript(\"//embed-cdn.gettyimages.com/widgets.js\");\n}\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var location = global.location || {};\n/*jslint indent: 2, browser: true, bitwise: true, plusplus: true */\nvar twemoji = (function (\n  /*! Copyright Twitter Inc. and other contributors. Licensed under MIT *//*\n    https://github.com/twitter/twemoji/blob/gh-pages/LICENSE\n  */\n\n  // WARNING:   this file is generated automatically via\n  //            `node twemoji-generator.js`\n  //            please update its `createTwemoji` function\n  //            at the bottom of the same file instead.\n\n) {\n  'use strict';\n\n  /*jshint maxparams:4 */\n\n  var\n    // the exported module object\n    twemoji = {\n\n\n    /////////////////////////\n    //      properties     //\n    /////////////////////////\n\n      // default assets url, by default will be Twitter Inc. CDN\n      base: 'https://twemoji.maxcdn.com/2/',\n\n      // default assets file extensions, by default '.png'\n      ext: '.png',\n\n      // default assets/folder size, by default \"72x72\"\n      // available via Twitter CDN: 72\n      size: '72x72',\n\n      // default class name, by default 'emoji'\n      className: 'emoji',\n\n      // basic utilities / helpers to convert code points\n      // to JavaScript surrogates and vice versa\n      convert: {\n\n        /**\n         * Given an HEX codepoint, returns UTF16 surrogate pairs.\n         *\n         * @param   string  generic codepoint, i.e. '1F4A9'\n         * @return  string  codepoint transformed into utf16 surrogates pair,\n         *          i.e. \\uD83D\\uDCA9\n         *\n         * @example\n         *  twemoji.convert.fromCodePoint('1f1e8');\n         *  // \"\\ud83c\\udde8\"\n         *\n         *  '1f1e8-1f1f3'.split('-').map(twemoji.convert.fromCodePoint).join('')\n         *  // \"\\ud83c\\udde8\\ud83c\\uddf3\"\n         */\n        fromCodePoint: fromCodePoint,\n\n        /**\n         * Given UTF16 surrogate pairs, returns the equivalent HEX codepoint.\n         *\n         * @param   string  generic utf16 surrogates pair, i.e. \\uD83D\\uDCA9\n         * @param   string  optional separator for double code points, default='-'\n         * @return  string  utf16 transformed into codepoint, i.e. '1F4A9'\n         *\n         * @example\n         *  twemoji.convert.toCodePoint('\\ud83c\\udde8\\ud83c\\uddf3');\n         *  // \"1f1e8-1f1f3\"\n         *\n         *  twemoji.convert.toCodePoint('\\ud83c\\udde8\\ud83c\\uddf3', '~');\n         *  // \"1f1e8~1f1f3\"\n         */\n        toCodePoint: toCodePoint\n      },\n\n\n    /////////////////////////\n    //       methods       //\n    /////////////////////////\n\n      /**\n       * User first: used to remove missing images\n       * preserving the original text intent when\n       * a fallback for network problems is desired.\n       * Automatically added to Image nodes via DOM\n       * It could be recycled for string operations via:\n       *  $('img.emoji').on('error', twemoji.onerror)\n       */\n      onerror: function onerror() {\n        if (this.parentNode) {\n          this.parentNode.replaceChild(createText(this.alt, false), this);\n        }\n      },\n\n      /**\n       * Main method/logic to generate either <img> tags or HTMLImage nodes.\n       *  \"emojify\" a generic text or DOM Element.\n       *\n       * @overloads\n       *\n       * String replacement for `innerHTML` or server side operations\n       *  twemoji.parse(string);\n       *  twemoji.parse(string, Function);\n       *  twemoji.parse(string, Object);\n       *\n       * HTMLElement tree parsing for safer operations over existing DOM\n       *  twemoji.parse(HTMLElement);\n       *  twemoji.parse(HTMLElement, Function);\n       *  twemoji.parse(HTMLElement, Object);\n       *\n       * @param   string|HTMLElement  the source to parse and enrich with emoji.\n       *\n       *          string              replace emoji matches with <img> tags.\n       *                              Mainly used to inject emoji via `innerHTML`\n       *                              It does **not** parse the string or validate it,\n       *                              it simply replaces found emoji with a tag.\n       *                              NOTE: be sure this won't affect security.\n       *\n       *          HTMLElement         walk through the DOM tree and find emoji\n       *                              that are inside **text node only** (nodeType === 3)\n       *                              Mainly used to put emoji in already generated DOM\n       *                              without compromising surrounding nodes and\n       *                              **avoiding** the usage of `innerHTML`.\n       *                              NOTE: Using DOM elements instead of strings should\n       *                              improve security without compromising too much\n       *                              performance compared with a less safe `innerHTML`.\n       *\n       * @param   Function|Object  [optional]\n       *                              either the callback that will be invoked or an object\n       *                              with all properties to use per each found emoji.\n       *\n       *          Function            if specified, this will be invoked per each emoji\n       *                              that has been found through the RegExp except\n       *                              those follwed by the invariant \\uFE0E (\"as text\").\n       *                              Once invoked, parameters will be:\n       *\n       *                                iconId:string     the lower case HEX code point\n       *                                                  i.e. \"1f4a9\"\n       *\n       *                                options:Object    all info for this parsing operation\n       *\n       *                                variant:char      the optional \\uFE0F (\"as image\")\n       *                                                  variant, in case this info\n       *                                                  is anyhow meaningful.\n       *                                                  By default this is ignored.\n       *\n       *                              If such callback will return a falsy value instead\n       *                              of a valid `src` to use for the image, nothing will\n       *                              actually change for that specific emoji.\n       *\n       *\n       *          Object              if specified, an object containing the following properties\n       *\n       *            callback   Function  the callback to invoke per each found emoji.\n       *            base       string    the base url, by default twemoji.base\n       *            ext        string    the image extension, by default twemoji.ext\n       *            size       string    the assets size, by default twemoji.size\n       *\n       * @example\n       *\n       *  twemoji.parse(\"I \\u2764\\uFE0F emoji!\");\n       *  // I <img class=\"emoji\" draggable=\"false\" alt=\"❤️\" src=\"/assets/2764.gif\"/> emoji!\n       *\n       *\n       *  twemoji.parse(\"I \\u2764\\uFE0F emoji!\", function(iconId, options) {\n       *    return '/assets/' + iconId + '.gif';\n       *  });\n       *  // I <img class=\"emoji\" draggable=\"false\" alt=\"❤️\" src=\"/assets/2764.gif\"/> emoji!\n       *\n       *\n       * twemoji.parse(\"I \\u2764\\uFE0F emoji!\", {\n       *   size: 72,\n       *   callback: function(iconId, options) {\n       *     return '/assets/' + options.size + '/' + iconId + options.ext;\n       *   }\n       * });\n       *  // I <img class=\"emoji\" draggable=\"false\" alt=\"❤️\" src=\"/assets/72x72/2764.png\"/> emoji!\n       *\n       */\n      parse: parse,\n\n      /**\n       * Given a string, invokes the callback argument\n       *  per each emoji found in such string.\n       * This is the most raw version used by\n       *  the .parse(string) method itself.\n       *\n       * @param   string    generic string to parse\n       * @param   Function  a generic callback that will be\n       *                    invoked to replace the content.\n       *                    This calback wil receive standard\n       *                    String.prototype.replace(str, callback)\n       *                    arguments such:\n       *  callback(\n       *    rawText,  // the emoji match\n       *  );\n       *\n       *                    and others commonly received via replace.\n       */\n      replace: replace,\n\n      /**\n       * Simplify string tests against emoji.\n       *\n       * @param   string  some text that might contain emoji\n       * @return  boolean true if any emoji was found, false otherwise.\n       *\n       * @example\n       *\n       *  if (twemoji.test(someContent)) {\n       *    console.log(\"emoji All The Things!\");\n       *  }\n       */\n      test: test\n    },\n\n    // used to escape HTML special chars in attributes\n    escaper = {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      \"'\": '&#39;',\n      '\"': '&quot;'\n    },\n\n    // RegExp based on emoji's official Unicode standards\n    // http://www.unicode.org/Public/UNIDATA/EmojiSources.txt\n    re = /\\ud83d[\\udc68-\\udc69](?:\\ud83c[\\udffb-\\udfff])?\\u200d(?:\\u2695\\ufe0f|\\u2696\\ufe0f|\\u2708\\ufe0f|\\ud83c[\\udf3e\\udf73\\udf93\\udfa4\\udfa8\\udfeb\\udfed]|\\ud83d[\\udcbb\\udcbc\\udd27\\udd2c\\ude80\\ude92])|(?:\\ud83c[\\udfcb\\udfcc]|\\ud83d[\\udd74\\udd75]|\\u26f9)(?:\\ufe0f|\\ud83c[\\udffb-\\udfff])\\u200d[\\u2640\\u2642]\\ufe0f|(?:\\ud83c[\\udfc3\\udfc4\\udfca]|\\ud83d[\\udc6e\\udc71\\udc73\\udc77\\udc81\\udc82\\udc86\\udc87\\ude45-\\ude47\\ude4b\\ude4d\\ude4e\\udea3\\udeb4-\\udeb6]|\\ud83e[\\udd26\\udd35\\udd37-\\udd39\\udd3d\\udd3e\\uddd6-\\udddd])(?:\\ud83c[\\udffb-\\udfff])?\\u200d[\\u2640\\u2642]\\ufe0f|\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d\\udc68|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc8b\\u200d\\ud83d[\\udc68\\udc69]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\u2764\\ufe0f\\u200d\\ud83d\\udc68|\\ud83d\\udc68\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc68\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc68\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\u2764\\ufe0f\\u200d\\ud83d[\\udc68\\udc69]|\\ud83d\\udc69\\u200d\\ud83d\\udc66\\u200d\\ud83d\\udc66|\\ud83d\\udc69\\u200d\\ud83d\\udc67\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83c\\udff3\\ufe0f\\u200d\\ud83c\\udf08|\\ud83c\\udff4\\u200d\\u2620\\ufe0f|\\ud83d\\udc41\\u200d\\ud83d\\udde8|\\ud83d\\udc68\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc69\\u200d\\ud83d[\\udc66\\udc67]|\\ud83d\\udc6f\\u200d\\u2640\\ufe0f|\\ud83d\\udc6f\\u200d\\u2642\\ufe0f|\\ud83e\\udd3c\\u200d\\u2640\\ufe0f|\\ud83e\\udd3c\\u200d\\u2642\\ufe0f|\\ud83e\\uddde\\u200d\\u2640\\ufe0f|\\ud83e\\uddde\\u200d\\u2642\\ufe0f|\\ud83e\\udddf\\u200d\\u2640\\ufe0f|\\ud83e\\udddf\\u200d\\u2642\\ufe0f|(?:\\u002a)\\ufe0f?\\u20e3|(?:\\ud83c[\\udf85\\udfc2-\\udfc4\\udfc7\\udfca-\\udfcc]|\\ud83d[\\udc42\\udc43\\udc46-\\udc50\\udc66-\\udc69\\udc6e\\udc70-\\udc78\\udc7c\\udc81-\\udc83\\udc85-\\udc87\\udcaa\\udd74\\udd75\\udd7a\\udd90\\udd95\\udd96\\ude45-\\ude47\\ude4b-\\ude4f\\udea3\\udeb4-\\udeb6\\udec0\\udecc]|\\ud83e[\\udd18-\\udd1c\\udd1e\\udd1f\\udd26\\udd30-\\udd39\\udd3d\\udd3e\\uddd1-\\udddd]|[\\u261d\\u26f7\\u26f9\\u270a-\\u270d])(?:\\ud83c[\\udffb-\\udfff]|)|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc65\\udb40\\udc6e\\udb40\\udc67\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc73\\udb40\\udc63\\udb40\\udc74\\udb40\\udc7f|\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40\\udc77\\udb40\\udc6c\\udb40\\udc73\\udb40\\udc7f|\\ud83c\\udde6\\ud83c[\\udde8-\\uddec\\uddee\\uddf1\\uddf2\\uddf4\\uddf6-\\uddfa\\uddfc\\uddfd\\uddff]|\\ud83c\\udde7\\ud83c[\\udde6\\udde7\\udde9-\\uddef\\uddf1-\\uddf4\\uddf6-\\uddf9\\uddfb\\uddfc\\uddfe\\uddff]|\\ud83c\\udde8\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\uddee\\uddf0-\\uddf5\\uddf7\\uddfa-\\uddff]|\\ud83c\\udde9\\ud83c[\\uddea\\uddec\\uddef\\uddf0\\uddf2\\uddf4\\uddff]|\\ud83c\\uddea\\ud83c[\\udde6\\udde8\\uddea\\uddec\\udded\\uddf7-\\uddfa]|\\ud83c\\uddeb\\ud83c[\\uddee-\\uddf0\\uddf2\\uddf4\\uddf7]|\\ud83c\\uddec\\ud83c[\\udde6\\udde7\\udde9-\\uddee\\uddf1-\\uddf3\\uddf5-\\uddfa\\uddfc\\uddfe]|\\ud83c\\udded\\ud83c[\\uddf0\\uddf2\\uddf3\\uddf7\\uddf9\\uddfa]|\\ud83c\\uddee\\ud83c[\\udde8-\\uddea\\uddf1-\\uddf4\\uddf6-\\uddf9]|\\ud83c\\uddef\\ud83c[\\uddea\\uddf2\\uddf4\\uddf5]|\\ud83c\\uddf0\\ud83c[\\uddea\\uddec-\\uddee\\uddf2\\uddf3\\uddf5\\uddf7\\uddfc\\uddfe\\uddff]|\\ud83c\\uddf1\\ud83c[\\udde6-\\udde8\\uddee\\uddf0\\uddf7-\\uddfb\\uddfe]|\\ud83c\\uddf2\\ud83c[\\udde6\\udde8-\\udded\\uddf0-\\uddff]|\\ud83c\\uddf3\\ud83c[\\udde6\\udde8\\uddea-\\uddec\\uddee\\uddf1\\uddf4\\uddf5\\uddf7\\uddfa\\uddff]|\\ud83c\\uddf4\\ud83c\\uddf2|\\ud83c\\uddf5\\ud83c[\\udde6\\uddea-\\udded\\uddf0-\\uddf3\\uddf7-\\uddf9\\uddfc\\uddfe]|\\ud83c\\uddf6\\ud83c\\udde6|\\ud83c\\uddf7\\ud83c[\\uddea\\uddf4\\uddf8\\uddfa\\uddfc]|\\ud83c\\uddf8\\ud83c[\\udde6-\\uddea\\uddec-\\uddf4\\uddf7-\\uddf9\\uddfb\\uddfd-\\uddff]|\\ud83c\\uddf9\\ud83c[\\udde6\\udde8\\udde9\\uddeb-\\udded\\uddef-\\uddf4\\uddf7\\uddf9\\uddfb\\uddfc\\uddff]|\\ud83c\\uddfa\\ud83c[\\udde6\\uddec\\uddf2\\uddf3\\uddf8\\uddfe\\uddff]|\\ud83c\\uddfb\\ud83c[\\udde6\\udde8\\uddea\\uddec\\uddee\\uddf3\\uddfa]|\\ud83c\\uddfc\\ud83c[\\uddeb\\uddf8]|\\ud83c\\uddfd\\ud83c\\uddf0|\\ud83c\\uddfe\\ud83c[\\uddea\\uddf9]|\\ud83c\\uddff\\ud83c[\\udde6\\uddf2\\uddfc]|\\u0023\\u20e3|\\u0030\\u20e3|\\u0031\\u20e3|\\u0032\\u20e3|\\u0033\\u20e3|\\u0034\\u20e3|\\u0035\\u20e3|\\u0036\\u20e3|\\u0037\\u20e3|\\u0038\\u20e3|\\u0039\\u20e3|\\ud800\\udc00|\\ud83c[\\udc04\\udccf\\udd70\\udd71\\udd7e\\udd7f\\udd8e\\udd91-\\udd9a\\udde6-\\uddff\\ude01\\ude02\\ude1a\\ude2f\\ude32-\\ude3a\\ude50\\ude51\\udf00-\\udf21\\udf24-\\udf84\\udf86-\\udf93\\udf96\\udf97\\udf99-\\udf9b\\udf9e-\\udfc1\\udfc5\\udfc6\\udfc8\\udfc9\\udfcd-\\udff0\\udff3-\\udff5\\udff7-\\udfff]|\\ud83d[\\udc00-\\udc41\\udc44\\udc45\\udc51-\\udc65\\udc6a-\\udc6d\\udc6f\\udc79-\\udc7b\\udc7d-\\udc80\\udc84\\udc88-\\udca9\\udcab-\\udcfd\\udcff-\\udd3d\\udd49-\\udd4e\\udd50-\\udd67\\udd6f\\udd70\\udd73\\udd76-\\udd79\\udd87\\udd8a-\\udd8d\\udda4\\udda5\\udda8\\uddb1\\uddb2\\uddbc\\uddc2-\\uddc4\\uddd1-\\uddd3\\udddc-\\uddde\\udde1\\udde3\\udde8\\uddef\\uddf3\\uddfa-\\ude44\\ude48-\\ude4a\\ude80-\\udea2\\udea4-\\udeb3\\udeb7-\\udebf\\udec1-\\udec5\\udecb\\udecd-\\uded2\\udee0-\\udee5\\udee9\\udeeb\\udeec\\udef0\\udef3-\\udef8]|\\ud83e[\\udd10-\\udd17\\udd1d\\udd20-\\udd25\\udd27-\\udd2f\\udd3a\\udd3c\\udd40-\\udd45\\udd47-\\udd4c\\udd50-\\udd6b\\udd80-\\udd97\\uddc0\\uddd0\\uddde-\\udde6]|[\\u00a9\\u00ae\\u203c\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21a9\\u21aa\\u231a\\u231b\\u2328\\u23cf\\u23e9-\\u23f3\\u23f8-\\u23fa\\u24c2\\u25aa\\u25ab\\u25b6\\u25c0\\u25fb-\\u25fe\\u2600-\\u2604\\u260e\\u2611\\u2614\\u2615\\u2618\\u2620\\u2622\\u2623\\u2626\\u262a\\u262e\\u262f\\u2638\\u263a\\u2640\\u2642\\u2648-\\u2653\\u2660\\u2663\\u2665\\u2666\\u2668\\u267b\\u267f\\u2692-\\u2697\\u2699\\u269b\\u269c\\u26a0\\u26a1\\u26aa\\u26ab\\u26b0\\u26b1\\u26bd\\u26be\\u26c4\\u26c5\\u26c8\\u26ce\\u26cf\\u26d1\\u26d3\\u26d4\\u26e9\\u26ea\\u26f0-\\u26f5\\u26f8\\u26fa\\u26fd\\u2702\\u2705\\u2708\\u2709\\u270f\\u2712\\u2714\\u2716\\u271d\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274c\\u274e\\u2753-\\u2755\\u2757\\u2763\\u2764\\u2795-\\u2797\\u27a1\\u27b0\\u27bf\\u2934\\u2935\\u2b05-\\u2b07\\u2b1b\\u2b1c\\u2b50\\u2b55\\u3030\\u303d\\u3297\\u3299\\ue50a]|(?:\\u2639)(?:\\ufe0f|(?!\\ufe0e))/g,\n\n    // avoid runtime RegExp creation for not so smart,\n    // not JIT based, and old browsers / engines\n    UFE0Fg = /\\uFE0F/g,\n\n    // avoid using a string literal like '\\u200D' here because minifiers expand it inline\n    U200D = String.fromCharCode(0x200D),\n\n    // used to find HTML special chars in attributes\n    rescaper = /[&<>'\"]/g,\n\n    // nodes with type 1 which should **not** be parsed\n    shouldntBeParsed = /^(?:iframe|noframes|noscript|script|select|style|textarea)$/,\n\n    // just a private shortcut\n    fromCharCode = String.fromCharCode;\n\n  return twemoji;\n\n\n  /////////////////////////\n  //  private functions  //\n  //     declaration     //\n  /////////////////////////\n\n  /**\n   * Shortcut to create text nodes\n   * @param   string  text used to create DOM text node\n   * @return  Node  a DOM node with that text\n   */\n  function createText(text, clean) {\n    return document.createTextNode(clean ? text.replace(UFE0Fg, '') : text);\n  }\n\n  /**\n   * Utility function to escape html attribute text\n   * @param   string  text use in HTML attribute\n   * @return  string  text encoded to use in HTML attribute\n   */\n  function escapeHTML(s) {\n    return s.replace(rescaper, replacer);\n  }\n\n  /**\n   * Default callback used to generate emoji src\n   *  based on Twitter CDN\n   * @param   string    the emoji codepoint string\n   * @param   string    the default size to use, i.e. \"36x36\"\n   * @return  string    the image source to use\n   */\n  function defaultImageSrcGenerator(icon, options) {\n    return ''.concat(options.base, options.size, '/', icon, options.ext);\n  }\n\n  /**\n   * Given a generic DOM nodeType 1, walk through all children\n   * and store every nodeType 3 (#text) found in the tree.\n   * @param   Element a DOM Element with probably some text in it\n   * @param   Array the list of previously discovered text nodes\n   * @return  Array same list with new discovered nodes, if any\n   */\n  function grabAllTextNodes(node, allText) {\n    var\n      childNodes = node.childNodes,\n      length = childNodes.length,\n      subnode,\n      nodeType;\n    while (length--) {\n      subnode = childNodes[length];\n      nodeType = subnode.nodeType;\n      // parse emoji only in text nodes\n      if (nodeType === 3) {\n        // collect them to process emoji later\n        allText.push(subnode);\n      }\n      // ignore all nodes that are not type 1, that are svg, or that\n      // should not be parsed as script, style, and others\n      else if (nodeType === 1 && !('ownerSVGElement' in subnode) &&\n          !shouldntBeParsed.test(subnode.nodeName.toLowerCase())) {\n        grabAllTextNodes(subnode, allText);\n      }\n    }\n    return allText;\n  }\n\n  /**\n   * Used to both remove the possible variant\n   *  and to convert utf16 into code points.\n   *  If there is a zero-width-joiner (U+200D), leave the variants in.\n   * @param   string    the raw text of the emoji match\n   * @return  string    the code point\n   */\n  function grabTheRightIcon(rawText) {\n    // if variant is present as \\uFE0F\n    return toCodePoint(rawText.indexOf(U200D) < 0 ?\n      rawText.replace(UFE0Fg, '') :\n      rawText\n    );\n  }\n\n  /**\n   * DOM version of the same logic / parser:\n   *  emojify all found sub-text nodes placing images node instead.\n   * @param   Element   generic DOM node with some text in some child node\n   * @param   Object    options  containing info about how to parse\n    *\n    *            .callback   Function  the callback to invoke per each found emoji.\n    *            .base       string    the base url, by default twemoji.base\n    *            .ext        string    the image extension, by default twemoji.ext\n    *            .size       string    the assets size, by default twemoji.size\n    *\n   * @return  Element same generic node with emoji in place, if any.\n   */\n  function parseNode(node, options) {\n    var\n      allText = grabAllTextNodes(node, []),\n      length = allText.length,\n      attrib,\n      attrname,\n      modified,\n      fragment,\n      subnode,\n      text,\n      match,\n      i,\n      index,\n      img,\n      rawText,\n      iconId,\n      src;\n    while (length--) {\n      modified = false;\n      fragment = document.createDocumentFragment();\n      subnode = allText[length];\n      text = subnode.nodeValue;\n      i = 0;\n      while ((match = re.exec(text))) {\n        index = match.index;\n        if (index !== i) {\n          fragment.appendChild(\n            createText(text.slice(i, index), true)\n          );\n        }\n        rawText = match[0];\n        iconId = grabTheRightIcon(rawText);\n        i = index + rawText.length;\n        src = options.callback(iconId, options);\n        if (src) {\n          img = new Image();\n          img.onerror = options.onerror;\n          img.setAttribute('draggable', 'false');\n          attrib = options.attributes(rawText, iconId);\n          for (attrname in attrib) {\n            if (\n              attrib.hasOwnProperty(attrname) &&\n              // don't allow any handlers to be set + don't allow overrides\n              attrname.indexOf('on') !== 0 &&\n              !img.hasAttribute(attrname)\n            ) {\n              img.setAttribute(attrname, attrib[attrname]);\n            }\n          }\n          img.className = options.className;\n          img.alt = rawText;\n          img.src = src;\n          modified = true;\n          fragment.appendChild(img);\n        }\n        if (!img) fragment.appendChild(createText(rawText, false));\n        img = null;\n      }\n      // is there actually anything to replace in here ?\n      if (modified) {\n        // any text left to be added ?\n        if (i < text.length) {\n          fragment.appendChild(\n            createText(text.slice(i), true)\n          );\n        }\n        // replace the text node only, leave intact\n        // anything else surrounding such text\n        subnode.parentNode.replaceChild(fragment, subnode);\n      }\n    }\n    return node;\n  }\n\n  /**\n   * String/HTML version of the same logic / parser:\n   *  emojify a generic text placing images tags instead of surrogates pair.\n   * @param   string    generic string with possibly some emoji in it\n   * @param   Object    options  containing info about how to parse\n   *\n   *            .callback   Function  the callback to invoke per each found emoji.\n   *            .base       string    the base url, by default twemoji.base\n   *            .ext        string    the image extension, by default twemoji.ext\n   *            .size       string    the assets size, by default twemoji.size\n   *\n   * @return  the string with <img tags> replacing all found and parsed emoji\n   */\n  function parseString(str, options) {\n    return replace(str, function (rawText) {\n      var\n        ret = rawText,\n        iconId = grabTheRightIcon(rawText),\n        src = options.callback(iconId, options),\n        attrib,\n        attrname;\n      if (src) {\n        // recycle the match string replacing the emoji\n        // with its image counter part\n        ret = '<img '.concat(\n          'class=\"', options.className, '\" ',\n          'draggable=\"false\" ',\n          // needs to preserve user original intent\n          // when variants should be copied and pasted too\n          'alt=\"',\n          rawText,\n          '\"',\n          ' src=\"',\n          src,\n          '\"'\n        );\n        attrib = options.attributes(rawText, iconId);\n        for (attrname in attrib) {\n          if (\n            attrib.hasOwnProperty(attrname) &&\n            // don't allow any handlers to be set + don't allow overrides\n            attrname.indexOf('on') !== 0 &&\n            ret.indexOf(' ' + attrname + '=') === -1\n          ) {\n            ret = ret.concat(' ', attrname, '=\"', escapeHTML(attrib[attrname]), '\"');\n          }\n        }\n        ret = ret.concat('/>');\n      }\n      return ret;\n    });\n  }\n\n  /**\n   * Function used to actually replace HTML special chars\n   * @param   string  HTML special char\n   * @return  string  encoded HTML special char\n   */\n  function replacer(m) {\n    return escaper[m];\n  }\n\n  /**\n   * Default options.attribute callback\n   * @return  null\n   */\n  function returnNull() {\n    return null;\n  }\n\n  /**\n   * Given a generic value, creates its squared counterpart if it's a number.\n   *  As example, number 36 will return '36x36'.\n   * @param   any     a generic value.\n   * @return  any     a string representing asset size, i.e. \"36x36\"\n   *                  only in case the value was a number.\n   *                  Returns initial value otherwise.\n   */\n  function toSizeSquaredAsset(value) {\n    return typeof value === 'number' ?\n      value + 'x' + value :\n      value;\n  }\n\n\n  /////////////////////////\n  //  exported functions //\n  //     declaration     //\n  /////////////////////////\n\n  function fromCodePoint(codepoint) {\n    var code = typeof codepoint === 'string' ?\n          parseInt(codepoint, 16) : codepoint;\n    if (code < 0x10000) {\n      return fromCharCode(code);\n    }\n    code -= 0x10000;\n    return fromCharCode(\n      0xD800 + (code >> 10),\n      0xDC00 + (code & 0x3FF)\n    );\n  }\n\n  function parse(what, how) {\n    if (!how || typeof how === 'function') {\n      how = {callback: how};\n    }\n    // if first argument is string, inject html <img> tags\n    // otherwise use the DOM tree and parse text nodes only\n    return (typeof what === 'string' ? parseString : parseNode)(what, {\n      callback:   how.callback || defaultImageSrcGenerator,\n      attributes: typeof how.attributes === 'function' ? how.attributes : returnNull,\n      base:       typeof how.base === 'string' ? how.base : twemoji.base,\n      ext:        how.ext || twemoji.ext,\n      size:       how.folder || toSizeSquaredAsset(how.size || twemoji.size),\n      className:  how.className || twemoji.className,\n      onerror:    how.onerror || twemoji.onerror\n    });\n  }\n\n  function replace(text, callback) {\n    return String(text).replace(re, callback);\n  }\n\n  function test(text) {\n    // IE6 needs a reset before too\n    re.lastIndex = 0;\n    var result = re.test(text);\n    re.lastIndex = 0;\n    return result;\n  }\n\n  function toCodePoint(unicodeSurrogates, sep) {\n    var\n      r = [],\n      c = 0,\n      p = 0,\n      i = 0;\n    while (i < unicodeSurrogates.length) {\n      c = unicodeSurrogates.charCodeAt(i++);\n      if (p) {\n        r.push((0x10000 + ((p - 0xD800) << 10) + (c - 0xDC00)).toString(16));\n        p = 0;\n      } else if (0xD800 <= c && c <= 0xDBFF) {\n        p = c;\n      } else {\n        r.push(c.toString(16));\n      }\n    }\n    return r.join(sep || '-');\n  }\n\n}());\nif (!location.protocol) {\n  twemoji.base = twemoji.base.replace(/^http:/, \"\");\n}\nmodule.exports = twemoji;","module.exports = function(el, options) {\n  options = options || {};\n\n  var elementDocument = el.ownerDocument || el;\n  var basicTabbables = [];\n  var orderedTabbables = [];\n\n  // A node is \"available\" if\n  // - it's computed style\n  var isUnavailable = createIsUnavailable(elementDocument);\n\n  var candidateSelectors = [\n    'input',\n    'select',\n    'a[href]',\n    'textarea',\n    'button',\n    '[tabindex]',\n  ];\n\n  var candidates = el.querySelectorAll(candidateSelectors.join(','));\n\n  if (options.includeContainer) {\n    var matches = Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\n    if (\n      candidateSelectors.some(function(candidateSelector) {\n        return matches.call(el, candidateSelector);\n      })\n    ) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var candidate, candidateIndexAttr, candidateIndex;\n  for (var i = 0, l = candidates.length; i < l; i++) {\n    candidate = candidates[i];\n    candidateIndexAttr = parseInt(candidate.getAttribute('tabindex'), 10)\n    candidateIndex = isNaN(candidateIndexAttr) ? candidate.tabIndex : candidateIndexAttr;\n\n    if (\n      candidateIndex < 0\n      || (candidate.tagName === 'INPUT' && candidate.type === 'hidden')\n      || candidate.disabled\n      || isUnavailable(candidate, elementDocument)\n    ) {\n      continue;\n    }\n\n    if (candidateIndex === 0) {\n      basicTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        index: i,\n        tabIndex: candidateIndex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(function(a, b) {\n      return a.tabIndex === b.tabIndex ? a.index - b.index : a.tabIndex - b.tabIndex;\n    })\n    .map(function(a) {\n      return a.node\n    });\n\n  Array.prototype.push.apply(tabbableNodes, basicTabbables);\n\n  return tabbableNodes;\n}\n\nfunction createIsUnavailable(elementDocument) {\n  // Node cache must be refreshed on every check, in case\n  // the content of the element has changed\n  var isOffCache = [];\n\n  // \"off\" means `display: none;`, as opposed to \"hidden\",\n  // which means `visibility: hidden;`. getComputedStyle\n  // accurately reflects visiblity in context but not\n  // \"off\" state, so we need to recursively check parents.\n\n  function isOff(node, nodeComputedStyle) {\n    if (node === elementDocument.documentElement) return false;\n\n    // Find the cached node (Array.prototype.find not available in IE9)\n    for (var i = 0, length = isOffCache.length; i < length; i++) {\n      if (isOffCache[i][0] === node) return isOffCache[i][1];\n    }\n\n    nodeComputedStyle = nodeComputedStyle || elementDocument.defaultView.getComputedStyle(node);\n\n    var result = false;\n\n    if (nodeComputedStyle.display === 'none') {\n      result = true;\n    } else if (node.parentNode) {\n      result = isOff(node.parentNode);\n    }\n\n    isOffCache.push([node, result]);\n\n    return result;\n  }\n\n  return function isUnavailable(node) {\n    if (node === elementDocument.documentElement) return false;\n\n    var computedStyle = elementDocument.defaultView.getComputedStyle(node);\n\n    if (isOff(node, computedStyle)) return true;\n\n    return computedStyle.visibility === 'hidden';\n  }\n}\n","var toString = require('./toString');\n\n/** Used to generate unique IDs. */\nvar idCounter = 0;\n\n/**\n * Generates a unique ID. If `prefix` is given, the ID is appended to it.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {string} [prefix=''] The value to prefix the ID with.\n * @returns {string} Returns the unique ID.\n * @example\n *\n * _.uniqueId('contact_');\n * // => 'contact_104'\n *\n * _.uniqueId();\n * // => '105'\n */\nfunction uniqueId(prefix) {\n  var id = ++idCounter;\n  return toString(prefix) + id;\n}\n\nmodule.exports = uniqueId;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","/**\n * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport className from \"classnames\";\n\nexport interface IPanelArea {\n    className?: string;\n    children?: JSX.Element;\n    render?: boolean;\n}\n\nexport default class PanelArea extends React.Component<IPanelArea> {\n    public static defaultProps = {\n        render: true,\n    };\n    public render() {\n        if (this.props.render && this.props.children) {\n            return <div className={className(\"panelArea\", this.props.className)}>{this.props.children}</div>;\n        } else {\n            return null;\n        }\n    }\n}\n","/**\n * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport className from \"classnames\";\nimport PanelArea, { IPanelArea } from \"@knowledge/components/PanelArea\";\n\ninterface IPanel {\n    className?: string;\n    children: {\n        top: IPanelArea;\n        bottom?: IPanelArea;\n    };\n    render?: boolean;\n}\n\nexport default class Panel extends React.Component<IPanel> {\n    public static defaultProps = {\n        render: true,\n    };\n\n    public render() {\n        if (this.props.render) {\n            const top = this.props.children.top;\n            const bottom = this.props.children.bottom;\n\n            let bottomPanel;\n            if (bottom) {\n                bottomPanel = (\n                    <PanelArea className={bottom.className} render={bottom.render}>\n                        {bottom.children}\n                    </PanelArea>\n                );\n            }\n            return (\n                <div className={className(\"panelLayout-panel\", this.props.className)}>\n                    <PanelArea className={top.className} render={top.render}>\n                        {this.props.children.top.children}\n                    </PanelArea>\n                    {bottomPanel}\n                </div>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n","/**\n * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport className from \"classnames\";\n\nexport interface IBreadcrumbProps {\n    className?: string;\n    lastElement: boolean;\n    url: string;\n    name: string;\n    key?: number | string;\n}\n\nexport default class Breadcrumb extends React.Component<IBreadcrumbProps> {\n    public render() {\n        let ariaCurrent;\n        if (this.props.lastElement) {\n            ariaCurrent = `page`;\n        }\n\n        return (\n            <a\n                href={this.props.url}\n                key={this.props.key}\n                title={this.props.name}\n                aria-current={ariaCurrent}\n                className={className(\"breadcrumb-link\", this.props.className)}\n                itemScope\n                itemType=\"http://schema.org/Thing\"\n                itemProp=\"item\"\n            >\n                <span className=\"breadcrumb-label\" itemProp=\"name\">\n                    {this.props.name}\n                </span>\n            </a>\n        );\n    }\n}\n","/**\n * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport className from \"classnames\";\nimport { t } from \"@dashboard/application\";\nimport Breadcrumb from \"@knowledge/components/Breadcrumb\";\n\ninterface IBreadcrumbProps {\n    name: string;\n    url: string;\n}\n\nexport interface IBreadcrumbsProps {\n    children: IBreadcrumbProps[];\n    className?: string;\n}\n\nexport default class Breadcrumbs extends React.Component<IBreadcrumbsProps> {\n    public render() {\n        if (this.props.children.length > 1) {\n            const crumbCount = this.props.children.length - 1;\n            const crumbs = this.props.children.map((crumb, index) => {\n                const lastElement = index === crumbCount;\n                const crumbSeparator = `›`;\n                let ariaCurrent;\n\n                if (lastElement) {\n                    ariaCurrent = `page`;\n                }\n                return (\n                    <React.Fragment key={`breadcrumb-${index}`}>\n                        <Breadcrumb lastElement={lastElement} name={crumb.name} url={crumb.url} />\n                        {!lastElement && (\n                            <li className=\"breadcrumb-item breadcrumbs-separator\">\n                                <span className=\"breadcrumbs-separatorIcon\">{crumbSeparator}</span>\n                            </li>\n                        )}\n                    </React.Fragment>\n                );\n            });\n            return (\n                <nav aria-label={t(\"Breadcrumb\")} className={className(\"breadcrumbs\", this.props.className)}>\n                    <ol className=\"breadcrumbs-list\">{crumbs}</ol>\n                </nav>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n","/**\n * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport className from \"classnames\";\nimport { t } from \"@dashboard/application\";\nimport Panel from \"@knowledge/components/Panel\";\nimport Breadcrumbs, { IBreadcrumbsProps } from \"@knowledge/components/Breadcrumbs\";\nimport classNames from \"classnames\";\n\ninterface IPanelLayoutBreadcrumbs {\n    breadcrumbs?: IBreadcrumbsProps;\n    renderLeftPanel?: boolean;\n    className?: string;\n    render?: boolean;\n}\n\nexport default class PanelLayoutBreadcrumbs extends React.Component<IPanelLayoutBreadcrumbs> {\n    public static defaultProps = {\n        render: true,\n        renderLeftPanel: true,\n    };\n\n    public render() {\n        if (this.props.render && this.props.breadcrumbs && this.props.breadcrumbs.children.length > 1) {\n            const space = ` `;\n            return (\n                <div\n                    className={className(\n                        \"panelLayout-top\",\n                        { noLeftPanel: !this.props.renderLeftPanel },\n                        this.props.className,\n                    )}\n                >\n                    <div className=\"panelLayout-container\">\n                        <Panel className=\"panelLayout-left\" render={this.props.renderLeftPanel}>\n                            {{\n                                top: {\n                                    className: \"panelArea-breadcrumbsSpacer\",\n                                    children: <React.Fragment>{space}</React.Fragment>,\n                                    render: this.props.renderLeftPanel,\n                                },\n                            }}\n                        </Panel>\n                        <Panel\n                            className={className(\"panelLayout-breadcrumbs\", {\n                                hasAdjacentPanel: this.props.renderLeftPanel,\n                            })}\n                        >\n                            {{\n                                top: {\n                                    className: \"panelArea-breadcrumbs\",\n                                    children: <Breadcrumbs {...this.props.breadcrumbs} />,\n                                },\n                            }}\n                        </Panel>\n                    </div>\n                </div>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n","/**\n * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport { Devices } from \"@knowledge/components/DeviceChecker\";\nimport Panel from \"@knowledge/components/Panel\";\nimport className from \"classnames\";\nimport PanelArea from \"@knowledge/components/PanelArea\";\nimport { t } from \"@dashboard/application\";\nimport { IBreadcrumbsProps } from \"@knowledge/components/Breadcrumbs\";\nimport PanelLayoutBreadcrumbs from \"@knowledge/components/PanelLayoutBreadcrumbs\";\nimport classNames from \"classnames\";\n\nexport interface IPanelCellContent {\n    middleTopComponents: JSX.Element;\n    middleBottomComponents: JSX.Element;\n    leftTopComponents?: JSX.Element;\n    leftBottomComponents?: JSX.Element;\n    rightTopComponents?: JSX.Element;\n    rightBottomComponents?: JSX.Element;\n}\n\ninterface IPanelLayoutProps {\n    device: Devices;\n    breadcrumbs?: IBreadcrumbsProps;\n    children: IPanelCellContent;\n    className?: string;\n    toggleMobileMenu?: (open) => void;\n}\n\nexport default class PanelLayout extends React.Component<IPanelLayoutProps> {\n    public static defaultProps = {\n        isMain: false,\n    };\n\n    public render() {\n        const children = this.props.children;\n        const isMobile = this.props.device === Devices.MOBILE;\n        const renderedLeftPanel: boolean = !!(\n            !isMobile &&\n            (children.leftTopComponents || children.leftBottomComponents)\n        );\n        const renderedRightPanel: boolean =\n            !!(children.rightTopComponents || children.rightTopComponents) && this.props.device === Devices.DESKTOP;\n\n        const renderMobilePanel = isMobile && !!children.leftBottomComponents;\n\n        return (\n            <div\n                className={className(\n                    \"panelLayout\",\n                    { noLeftPanel: !renderedLeftPanel },\n                    { noRightPanel: !renderedRightPanel },\n                    this.props.className,\n                )}\n            >\n                <PanelLayoutBreadcrumbs\n                    renderLeftPanel={!isMobile && renderedLeftPanel}\n                    breadcrumbs={this.props.breadcrumbs}\n                />\n\n                <div className=\"panelLayout-main\">\n                    <div className=\"panelLayout-container\">\n                        <Panel className=\"panelLayout-left\" render={renderedLeftPanel}>\n                            {{\n                                top: {\n                                    children: children.leftTopComponents,\n                                    className: \"panelArea-leftTop\",\n                                    render: !isMobile,\n                                },\n                                bottom: {\n                                    children: children.leftBottomComponents,\n                                    className: \"panelArea-leftBottom\",\n                                },\n                            }}\n                        </Panel>\n                        <div className={classNames(\"panelLayout-content\", { hasAdjacentPanel: renderedLeftPanel })}>\n                            <main\n                                className={classNames(\"panelLayout-middle\", { hasAdjacentPanel: renderedRightPanel })}\n                            >\n                                <PanelArea className=\"panelAndNav-middleTop\">{children.middleTopComponents}</PanelArea>\n                                <PanelArea className=\"panelAndNav-mobileMiddle\" render={isMobile}>\n                                    {children.leftTopComponents}\n                                </PanelArea>\n                                <PanelArea\n                                    className=\"panelAndNav-tabletMiddle\"\n                                    render={this.props.device !== Devices.DESKTOP}\n                                >\n                                    {children.rightTopComponents}\n                                </PanelArea>\n                                <PanelArea className=\"panelAndNav-middleBottom\">\n                                    {children.middleBottomComponents}\n                                </PanelArea>\n                                <PanelArea\n                                    className=\"panelAndNav-tabletBottom\"\n                                    render={this.props.device !== Devices.DESKTOP}\n                                >\n                                    {children.rightBottomComponents}\n                                </PanelArea>\n                            </main>\n                            <Panel className=\"panelLayout-right\" render={renderedRightPanel}>\n                                {{\n                                    top: {\n                                        children: children.rightTopComponents,\n                                        className: \"panelArea-rightTop\",\n                                    },\n                                    bottom: {\n                                        children: children.rightBottomComponents,\n                                        className: \"panelArea-rightBottom\",\n                                    },\n                                }}\n                            </Panel>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","/**\n * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport className from \"classnames\";\n\ninterface IPanelWidget {\n    className?: string;\n    children: JSX.Element;\n}\n\nexport default class PanelWidget extends React.Component<IPanelWidget> {\n    public render() {\n        return <div className={className(\"panelWidget\", this.props.className)}>{this.props.children}</div>;\n    }\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport React from \"react\";\nimport { t } from \"@dashboard/application\";\nimport classNames from \"classnames\";\n\nconst currentColorFill = {\n    fill: \"currentColor\",\n};\n\nexport function leftChevron(classes?: string) {\n    const title = `<`;\n    return (\n        <svg\n            className={classNames(\"icon\", \"icon-chevronLeft\", classes)}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            viewBox=\"0 0 24 24\"\n        >\n            <title>{title}</title>\n            <path\n                d=\"M14.9,7.7l-4.4,4.4,4.4,4.4a.5.5,0,0,1,0,.6l-.6.6a.5.5,0,0,1-.6,0L8.5,12.5a.5.5,0,0,1,0-.6l5.2-5.2a.5.5,0,0,1,.6,0s.676.543.7.7A.325.325,0,0,1,14.9,7.7Z\"\n                style={currentColorFill}\n            />\n        </svg>\n    );\n}\n","/*\n * @author Stéphane LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license GPL-2.0-only\n */\n\nimport * as React from \"react\";\nimport classNames from \"classnames\";\nimport { t } from \"@dashboard/application\";\nimport { leftChevron } from \"@knowledge/components/Icons\";\n\ninterface IBackLink {\n    url?: string;\n    title?: string;\n    className?: string;\n}\n\nexport default class BackLink extends React.Component<IBackLink> {\n    public static defaultProps = {\n        title: t(\"Back\"),\n    };\n    public render() {\n        if (this.props.url) {\n            return (\n                <div className={classNames(\"backLink\", this.props.className)}>\n                    <a\n                        href={this.props.url}\n                        aria-label={this.props.title}\n                        title={this.props.title}\n                        className=\"backLink-link\"\n                    >\n                        {leftChevron(\"backLink-icon\")}\n                    </a>\n                </div>\n            );\n        } else {\n            return null;\n        }\n    }\n}\n","/**\n * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport classNames from \"classnames\";\n\ninterface IHeading {\n    title: string;\n    depth?: 1 | 2 | 3 | 4 | 5 | 6;\n    className?: string;\n}\n\nexport default class PageTitle extends React.Component<IHeading> {\n    public static defaultProps = {\n        isForWidget: true,\n    };\n\n    public render() {\n        const Tag = `h${this.props.depth}`;\n        return (\n            <Tag\n                className={classNames(\n                    \"heading\",\n                    `heading-${this.props.depth}`,\n                    { pageTitle: this.props.depth === 1 },\n                    this.props.className,\n                )}\n            >\n                {this.props.title}\n            </Tag>\n        );\n    }\n}\n","/**\n * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport classNames from \"classnames\";\nimport BackLink from \"@knowledge/components/BackLink\";\nimport Heading from \"@knowledge/components/Heading\";\n\ninterface IPageHeading {\n    title: string;\n    backUrl?: string; // back link\n    className?: string;\n    actions?: JSX.Element; // possible \"actions\" like a dropdown menu or other\n}\n\nexport default class PageHeading extends React.Component<IPageHeading> {\n    public render() {\n        return (\n            <div className={classNames(\"pageHeading\", this.props.className)}>\n                <div className=\"pageHeading-main\">\n                    <BackLink url={this.props.backUrl} className=\"pageHeading-backLink\" />\n                    {/* Will not render if no url is passed */}\n                    <Heading title={this.props.title} depth={1} />\n                </div>\n                {this.props.actions && <div className=\"pageHeading-actions\">{this.props.actions}</div>}\n            </div>\n        );\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport { IEmbedProps } from \"@dashboard/embeds\";\n\n/**\n * A base embed react component class.\n * @see {registerEmbedComponent}\n */\nexport default abstract class BaseEmbed<P extends IEmbedProps = IEmbedProps, S = {}> extends React.Component<P, S> {\n    public componentDidMount() {\n        this.props.onRenderComplete();\n    }\n\n    public abstract render();\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initCodePenEmbeds() {\n    registerEmbedComponent(\"codepen\", CodePenEmbed);\n}\n\nexport class CodePenEmbed extends BaseEmbed {\n    public render() {\n        const { attributes, height } = this.props.data;\n        const { id, src, style } = attributes;\n\n        return <iframe id={id} src={src} height={height || 300} style={style} scrolling=\"no\" />;\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initGiphyEmbeds() {\n    registerEmbedComponent(\"giphy\", GiphyEmbed);\n}\n\nexport class GiphyEmbed extends BaseEmbed {\n    public render() {\n        const { data } = this.props;\n        const { attributes, width, height } = data;\n        const { postID } = attributes;\n        const paddingBottom = ((height || 1) / (width || 1)) * 100 + \"%\";\n        const ratioStyle: React.CSSProperties = {\n            maxWidth: width ? width + \"px\" : \"100%\",\n            paddingBottom,\n        };\n\n        if (!postID) {\n            throw new Error(\"Giphy embed fail, the post could not be found\");\n        }\n        const src = `https://giphy.com/embed/${postID}`;\n\n        return (\n            <div className=\"embedExternal-ratio\" style={ratioStyle}>\n                <iframe src={src} className=\"giphy-embed embedGiphy-iframe\" />\n            </div>\n        );\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\nimport { sanitizeUrl } from \"@dashboard/utility\";\n\nexport function initImageEmbeds() {\n    registerEmbedComponent(\"image\", ImageEmbed);\n}\n\nexport class ImageEmbed extends BaseEmbed {\n    public render() {\n        const { data } = this.props;\n        const { url, name } = data;\n        const sanitizedUrl = sanitizeUrl(url);\n\n        // Yes we actually want a target blank here (even if we don't want it on normal links).\n        return (\n            <a className=\"embedImage-link\" href={sanitizedUrl || \"\"} rel=\"nofollow noopener\" target=\"_blank\">\n                <img className=\"embedImage-img\" src={url || \"\"} alt={name || \"\"} />\n            </a>\n        );\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { ensureScript } from \"@dashboard/dom\";\nimport { onContent } from \"@dashboard/application\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initImgurEmbeds() {\n    registerEmbedComponent(\"imgur\", ImgurEmbed);\n    onContent(convertImgurEmbeds);\n}\n\nexport class ImgurEmbed extends BaseEmbed {\n    public render() {\n        const { data } = this.props;\n        const { attributes } = data;\n        const { postID, isAlbum } = attributes;\n\n        const dataID = isAlbum ? `a/${postID}` : postID;\n        const url = `//imgur.com/${postID}`;\n\n        return <blockquote className=\"imgur-embed-pub\" data-id={dataID} />;\n    }\n\n    public componentDidMount() {\n        void convertImgurEmbeds().then(this.props.onRenderComplete);\n    }\n\n    public componentDidUpdate() {\n        void convertImgurEmbeds().then(this.props.onRenderComplete);\n    }\n}\n\n/**\n * Renders posted imgur embeds.\n */\nexport async function convertImgurEmbeds() {\n    const images = Array.from(document.querySelectorAll(\".imgur-embed-pub\"));\n    if (images.length > 0) {\n        await ensureScript(\"//s.imgur.com/min/embed.js\");\n\n        if (!window.imgurEmbed) {\n            throw new Error(\"The Imgur post failed to load\");\n        }\n\n        if (window.imgurEmbed.createIframe) {\n            const imagesLength = images.length;\n            for (let i = 0; i < imagesLength; i++) {\n                window.imgurEmbed.createIframe();\n            }\n        } else {\n            window.imgurEmbed.tasks = images.length;\n        }\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { ensureScript } from \"@dashboard/dom\";\nimport { onContent } from \"@dashboard/application\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initInstagramEmbeds() {\n    registerEmbedComponent(\"instagram\", InstagramEmbed);\n    onContent(convertInstagramEmbeds);\n}\n\nexport class InstagramEmbed extends BaseEmbed {\n    public render() {\n        const { data } = this.props;\n        const { attributes, url } = data;\n        const { permaLink, versionNumber, isCaptioned } = attributes;\n        if (!data.attributes.permaLink) {\n            throw new Error(\"Attempted to embed a Instagram post failed link is invalid\");\n        }\n\n        return (\n            <blockquote\n                className=\"instagram-media\"\n                data-instgrmPermalink={permaLink}\n                data-instgrmVersion={versionNumber}\n                data-instgrmCaptioned={isCaptioned}\n            >\n                <a href={url}>{url}</a>\n            </blockquote>\n        );\n    }\n\n    public componentDidMount() {\n        void convertInstagramEmbeds().then(this.props.onRenderComplete);\n    }\n\n    public componentDidUpdate() {\n        void convertInstagramEmbeds().then(this.props.onRenderComplete);\n    }\n}\n\n/**\n * Renders posted instagram embeds.\n */\nexport async function convertInstagramEmbeds() {\n    const instagramEmbeds = document.querySelectorAll(\".instagram-media\");\n    if (instagramEmbeds.length > 0) {\n        await ensureScript(\"//platform.instagram.com/en_US/embeds.js\");\n\n        if (!window.instgrm) {\n            throw new Error(\"The Instagram post failed to load\");\n        }\n\n        window.instgrm.Embeds.process();\n    }\n}\n","/**\n  shave - Shave is a javascript plugin that truncates multi-line text within a html element based on set max height\n  @version v2.3.0\n  @link https://github.com/dollarshaveclub/shave#readme\n  @author Jeff Wainwright <yowainwright@gmail.com> (jeffry.in)\n  @license MIT\n**/\nfunction shave(target, maxHeight) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  if (!maxHeight) throw Error('maxHeight is required');\n  var els = typeof target === 'string' ? document.querySelectorAll(target) : target;\n  if (!els) return;\n  var character = opts.character || '…';\n  var classname = opts.classname || 'js-shave';\n  var spaces = typeof opts.spaces === 'boolean' ? opts.spaces : true;\n  var charHtml = \"<span class=\\\"js-shave-char\\\">\".concat(character, \"</span>\");\n  if (!('length' in els)) els = [els];\n\n  for (var i = 0; i < els.length; i += 1) {\n    var el = els[i];\n    var styles = el.style;\n    var span = el.querySelector(\".\".concat(classname));\n    var textProp = el.textContent === undefined ? 'innerText' : 'textContent'; // If element text has already been shaved\n\n    if (span) {\n      // Remove the ellipsis to recapture the original text\n      el.removeChild(el.querySelector('.js-shave-char'));\n      el[textProp] = el[textProp]; // eslint-disable-line\n      // nuke span, recombine text\n    }\n\n    var fullText = el[textProp];\n    var words = spaces ? fullText.split(' ') : fullText; // If 0 or 1 words, we're done\n\n    if (words.length < 2) continue; // Temporarily remove any CSS height for text height calculation\n\n    var heightStyle = styles.height;\n    styles.height = 'auto';\n    var maxHeightStyle = styles.maxHeight;\n    styles.maxHeight = 'none'; // If already short enough, we're done\n\n    if (el.offsetHeight <= maxHeight) {\n      styles.height = heightStyle;\n      styles.maxHeight = maxHeightStyle;\n      continue;\n    } // Binary search for number of words which can fit in allotted height\n\n\n    var max = words.length - 1;\n    var min = 0;\n    var pivot = void 0;\n\n    while (min < max) {\n      pivot = min + max + 1 >> 1; // eslint-disable-line no-bitwise\n\n      el[textProp] = spaces ? words.slice(0, pivot).join(' ') : words.slice(0, pivot);\n      el.insertAdjacentHTML('beforeend', charHtml);\n      if (el.offsetHeight > maxHeight) max = spaces ? pivot - 1 : pivot - 2;else min = pivot;\n    }\n\n    el[textProp] = spaces ? words.slice(0, max).join(' ') : words.slice(0, max);\n    el.insertAdjacentHTML('beforeend', charHtml);\n    var diff = spaces ? \" \".concat(words.slice(max).join(' ')) : words.slice(max);\n    el.insertAdjacentHTML('beforeend', \"<span class=\\\"\".concat(classname, \"\\\" style=\\\"display:none;\\\">\").concat(diff, \"</span>\"));\n    styles.height = heightStyle;\n    styles.maxHeight = maxHeightStyle;\n  }\n}\n\nexport default shave;\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { sanitizeUrl } from \"@dashboard/utility\";\nimport { getData, setData } from \"@dashboard/dom\";\nimport debounce from \"lodash/debounce\";\nimport shave from \"shave\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initLinkEmbeds() {\n    registerEmbedComponent(\"link\", LinkEmbed);\n    truncateEmbedLinks();\n\n    // Retruncate links when the window resizes.\n    window.addEventListener(\"resize\", () => debounce(truncateEmbedLinks, 200)());\n}\n\nexport class LinkEmbed extends BaseEmbed {\n    public render() {\n        const { name, attributes, url, photoUrl, body } = this.props.data;\n        const title = name ? <h3 className=\"embedText-title embedLink-title\">{name}</h3> : null;\n\n        const source = <span className=\"embedLink-source meta\">{url}</span>;\n\n        let linkImage: JSX.Element | null = null;\n        if (photoUrl) {\n            linkImage = <img src={photoUrl} className=\"embedLink-image\" aria-hidden=\"true\" />;\n        }\n        const dateTime =\n            attributes.timestamp && attributes.humanTime ? (\n                <time className=\"embedLink-dateTime meta\" dateTime={attributes.timestamp}>\n                    {attributes.humanTime}\n                </time>\n            ) : null;\n\n        const sanitizedUrl = sanitizeUrl(url);\n        return (\n            <a className=\"embedLink-link\" href={sanitizedUrl} rel=\"noreferrer\">\n                <article className=\"embedText-body embedLink-body\">\n                    {linkImage}\n                    <div className=\"embedText-main embedLink-main\">\n                        <div className=\"embedText-header embedLink-header\">\n                            {title}\n                            {dateTime}\n                            {source}\n                        </div>\n                        <div className=\"embedLink-excerpt\">{body}</div>\n                    </div>\n                </article>\n            </a>\n        );\n    }\n}\n\n/**\n * Truncate embed link excerpts in a container\n *\n * @param container - Element containing embeds to truncate\n */\nexport function truncateEmbedLinks(container = document.body) {\n    const embeds = container.querySelectorAll(\".embedLink-excerpt\");\n    embeds.forEach(el => {\n        let untruncatedText = getData(el, \"untruncatedText\");\n\n        if (!untruncatedText) {\n            untruncatedText = el.innerHTML;\n            setData(el, \"untruncatedText\", untruncatedText);\n        } else {\n            el.innerHTML = untruncatedText;\n        }\n        truncateTextBasedOnMaxHeight(el);\n    });\n}\n\n/**\n * Truncate element text based on max-height\n *\n * @param excerpt - The excerpt to truncate.\n */\nfunction truncateTextBasedOnMaxHeight(excerpt: Element) {\n    const maxHeight = parseInt(getComputedStyle(excerpt)[\"max-height\"], 10);\n    if (maxHeight && maxHeight > 0) {\n        shave(excerpt, maxHeight);\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { registerEmbedComponent } from \"@dashboard/embeds\";\n\nexport function initSoundcloudEmbeds() {\n    registerEmbedComponent(\"soundcloud\", SoundcloudEmbed);\n}\n\nexport class SoundcloudEmbed extends BaseEmbed {\n    public render() {\n        const { attributes } = this.props.data;\n        const { postID, visual, showArtwork, embedUrl } = attributes;\n\n        // Ensure this is a track.\n        if (postID == null) {\n            throw new Error(\"Soundcloud embed fail, the track could not be found\");\n        }\n\n        const url = embedUrl + postID + \"&visual=\" + (visual || \"false\") + \"&show_artwork=\" + (showArtwork || \"false\");\n\n        return <iframe width=\"100%\" scrolling=\"no\" frameBorder=\"no\" src={url} />;\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { ensureScript } from \"@dashboard/dom\";\nimport { onContent } from \"@dashboard/application\";\nimport { IEmbedData, IEmbedElements, registerEmbedRenderer } from \"@dashboard/embeds\";\nimport { IScrapeData } from \"@dashboard/@types/api\";\n\nexport function initTwitterEmbeds() {\n    registerEmbedRenderer(\"twitter\", renderTweet);\n    onContent(convertTwitterEmbeds);\n    void convertTwitterEmbeds().then();\n}\n\n/**\n * Render a single twitter embed.\n */\nexport async function renderTweet(elements: IEmbedElements, data: IScrapeData) {\n    const contentElement = elements.content;\n    // Ensure the twitter library is loaded.\n    await ensureScript(\"//platform.twitter.com/widgets.js\");\n\n    if (!window.twttr) {\n        throw new Error(\"The Twitter widget failed to load.\");\n    }\n\n    // Ensure we have a status id to look up.\n    if (data.attributes.statusID == null) {\n        throw new Error(\"Attempted to embed a tweet but the statusID could not be found\");\n    }\n\n    // Check that we haven't already started to load this embed (In the case multiple onContents are fired off).\n    if (\n        !contentElement.classList.contains(\"js-twitterCardLoaded\") &&\n        !contentElement.classList.contains(\"js-twitterCardPreload\")\n    ) {\n        contentElement.classList.add(\"js-twitterCardPreload\");\n\n        // Render the embed.\n        const options = { conversation: \"none\" };\n        await window.twttr.widgets.createTweet(data.attributes.statusID, contentElement, options);\n        // Remove a url if there is one around.\n        const url = contentElement.querySelector(\".tweet-url\");\n        if (url) {\n            url.remove();\n        }\n\n        // Fade it in.\n        contentElement.classList.add(\"js-twitterCardLoaded\");\n    }\n}\n\n/**\n * Convert all of the twitter embeds in the page. This is for transforming twitter embeds that were\n * server rendered.\n *\n * @see library/Vanilla/Embeds/EmbedManager.php\n */\nexport async function convertTwitterEmbeds() {\n    const tweets = Array.from(document.querySelectorAll(\".js-twitterCard\"));\n    if (tweets.length > 0) {\n        await ensureScript(\"//platform.twitter.com/widgets.js\");\n        if (window.twttr) {\n            const promises = tweets.map(contentElement => {\n                // Get embed data out of the data attributes.\n                const statusID = contentElement.getAttribute(\"data-tweetid\");\n                const url = contentElement.getAttribute(\"data-tweeturl\") || \"\";\n\n                const renderData: IEmbedData = {\n                    type: \"twitter\",\n                    url,\n                    attributes: { statusID },\n                };\n\n                return renderTweet({ content: contentElement as HTMLElement, root: null as any }, renderData);\n            });\n\n            // Render all the pages twitter embeds at the same time.\n            await Promise.all(promises);\n        }\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport BaseEmbed from \"@dashboard/app/user-content/embeds/BaseEmbed\";\nimport { IEmbedProps, registerEmbedComponent } from \"@dashboard/embeds\";\nimport { simplifyFraction } from \"@dashboard/utility\";\nimport { t } from \"@dashboard/application\";\nimport { delegateEvent } from \"@dashboard/dom\";\nimport ReactDOM from \"react-dom\";\n\nexport function initVideoEmbeds() {\n    registerEmbedComponent(\"youtube\", VideoEmbed);\n    registerEmbedComponent(\"vimeo\", VideoEmbed);\n    registerEmbedComponent(\"twitch\", VideoEmbed);\n    registerEmbedComponent(\"wistia\", VideoEmbed);\n    delegateEvent(\"click\", \".js-playVideo\", handlePlayVideo);\n}\n\ninterface IState {\n    isPlaying: boolean;\n}\n\nexport class VideoEmbed extends BaseEmbed<IEmbedProps, IState> {\n    public constructor(props) {\n        super(props);\n        this.state = {\n            isPlaying: false,\n        };\n    }\n    public render() {\n        const { name, height, width, attributes, photoUrl } = this.props.data;\n        const { embedUrl } = attributes;\n\n        const ratioClass = this.ratioClass;\n        const style: React.CSSProperties = ratioClass\n            ? {}\n            : {\n                  paddingTop: ((height || 3) / (width || 4)) * 100 + \"%\",\n              };\n\n        const thumbnail = (\n            <div className={`embedVideo-ratio ${ratioClass}`} style={style}>\n                <button\n                    type=\"button\"\n                    data-url={embedUrl}\n                    aria-label={name || undefined}\n                    className=\"embedVideo-playButton iconButton\"\n                >\n                    <img\n                        onClick={this.clickHandler}\n                        src={photoUrl || undefined}\n                        role=\"presentation\"\n                        className=\"embedVideo-thumbnail\"\n                    />\n                    <span className=\"embedVideo-scrim\" />\n                    <PlayIcon />\n                </button>\n            </div>\n        );\n\n        return this.state.isPlaying ? <VideoIframe url={embedUrl} /> : thumbnail;\n    }\n\n    private clickHandler = () => {\n        this.setState({ isPlaying: true });\n    };\n\n    private get ratioClass(): string | undefined {\n        const { height, width } = this.props.data;\n        const ratio = simplifyFraction(height || 3, width || 4);\n        switch (ratio.shorthand) {\n            case \"21:9\":\n                return \"is21by9\";\n            case \"16:9\":\n                return \"is16by9\";\n            case \"4:3\":\n                return \"is4by3\";\n            case \"1:1\":\n                return \"is1by1\";\n        }\n    }\n}\n\nfunction VideoIframe(props: { url: string }) {\n    return (\n        <iframe\n            frameBorder=\"0\"\n            allow=\"autoplay; encrypted-media\"\n            className=\"embedVideo-iframe\"\n            src={props.url}\n            allowFullScreen={true}\n        />\n    );\n}\n\nfunction PlayIcon() {\n    const style: React.CSSProperties = { fill: \"currentColor\", strokeWidth: 0.3 };\n\n    return (\n        <svg className=\"embedVideo-playIcon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-1 -1 24 24\">\n            <title>{t(\"Play Video\")}</title>\n            <path\n                className=\"embedVideo-playIconPath embedVideo-playIconPath-circle\"\n                style={style}\n                d=\"M11,0A11,11,0,1,0,22,11,11,11,0,0,0,11,0Zm0,20.308A9.308,9.308,0,1,1,20.308,11,9.308,9.308,0,0,1,11,20.308Z\"\n            />\n            <polygon\n                className=\"embedVideo-playIconPath embedVideo-playIconPath-triangle\"\n                style={style}\n                points=\"8.609 6.696 8.609 15.304 16.261 11 8.609 6.696\"\n            />\n        </svg>\n    );\n}\n\n/**\n * Handle a click on a video.\n */\nfunction handlePlayVideo() {\n    // Inside of delegate event `this` is the current target of the event.\n    const playButton: HTMLElement = this;\n    const container = playButton.closest(\".embedVideo-ratio\");\n    if (container) {\n        const url = playButton.dataset.url as string;\n\n        ReactDOM.render(<VideoIframe url={url} />, container);\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { delegateEvent } from \"@dashboard/dom\";\n\nexport function initSpoilers() {\n    // Setup\n    delegateEvent(\"click\", \".js-toggleSpoiler\", handleToggleSpoiler);\n}\n\n/**\n * Toggle a spoiler open and closed.\n */\nfunction handleToggleSpoiler() {\n    const toggleButton: HTMLElement = this;\n\n    const spoilerContainer = toggleButton.closest(\".spoiler\");\n    if (spoilerContainer) {\n        spoilerContainer.classList.toggle(\"isShowingSpoiler\");\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport debounce from \"lodash/debounce\";\nimport { getElementHeight } from \"@dashboard/dom\";\n\ninterface IProps {\n    id: string;\n    isCollapsed: boolean;\n    preferredMaxHeight: number; // The actual max height could exceed this, but once we pass it stop adding elements.\n    setNeedsCollapser?: (needsCollapser: boolean) => void;\n    dangerouslySetInnerHTML: {\n        __html: string;\n    };\n}\n\ninterface IState {\n    maxHeight: number | string;\n}\n\ninterface IHeightInfo {}\n\n/**\n * A class for dynamic collapsable user content.\n */\nexport default class CollapsableUserContent extends React.PureComponent<IProps, IState> {\n    public state = {\n        maxHeight: \"100%\",\n    };\n    private selfRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n    public render() {\n        const style: React.CSSProperties = { overflow: \"hidden\", maxHeight: this.state.maxHeight };\n\n        return (\n            <div\n                id={this.props.id}\n                className=\"collapsableContent userContent\"\n                style={style}\n                ref={this.selfRef}\n                dangerouslySetInnerHTML={this.props.dangerouslySetInnerHTML}\n            />\n        );\n    }\n\n    /**\n     * Do the initial height calculation and recalcuate if the window dimensions change.\n     */\n    public componentDidMount() {\n        this.calcMaxHeight();\n        window.addEventListener(\"resize\", () =>\n            debounce(() => {\n                this.calcMaxHeight();\n            }, 200)(),\n        );\n    }\n\n    /**\n     * If certain primary props change we need to recalculate the content height.\n     */\n    public componentDidUpdate(prevProps: IProps) {\n        if (\n            prevProps.dangerouslySetInnerHTML.__html !== this.props.dangerouslySetInnerHTML.__html ||\n            prevProps.isCollapsed !== this.props.isCollapsed\n        ) {\n            this.calcMaxHeight();\n        }\n    }\n\n    /**\n     * Calculate the exact pixel max height of the content around the threshold of preferredMaxHeight.\n     */\n    private getHeightInfo(): {\n        height: number | null;\n        needsCollapser: boolean;\n    } {\n        const self = this.selfRef.current;\n\n        if (self === null) {\n            return {\n                height: null,\n                needsCollapser: false,\n            };\n        }\n\n        if (self.childElementCount <= 1) {\n            return {\n                height: null,\n                needsCollapser: false,\n            };\n        }\n\n        let finalMaxHeight = 0;\n        let lastBottomMargin = 0;\n        for (const child of Array.from(self.children)) {\n            if (finalMaxHeight > this.props.preferredMaxHeight) {\n                return {\n                    height: finalMaxHeight,\n                    needsCollapser: true,\n                };\n            }\n\n            const { height, bottomMargin } = getElementHeight(child, lastBottomMargin);\n            if (finalMaxHeight > 0 && height > this.props.preferredMaxHeight) {\n                return {\n                    height: finalMaxHeight,\n                    needsCollapser: true,\n                };\n            }\n            lastBottomMargin = bottomMargin;\n\n            finalMaxHeight += height;\n        }\n\n        return {\n            height: finalMaxHeight,\n            needsCollapser: finalMaxHeight > this.props.preferredMaxHeight,\n        };\n    }\n\n    /**\n     * Calculate the CSS max height that we want to apply to the container div.\n     */\n    private calcMaxHeight() {\n        const { height, needsCollapser } = this.getHeightInfo();\n        if (needsCollapser && this.props.isCollapsed) {\n            this.setState({ maxHeight: height! });\n        } else {\n            this.setState({ maxHeight: this.selfRef.current!.scrollHeight });\n        }\n\n        this.props.setNeedsCollapser && this.props.setNeedsCollapser(needsCollapser);\n    }\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { registerEmbedComponent, IEmbedProps, IEmbedData, IQuoteEmbedData } from \"@dashboard/embeds\";\nimport { onContent, t, formatUrl, makeProfileUrl } from \"@dashboard/application\";\nimport CollapsableUserContent from \"@dashboard/app/user-content/CollapsableContent\";\nimport uniqueId from \"lodash/uniqueId\";\nimport classnames from \"classnames\";\nimport api from \"@dashboard/apiv2\";\n\nexport function initQuoteEmbeds() {\n    registerEmbedComponent(\"quote\", QuoteEmbed as any);\n    onContent(mountQuoteEmbeds);\n}\n\n/**\n * Mount all of the existing quote embeds in the page.\n *\n * Data (including server rendered HTML content should be coming down in JSON encoded attribute data-json).\n */\nexport function mountQuoteEmbeds() {\n    const embeds = document.querySelectorAll(\".js-quoteEmbed\");\n    for (const embed of embeds) {\n        const data = embed.getAttribute(\"data-json\");\n        if (data) {\n            const quoteData = JSON.parse(data) as IEmbedData;\n            const onRenderComplete = () => {\n                embed.removeAttribute(\"data-json\");\n                embed.classList.remove(\"embedResponsive-initialLink\");\n            };\n            ReactDOM.render(\n                <QuoteEmbed data={quoteData} inEditor={false} onRenderComplete={onRenderComplete} />,\n                embed,\n            );\n        }\n    }\n}\n\ninterface IState {\n    isCollapsed: boolean;\n    needsCollapseButton: boolean;\n    renderedBody: string;\n}\n\nfunction ChevronUpIcon() {\n    return (\n        <svg className=\"icon embedQuote-chevronUp\" viewBox=\"0 0 20 20\">\n            <title>{t(\"▲\")}</title>\n            <path\n                fill=\"currentColor\"\n                stroke-linecap=\"square\"\n                fill-rule=\"evenodd\"\n                d=\"M6.79521339,4.1285572 L6.13258979,4.7726082 C6.04408814,4.85847112 6,4.95730046 6,5.0690962 C6,5.18057569 6.04408814,5.27940502 6.13258979,5.36526795 L11.3416605,10.4284924 L6.13275248,15.4915587 C6.04425083,15.5774216 6.00016269,15.6762509 6.00016269,15.7878885 C6.00016269,15.8995261 6.04425083,15.9983555 6.13275248,16.0842184 L6.79537608,16.7282694 C6.88371504,16.8142905 6.98539433,16.8571429 7.10025126,16.8571429 C7.21510819,16.8571429 7.31678748,16.8141323 7.40512644,16.7282694 L13.5818586,10.7248222 C13.6701976,10.6389593 13.7142857,10.54013 13.7142857,10.4284924 C13.7142857,10.3168547 13.6701976,10.2181835 13.5818586,10.1323206 L7.40512644,4.1285572 C7.31678748,4.04269427 7.21510819,4 7.10025126,4 C6.98539433,4 6.88371504,4.04269427 6.79521339,4.1285572 L6.79521339,4.1285572 Z\"\n                transform=\"rotate(-90 9.857 10.429)\"\n            />\n        </svg>\n    );\n}\n\nfunction ChevronDownIcon() {\n    return (\n        <svg className=\"icon embedQuote-chevronDown\" viewBox=\"0 0 20 20\">\n            <title>{t(\"▼\")}</title>\n            <path\n                fill=\"currentColor\"\n                stroke-linecap=\"square\"\n                fill-rule=\"evenodd\"\n                d=\"M6.79521339,4.1285572 L6.13258979,4.7726082 C6.04408814,4.85847112 6,4.95730046 6,5.0690962 C6,5.18057569 6.04408814,5.27940502 6.13258979,5.36526795 L11.3416605,10.4284924 L6.13275248,15.4915587 C6.04425083,15.5774216 6.00016269,15.6762509 6.00016269,15.7878885 C6.00016269,15.8995261 6.04425083,15.9983555 6.13275248,16.0842184 L6.79537608,16.7282694 C6.88371504,16.8142905 6.98539433,16.8571429 7.10025126,16.8571429 C7.21510819,16.8571429 7.31678748,16.8141323 7.40512644,16.7282694 L13.5818586,10.7248222 C13.6701976,10.6389593 13.7142857,10.54013 13.7142857,10.4284924 C13.7142857,10.3168547 13.6701976,10.2181835 13.5818586,10.1323206 L7.40512644,4.1285572 C7.31678748,4.04269427 7.21510819,4 7.10025126,4 C6.98539433,4 6.88371504,4.04269427 6.79521339,4.1285572 L6.79521339,4.1285572 Z\"\n                transform=\"rotate(90 9.857 10.429)\"\n            />\n        </svg>\n    );\n}\n\n/**\n * An embed class for quoted user content on the same site.\n *\n * This is not an editable quote. Instead it an expandable/collapsable snapshot of the quoted/embedded comment/discussion.\n *\n * This can either recieve the post format and body (when created directly in the editor) or be given the fully rendered content (when mounting on top of existing server rendered DOM stuff).\n */\nexport class QuoteEmbed extends React.Component<IEmbedProps<IEmbedData>, IState> {\n    public state: IState = {\n        isCollapsed: true,\n        renderedBody: \"\",\n        needsCollapseButton: false,\n    };\n\n    public render() {\n        const { body, insertUser } = this.quoteData;\n        const id = uniqueId(\"collapsableContent-\");\n\n        const name = (this.quoteData as any).name;\n\n        const title = name ? (\n            <h2 className=\"embedText-title embedQuote-title\">\n                <a href={this.quoteData.url} className=\"embedText-titleLink\">\n                    {name}\n                </a>\n            </h2>\n        ) : null;\n\n        const bodyClasses = classnames(\"embedText-body\", \"embedQuote-body\", { isCollapsed: this.state.isCollapsed });\n        const userUrl = makeProfileUrl(insertUser.name);\n\n        return (\n            <blockquote className={bodyClasses}>\n                <div className=\"embedText-header embedQuote-header\">\n                    {title}\n                    <a href={userUrl} className=\"embedQuote-userLink\">\n                        <span className=\"embedQuote-userPhotoWrap\">\n                            <img\n                                src={insertUser.photoUrl}\n                                alt={insertUser.name}\n                                className=\"embedQuote-userPhoto\"\n                                tabIndex={-1}\n                            />\n                        </span>\n                        <span className=\"embedQuote-userName\">{insertUser.name}</span>\n                    </a>\n                    <a href={this.quoteData.url} className=\"embedQuote-metaLink\">\n                        <time\n                            className=\"embedText-dateTime embedQuote-dateTime meta\"\n                            dateTime={this.dateTime}\n                            title={this.titleTime}\n                        >\n                            {this.humanTime}\n                        </time>\n                    </a>\n\n                    {this.state.needsCollapseButton && (\n                        <button\n                            type=\"button\"\n                            className=\"embedQuote-collapseButton\"\n                            aria-label={t(\"Toggle Quote\")}\n                            onClick={this.toggleCollapseState}\n                            aria-pressed={this.state.isCollapsed}\n                        >\n                            {this.state.isCollapsed ? <ChevronDownIcon /> : <ChevronUpIcon />}\n                        </button>\n                    )}\n                </div>\n                <div className=\"embedText-main embedQuote-main\">\n                    <div className=\"embedQuote-excerpt\">\n                        <CollapsableUserContent\n                            setNeedsCollapser={this.setNeedsCollapser}\n                            isCollapsed={this.state.isCollapsed}\n                            id={id}\n                            preferredMaxHeight={100}\n                            dangerouslySetInnerHTML={{ __html: body ? body : this.state.renderedBody }}\n                        />\n                    </div>\n                </div>\n            </blockquote>\n        );\n    }\n\n    /**\n     * When the component mounts we need to ensure we have rendered post content.\n     *\n     * Either we were passed the content, or we need to make an API call to render it.\n     */\n    public componentDidMount() {\n        if (this.quoteData.body) {\n            this.props.onRenderComplete();\n        } else {\n            const body =\n                this.quoteData.format === \"Rich\" ? JSON.stringify(this.quoteData.bodyRaw) : this.quoteData.bodyRaw;\n            void api\n                .post(\"/rich/quote\", {\n                    body,\n                    format: this.quoteData.format,\n                })\n                .then(response => {\n                    this.setState({ renderedBody: response.data.quote }, this.props.onRenderComplete);\n                });\n        }\n    }\n\n    /**\n     * Callback for the collapser to determine if we need to show the collapse toggle or not.\n     */\n    private setNeedsCollapser = needsCollapser => {\n        this.setState({ needsCollapseButton: needsCollapser });\n    };\n\n    /**\n     * Toggle the state of whether or not we are collapsed.\n     */\n    private toggleCollapseState = (event: React.ChangeEvent<any>) => {\n        event.preventDefault();\n        this.setState({ isCollapsed: !this.state.isCollapsed });\n    };\n\n    /**\n     * Get the quote embed data out of the scrape data.\n     */\n    private get quoteData(): IQuoteEmbedData {\n        return this.props.data.attributes as IQuoteEmbedData;\n    }\n\n    /**\n     * Get the timestamp to display.\n     */\n    private get dateTime(): string {\n        return this.quoteData.dateUpdated || this.quoteData.dateInserted;\n    }\n\n    /**\n     * Get the title of the time tag (long extended date)\n     */\n    private get titleTime(): string {\n        const date = new Date(this.dateTime);\n        return date.toLocaleString(undefined, {\n            year: \"numeric\",\n            month: \"long\",\n            day: \"numeric\",\n            weekday: \"long\",\n            hour: \"numeric\",\n            minute: \"numeric\",\n        });\n    }\n\n    /**\n     * Get a shorter human readable time for the time tag.\n     */\n    private get humanTime(): string {\n        const date = new Date(this.dateTime);\n        return date.toLocaleString(undefined, { year: \"numeric\", month: \"short\", day: \"numeric\" });\n    }\n}\n","/**\n * Wire together the different parts of the application.\n *\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { initCodePenEmbeds } from \"@dashboard/app/user-content/embeds/codepen\";\nimport { initGettyEmbeds, convertGettyEmbeds } from \"@dashboard/app/user-content/embeds/getty\";\nimport { initGiphyEmbeds } from \"@dashboard/app/user-content/embeds/giphy\";\nimport { initImageEmbeds } from \"@dashboard/app/user-content/embeds/image\";\nimport { initImgurEmbeds, convertImgurEmbeds } from \"@dashboard/app/user-content/embeds/imgur\";\nimport { initInstagramEmbeds, convertInstagramEmbeds } from \"@dashboard/app/user-content/embeds/instagram\";\nimport { initLinkEmbeds } from \"@dashboard/app/user-content/embeds/link\";\nimport { initSoundcloudEmbeds } from \"@dashboard/app/user-content/embeds/soundcloud\";\nimport { initTwitterEmbeds, convertTwitterEmbeds } from \"@dashboard/app/user-content/embeds/twitter\";\nimport { initVideoEmbeds } from \"@dashboard/app/user-content/embeds/video\";\nimport { initEmojiSupport } from \"@dashboard/app/user-content/emoji\";\nimport { initSpoilers } from \"@dashboard/app/user-content/spoilers\";\nimport { initQuoteEmbeds, mountQuoteEmbeds } from \"@dashboard/app/user-content/embeds/quote\";\n\nexport function initAllUserContent() {\n    // User content\n    initEmojiSupport();\n    initSpoilers();\n    initCodePenEmbeds();\n    initGettyEmbeds();\n    initGiphyEmbeds();\n    initImageEmbeds();\n    initImgurEmbeds();\n    initInstagramEmbeds();\n    initLinkEmbeds();\n    initSoundcloudEmbeds();\n    initTwitterEmbeds();\n    initVideoEmbeds();\n    initQuoteEmbeds();\n}\n\n/**\n * Runs method for all embeds that need to be rendered everytime content changes.\n * This is ideal for something like react's `componentDidMount`.\n */\nexport function convertAllUserContent() {\n    void convertGettyEmbeds();\n    void convertImgurEmbeds();\n    void convertInstagramEmbeds();\n    void convertTwitterEmbeds();\n    void mountQuoteEmbeds();\n}\n","/**\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport { onReady, onContent } from \"@dashboard/application\";\nimport { convertToSafeEmojiCharacters } from \"@dashboard/dom\";\n\nexport function initEmojiSupport() {\n    // Emoji\n    onReady(() => convertToSafeEmojiCharacters(document.body));\n    onContent(() => convertToSafeEmojiCharacters(document.body));\n}\n","/**\n * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport className from \"classnames\";\nimport { initAllUserContent } from \"@dashboard/app/user-content\";\n\ninterface IUserContent {\n    className?: string;\n    content: string;\n}\n\nexport default class UserContent extends React.Component<IUserContent> {\n    public render() {\n        return (\n            <div\n                className={className(\"userContent\", this.props.className)}\n                dangerouslySetInnerHTML={{ __html: this.props.content }}\n            />\n        );\n    }\n\n    public componentDidMount() {\n        initAllUserContent();\n    }\n}\n","/**\n * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport * as React from \"react\";\nimport className from \"classnames\";\n\nexport interface IContainer {\n    className?: string;\n    children?: JSX.Element;\n    tag?: string;\n}\n\nexport default class Container extends React.Component<IContainer> {\n    public static defaultProps = {\n        tag: \"div\",\n    };\n\n    public render() {\n        if (this.props.children) {\n            const Tag = `${this.props.tag}`;\n            return <Tag className={className(\"container\", this.props.className)}>{this.props.children}</Tag>;\n        } else {\n            return null;\n        }\n    }\n}\n","/**\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nimport React from \"react\";\nimport { match } from \"react-router\";\nimport { t } from \"@dashboard/application\";\nimport { connect } from \"react-redux\";\nimport { IStoreState, IArticlePageState } from \"@knowledge/@types/state\";\nimport { IBreadcrumbsProps } from \"@knowledge/components/Breadcrumbs\";\nimport PanelLayout from \"@knowledge/layouts/PanelLayout\";\nimport PanelWidget from \"@knowledge/components/PanelWidget\";\nimport PageHeading from \"@knowledge/components/PageHeading\";\nimport UserContent from \"@knowledge/components/UserContent\";\nimport { IDeviceProps } from \"@knowledge/components/DeviceChecker\";\nimport { withDevice } from \"@knowledge/contexts/DeviceContext\";\nimport Container from \"@knowledge/layouts/components/Container\";\nimport { Devices } from \"@knowledge/components/DeviceChecker\";\nimport { dummyTestPost1, dummyTestPost2, dummyPostEverything } from \"@knowledge/dummyPostHTML\";\nimport { LoadStatus } from \"@dashboard/@types/api\";\n\ninterface IProps extends IDeviceProps {\n    match: match<{\n        id: string;\n    }>;\n    articlePageState: IArticlePageState;\n}\n\ninterface IState {\n    menuOpen: boolean;\n}\n\nexport class ArticlePage extends React.Component<IProps, IState> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            menuOpen: false,\n        };\n    }\n\n    public render() {\n        if (this.props.articlePageState.status !== LoadStatus.SUCCESS) {\n            return null;\n        }\n\n        const article = this.props.articlePageState.data.article;\n\n        return (\n            <React.Fragment>\n                <Container>\n                    <PanelLayout\n                        device={this.props.device}\n                        breadcrumbs={this.dummyBreadcrumbData}\n                        toggleMobileMenu={toggleMobileMenu}\n                    >\n                        {{\n                            leftTopComponents: (\n                                <PanelWidget>\n                                    <PageHeading title={t(\"Actions\")} />\n                                </PanelWidget>\n                            ),\n                            leftBottomComponents: (\n                                <React.Fragment>\n                                    <PanelWidget>\n                                        <PageHeading title={t(\"Navigation\")} />\n                                    </PanelWidget>\n                                </React.Fragment>\n                            ),\n                            middleTopComponents: (\n                                <PanelWidget>\n                                    <PageHeading title={article.name} />\n                                </PanelWidget>\n                            ),\n                            middleBottomComponents: (\n                                <PanelWidget>\n                                    <UserContent content={this.dummyPostData} />\n                                </PanelWidget>\n                            ),\n                            rightTopComponents: (\n                                <PanelWidget>\n                                    <PageHeading title={t(\"Table of Contents\")} />\n                                </PanelWidget>\n                            ),\n                            rightBottomComponents: (\n                                <PanelWidget>\n                                    <PageHeading title={t(\"Related Articles\")} />\n                                </PanelWidget>\n                            ),\n                        }}\n                    </PanelLayout>\n                </Container>\n            </React.Fragment>\n        );\n    }\n\n    private get dummyPostData(): string {\n        switch (this.props.match.params.id) {\n            case \"test-post-1\":\n                return dummyTestPost1;\n            case \"test-post-2\":\n                return dummyTestPost2;\n            case \"test-post-all\":\n                return dummyPostEverything;\n            default:\n                return \"No dummy post data exists for this URL\";\n        }\n    }\n\n    private get dummyBreadcrumbData(): IBreadcrumbsProps {\n        return {\n            children: [\n                {\n                    name: \"one\",\n                    url: \"#\",\n                },\n                {\n                    name: \"two\",\n                    url: \"#\",\n                },\n                {\n                    name: \"three\",\n                    url: \"#\",\n                },\n                {\n                    name: \"four\",\n                    url: \"#\",\n                },\n                {\n                    name: \"five\",\n                    url: \"#\",\n                },\n                {\n                    name: \"six\",\n                    url: \"#\",\n                },\n            ],\n        };\n    }\n}\n\nfunction mapStateToProps(state: IStoreState) {\n    return {\n        articlePageState: state.knowledge.articlePage,\n    };\n}\n\nfunction toggleMobileMenu(open: boolean = !this.state.open) {\n    this.setState({\n        menuOpen: open,\n    });\n}\n\nconst withRedux = connect(mapStateToProps);\n\nexport default withRedux(withDevice(ArticlePage));\n","/**\n * This file contains a dummy post HTML taken from rendered rich editor posts before javascript ran.\n * To use these just import the one you want. These should be removed once we have the API hooked up.\n *\n * @author Adam (charrondev) Charron <adam.c@vanillaforums.com>\n * @copyright 2009-2018 Vanilla Forums Inc.\n * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0\n */\n\nexport const dummyTestPost1 = `\n<p>I guess it's worth pointing out as well that there were numerous backwards incompatible changes in PHP 7.1 and PHP 7.2. We even ran into some ourselves.</p><h3><em>But...</em></h3><p>PHP 7.0 will no longer receive security patches after December 2018 <a href=\"http://php.net/supported-versions.php\" target=\"_blank\">http://php.net/supported-versions.php</a>.</p><p>So I think come December there is no good reason for us to offer any support for PHP 7.0. Since that is not an option we have 3 choices:</p><h2>Upgrade to PHP 7.1</h2><p>We pretty much have to do this one and it seems to have the biggest improvements and the biggest breaking changes.</p><h3>Major Features Gained</h3><ul><li>Type safety improvements (<em>This seems to be the biggest improvement</em>). Nullable types, void functions, iterable pseudo type (This is huge in us trying to move it data fragments that are iterable classes. Improves type safety, helps us remove val in more places, improve memory usage).</li><li>Class constant visibility.</li><li>Syntax sugar for array destructuring.</li></ul><h3>Major breaking changes</h3><ul><li>Throw on passing too few function arguments. <strong><em>This was significant</em></strong>. It required a good amount of effort on our part just to resolve issues with a single function call.</li><li>The empty index operator is not supported for strings anymore. We also ran into this but its scope wasn't as large.</ li > </ul><h2>Upgrade to PHP 7.2</h2 > <p>Whether we want this to me really depends on if we have any intention of using LibSodium or Argon2 any time soon.The rest of the stuff doesn't seem to be of significant utility.</p><p>Personally I feel like we could skip this one.</p><h3>Major Features Gained</h3><ul><li>LibSodium as a core library. Argon2 for password hashing. <em>Are we actually intending to use this any time soon?</em></li><li><code class=\"codeInline code isInline\" spellcheck=\"false\">object</code> type</li><li>Abstract method overriding and Parameter type widening. <em>Does anyone else see a major benefit here? I almost view this as an anti-pattern because doing so breaks a contract of the base class.</em></li></ul><h3>Major breaking changes</h3><p>I don't feel like listing all of these out.We didn't run into any of these issues however.</p><ul><li><a href=\"http://php.net/manual/en/migration72.incompatible.php\" target=\"_blank\">http://php.net/manual/en/migration72.incompatible.php</a></li></ul><h2>What about PHP 7.3</h2><ul><li>heredoc improvements. These seem of limited utility as we are trying to <strong>never right templates in PHP going forward.</strong></li><li>Allow a trailing comma in function calls. <em>This is a nicety.</em></li><li>array_key_first(), array_key_last() <em>I wasn't even aware that this was such a PITA in PHP, but I guess it is if want any accurate last / first index without affecting the internal array pointer.< /em></li > <li>Enhancements to Argon2 password hashing.< /li></ul > <h2>Summary < /h2><p><em>If we want to support as many hosts for open source as possible:</em > </p><p>Unless we want to use LibSodium or the more limited implementation of Argon2 password hashing in PHP 7.2 I think upping the requirement to PHP 7.1 and then jumping directly to PHP 7.3 next year.</p > <p><em>If we don't care about the 20% gap in hosting that supports 7.1 and not 7.2</em></p><p>We jump to 7.2 and reconsider when 7.4/8.0 is out.</p>\n`;\n\nexport const dummyTestPost2 = `\n<p>Our current&nbsp;<a href=\"https://github.com/vanilla/standards\" rel=\"nofollow\">coding standard</a>&nbsp;is largely unused.</p><p>It seems that:</p><ul><li>No one was running it locally (in PHPStorm or from the command line)</li><li>Our installation docs don't mention the years old version of CodeSniffer that is actually required to run our Sniffs and say to install it with PEAR.&nbsp;<a href=\"https://docs.vanillaforums.com/developer/contributing/coding-standard-php/#validating-your-php-code\" rel=\"nofollow\"><em>I've updated the docs for this</em></a></li><li>We don't run it CI&nbsp;<a href=\"https://github.com/vanilla/vanilla/issues/7393\" rel=\"nofollow\">Issue here</a></li></ul><p>All of these things in mind there was nothing actually validating our new code. This isn't exactly the path towards enforcing a coding standard.</p><p>Part of the reason no one was running it locally besides the installation instructions was that the standards were way to strict in certain areas. Old code had so many violations that it seemed impossible to even work with it on.</p><h2>Analysis</h2><p>I've including a log of the phpcs issues with our DiscussionController:</p><div class=\"spoiler\"><div contenteditable=\"false\" class=\"spoiler-buttonContainer\">\n<button class=\"iconButton button-spoiler js-toggleSpoiler\">\n<span class=\"spoiler-warning\">\n<span class=\"spoiler-warningMain\">\n<svg class=\"icon spoiler-icon\" viewBox=\"0 0 24 24\">\n<title>Spoiler</title>\n<path d=\"M8.138,16.569l.606-.606a6.677,6.677,0,0,0,1.108.562,5.952,5.952,0,0,0,2.674.393,7.935,7.935,0,0,0,1.008-.2,11.556,11.556,0,0,0,5.7-4.641.286.286,0,0,0-.02-.345c-.039-.05-.077-.123-.116-.173a14.572,14.572,0,0,0-2.917-3.035l.6-.6a15.062,15.062,0,0,1,2.857,3.028,1.62,1.62,0,0,0,.154.245,1.518,1.518,0,0,1,.02,1.5,12.245,12.245,0,0,1-6.065,4.911,6.307,6.307,0,0,1-1.106.22,4.518,4.518,0,0,1-.581.025,6.655,6.655,0,0,1-2.383-.466A8.023,8.023,0,0,1,8.138,16.569Zm-.824-.59a14.661,14.661,0,0,1-2.965-3.112,1.424,1.424,0,0,1,0-1.867A13.69,13.69,0,0,1,8.863,6.851a6.31,6.31,0,0,1,6.532.123c.191.112.381.231.568.356l-.621.621c-.092-.058-.184-.114-.277-.168a5.945,5.945,0,0,0-3.081-.909,6.007,6.007,0,0,0-2.868.786,13.127,13.127,0,0,0-4.263,3.929c-.214.271-.214.343,0,.639a13.845,13.845,0,0,0,3.059,3.153ZM13.9,9.4l-.618.618a2.542,2.542,0,0,0-3.475,3.475l-.61.61A3.381,3.381,0,0,1,12,8.822,3.4,3.4,0,0,1,13.9,9.4Zm.74.674a3.3,3.3,0,0,1,.748,2.138,3.382,3.382,0,0,1-5.515,2.629l.6-.6a2.542,2.542,0,0,0,3.559-3.559Zm-3.146,3.146L13.008,11.7a1.129,1.129,0,0,1-1.516,1.516Zm-.6-.811a1.061,1.061,0,0,1-.018-.2A1.129,1.129,0,0,1,12,11.079a1.164,1.164,0,0,1,.2.017Z\" style=\"currentColor\"></path>\n<polygon points=\"19.146 4.146 19.854 4.854 4.854 19.854 4.146 19.146 19.146 4.146\" style=\"currentColor\"></polygon>\n</svg>\n<strong class=\"spoiler-warningBefore\">\nSpoiler Warning\n</strong>\n</span>\n<span class=\"spoiler-chevron\">\n<svg class=\"icon spoiler-chevronUp\" viewBox=\"0 0 20 20\">\n<title>▲</title>\n<path fill=\"currentColor\" stroke-linecap=\"square\" fill-rule=\"evenodd\" d=\"M6.79521339,4.1285572 L6.13258979,4.7726082 C6.04408814,4.85847112 6,4.95730046 6,5.0690962 C6,5.18057569 6.04408814,5.27940502 6.13258979,5.36526795 L11.3416605,10.4284924 L6.13275248,15.4915587 C6.04425083,15.5774216 6.00016269,15.6762509 6.00016269,15.7878885 C6.00016269,15.8995261 6.04425083,15.9983555 6.13275248,16.0842184 L6.79537608,16.7282694 C6.88371504,16.8142905 6.98539433,16.8571429 7.10025126,16.8571429 C7.21510819,16.8571429 7.31678748,16.8141323 7.40512644,16.7282694 L13.5818586,10.7248222 C13.6701976,10.6389593 13.7142857,10.54013 13.7142857,10.4284924 C13.7142857,10.3168547 13.6701976,10.2181835 13.5818586,10.1323206 L7.40512644,4.1285572 C7.31678748,4.04269427 7.21510819,4 7.10025126,4 C6.98539433,4 6.88371504,4.04269427 6.79521339,4.1285572 L6.79521339,4.1285572 Z\" transform=\"rotate(-90 9.857 10.429)\"></path>\n</svg>\n<svg class=\"icon spoiler-chevronDown\" viewBox=\"0 0 20 20\">\n<title>▼</title>\n<path fill=\"currentColor\" stroke-linecap=\"square\" fill-rule=\"evenodd\" d=\"M6.79521339,4.1285572 L6.13258979,4.7726082 C6.04408814,4.85847112 6,4.95730046 6,5.0690962 C6,5.18057569 6.04408814,5.27940502 6.13258979,5.36526795 L11.3416605,10.4284924 L6.13275248,15.4915587 C6.04425083,15.5774216 6.00016269,15.6762509 6.00016269,15.7878885 C6.00016269,15.8995261 6.04425083,15.9983555 6.13275248,16.0842184 L6.79537608,16.7282694 C6.88371504,16.8142905 6.98539433,16.8571429 7.10025126,16.8571429 C7.21510819,16.8571429 7.31678748,16.8141323 7.40512644,16.7282694 L13.5818586,10.7248222 C13.6701976,10.6389593 13.7142857,10.54013 13.7142857,10.4284924 C13.7142857,10.3168547 13.6701976,10.2181835 13.5818586,10.1323206 L7.40512644,4.1285572 C7.31678748,4.04269427 7.21510819,4 7.10025126,4 C6.98539433,4 6.88371504,4.04269427 6.79521339,4.1285572 L6.79521339,4.1285572 Z\" transform=\"rotate(90 9.857 10.429)\"></path>\n</svg>\n</span>\n</span>\n</button></div><div class=\"spoiler-content\"><p class=\"spoiler-line\">1 | ERROR | There must be a single blank line after the last</p><p class=\"spoiler-line\"> | | param tag</p><p class=\"spoiler-line\">17 | WARNING | Property name \"$Uses\" should be camelCase</p><p class=\"spoiler-line\">20 | WARNING | Property name \"$CategoryID\" should be camelCase</p><p class=\"spoiler-line\">23 | WARNING | Property name \"$CommentModel\" should be camelCase</p><p class=\"spoiler-line\">26 | WARNING | Property name \"$DiscussionModel\" should be</p><p class=\"spoiler-line\">| | camelCase</p><p class=\"spoiler-line\">28 | ERROR | Doc comment for parameter \"$name\" missing</p><p class=\"spoiler-line\">28 | ERROR | Doc comment short description must be on the first</p><p class=\"spoiler-line\">| | line</p><p class=\"spoiler-line\">31 | ERROR | There must be exactly one blank line before the</p><p class=\"spoiler-line\">| | first tag in a doc comment</p><p class=\"spoiler-line\">31 | ERROR | There must be a single blank line after the last</p><p class=\"spoiler-line\">| | param tag</p><p class=\"spoiler-line\">31 | ERROR | Missing parameter name</p><p class=\"spoiler-line\">33 | ERROR | Comment missing for&nbsp;<a href=\"https://staff.vanillaforums.com/profile/throws\" rel=\"nofollow\">@throws</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">54 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">261 | WARNING | Line exceeds 150 characters; contains 151</p><p class=\"spoiler-line\">| | characters</p><p class=\"spoiler-line\">294 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">312 | WARNING | Line exceeds 150 characters; contains 163</p><p class=\"spoiler-line\">| | characters</p><p class=\"spoiler-line\">333 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">348 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">379 | ERROR | Superfluous parameter comment</p><p class=\"spoiler-line\">380 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">420 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">476 | WARNING | Line exceeds 150 characters; contains 152</p><p class=\"spoiler-line\">| | characters</p><p class=\"spoiler-line\">512 | ERROR | Doc comment for parameter \"$target\" missing</p><p class=\"spoiler-line\">524 | ERROR | Doc comment for parameter $TransientKey does not</p><p class=\"spoiler-line\">| | match actual variable name $target</p><p class=\"spoiler-line\">525 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">564 | ERROR | Doc comment for parameter \"$discussion\" missing</p><p class=\"spoiler-line\">564 | ERROR | Doc comment short description must be on the first</p><p class=\"spoiler-line\">| | line</p><p class=\"spoiler-line\">567 | ERROR | There must be exactly one blank line before the</p><p class=\"spoiler-line\">| | first tag in a doc comment</p><p class=\"spoiler-line\">567 | ERROR | There must be a single blank line after the last</p><p class=\"spoiler-line\">| | param tag</p><p class=\"spoiler-line\">567 | ERROR | Missing parameter name</p><p class=\"spoiler-line\">568 | ERROR | Comment missing for&nbsp;<a href=\"https://staff.vanillaforums.com/profile/throws\" rel=\"nofollow\">@throws</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">569 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">572 | ERROR | Line exceeds maximum limit of 180 characters;</p><p class=\"spoiler-line\">| | contains 197 characters</p><p class=\"spoiler-line\">575 | ERROR | Doc comment for parameter \"$from\" missing</p><p class=\"spoiler-line\">587 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">620 | ERROR | Doc comment for parameter \"$From\" missing</p><p class=\"spoiler-line\">632 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">674 | ERROR | Doc comment for parameter \"$target\" missing</p><p class=\"spoiler-line\">683 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">728 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">786 | ERROR | Missing parameter comment</p><p class=\"spoiler-line\">787 | ERROR | Missing parameter comment</p><p class=\"spoiler-line\">788 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">924 | WARNING | Line exceeds 150 characters; contains 176</p><p class=\"spoiler-line\">| | characters</p><p class=\"spoiler-line\">925 | WARNING | Line exceeds 150 characters; contains 173</p><p class=\"spoiler-line\">| | characters</p><p class=\"spoiler-line\">987 | ERROR | Class comment short description must be on a single</p><p class=\"spoiler-line\">| | line</p><p class=\"spoiler-line\">989 | ERROR | Missing parameter comment</p><p class=\"spoiler-line\">990 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">999 | ERROR | Class comment short description must be on a single</p><p class=\"spoiler-line\">| | line</p><p class=\"spoiler-line\">1001 | ERROR | Missing parameter comment</p><p class=\"spoiler-line\">1002 | ERROR | Missing&nbsp;<a href=\"https://staff.vanillaforums.com/profile/return\" rel=\"nofollow\">@return</a>&nbsp;tag in function comment</p><p class=\"spoiler-line\">1042 | WARNING | Method name \"_setOpenGraph\" should not be prefixed</p><p class=\"spoiler-line\">| | with an underscore to indicate visibility</p><p class=\"spoiler-line\">1042 | ERROR | Missing function doc comment</p></div></div><p>Spoiler</p><ul><li>90% of these have to do with comment validation</li><li>A couple are for variable naming</li><li>A couple are for line length (More than 150 characters?)</li><li>There are none for the various unused variables</li><li>There are none for dynamically created class properties</li></ul><p>In summary all of our warnings here are for cosmetic fixes (that aren't actually inline with our coding standard), but there is nothing picking up the potential bugs.</p><h2>Fixes</h2><p>I'm proposing a few changes the standard to relax this.</p><h3>Comments</h3><p>Our standard says:</p><div class=\"blockquote\"><div class=\"blockquote-content\"><p class=\"blockquote-line\">Descriptions MUST BE a full sentence with a capital to start and period to end</p><p class=\"blockquote-line\">Short, return and parameter descriptions MUST be included if present</p><p class=\"blockquote-line\">There MUST be one space before and after parameters</p></div></div><p>Currently our CodeSniffer setup requires that in addition to this:</p><ul><li>The first line of the description can only be 1 line.</li><li>A long description MAY come after</li><li>Param annotations are REQUIRED for every parameter</li><li>A return annotation is REQUIRED no matter what.</li><li>There must be empty comment lines between [short description, long description, params, return].</li><li>You are not allowed to use the&nbsp;<a href=\"https://staff.vanillaforums.com/profile/see\" rel=\"nofollow\">@see</a>&nbsp;tag in a class comment. What is the purpose of this?</li></ul><p>Removing validation of all of these things that are not outlined in our standard would remove a lot of our CodeSniffer validation errors, because almost none of our code does these things. We do generate documentation from our comments, so param annotations are sometimes helpful but not always necessary, and info about returns is generally available in the method name.</p><p>Additionally:</p><ul><li>An&nbsp;<code class=\"code codeInline\" spellcheck=\"false\">@inheritdoc</code>&nbsp;statement should void all other validation of the comment.</li></ul><h3>Line length</h3><p>From our standard</p><div class=\"blockquote\"><div class=\"blockquote-content\"><p class=\"blockquote-line\">There MUST NOT be a hard limit on line length; the soft limit MUST be 120 characters; lines SHOULD be 80 characters or less.</p><p class=\"blockquote-line\">I actually am having trouble parsing this, but I guess this means we shouldn't actually validate line length?</p><p class=\"blockquote-line\">Either way what we currently enforce (150 characters) in code sniffer is ridiculous.</p></div></div><h3>Missing validation</h3><p>A bit of missing validation that would go a long way:</p><ul><li>Warnings for high cyclomatic complexity in a function</li><li>Warnings for excessive method length</li><li>Warnings for excessive amounts of parameters (more than 5 is lot!)</li><li>Unused private fields, local variables, and private methods.</li><li>Trailing commas in multiline arrays!!!</li></ul><p>There are built in code sniffer sniffs for all of these.</p><code class=\"code codeBlock\" spellcheck=\"false\">&lt;rule ref=\"rulesets/codesize.xml/CyclomaticComplexity\"/&gt;\n&lt;rule ref=\"rulesets/codesize.xml/ExcessiveMethodLength\"/&gt;\n&lt;rule ref=\"rulesets/codesize.xml/ExcessiveParameterList\"/&gt;\n&lt;rule ref=\"rulesets/unusedcode.xml/UnusedPrivateField\"/&gt;\n&lt;rule ref=\"rulesets/unusedcode.xml/UnusedLocalVariable\"/&gt;\n&lt;rule ref=\"rulesets/unusedcode.xml/UnusedPrivateMethod\"/&gt;\n</code>\n`;\n\nexport const dummyPostEverything = `\n<h1>Inline operations</h1><p>Quasar rich in mystery Apollonius of Perga concept of the number one rich in mystery! Apollonius of Perga, rogue, hearts of the stars, brain is the seed of intelligence dispassionate extraterrestrial observer finite but unbounded. Tingling of the spine kindling the energy hidden in matter gathered by gravity science Apollonius of Perga Euclid cosmic fugue gathered by gravity take root and flourish dream of the mind's eye descended from astronomers ship of the imagination vastness is bearable only through love with pretty stories for which there's little good evidence Orion's sword. Trillion a billion trillion Apollonius of Perga, not a sunrise but a galaxyrise the sky calls to us! Descended from astronomers?</p><p><code class=\"code codeInline\" spellcheck=\"false\">Code Inline</code></p><p><strong>Bold</strong></p><p><em>italic</em></p><p><strong><em>bold italic</em></strong></p><p><strong><em><s>bold italic strike</s></em></strong></p><p><a href=\"http://test.com\" rel=\"nofollow\"><strong><em><s>bold italic strike link</s></em></strong></a></p><p>Some text with a mention in it <a class=\"atMention\" data-username=\"Alex Other Name\" data-userid=\"23\" href=\"http://vanillafactory.spawn/profile/Alex%20Other%20Name\">@Alex Other Name</a> Another mention <a class=\"atMention\" data-username=\"System\" data-userid=\"1\" href=\"http://vanillafactory.spawn/profile/System\">@System</a>.</p><p>Some text with emojis<span class=\"safeEmoji nativeEmoji\">🤗</span><span class=\"safeEmoji nativeEmoji\">🤔</span><span class=\"safeEmoji nativeEmoji\">🤣</span>.</p><hr><h1>Block operations</h1><p>Block operations H1 Title here. Code Block next.<br></p><code class=\"code codeBlock\" spellcheck=\"false\">/**\n *adds locale data to the view, and adds a respond button to the discussion page.\n */\nclass MyThemeNameThemeHooks extends Gdn_Plugin {\n\n    /**\n     * Fetches the current locale and sets the data for the theme view.\n     * Render the locale in a smarty template using {$locale}\n     *\n     * @param  Controller $sender The sending controller object.\n     */\n    public function base_render_beforebase_render_beforebase_render_beforebase_render_beforebase_render_before($sender) {\n        // Bail out if we're in the dashboard\n        if (inSection('Dashboard')) {\n            return;\n        }\n\n        // Fetch the currently enabled locale (en by default)\n        $locale = Gdn::locale()-&gt;current();\n        $sender-&gt;setData('locale', $locale);\n    }\n}\n</code><p><br></p><h2>H2 Here. Spoiler next</h2><div class=\"spoiler\"><div contenteditable=\"false\" class=\"spoiler-buttonContainer\">\n<button class=\"iconButton button-spoiler js-toggleSpoiler\">\n    <span class=\"spoiler-warning\">\n        <span class=\"spoiler-warningMain\">\n            <svg class=\"icon spoiler-icon\" viewBox=\"0 0 24 24\">\n                <title>Spoiler</title>\n                <path d=\"M8.138,16.569l.606-.606a6.677,6.677,0,0,0,1.108.562,5.952,5.952,0,0,0,2.674.393,7.935,7.935,0,0,0,1.008-.2,11.556,11.556,0,0,0,5.7-4.641.286.286,0,0,0-.02-.345c-.039-.05-.077-.123-.116-.173a14.572,14.572,0,0,0-2.917-3.035l.6-.6a15.062,15.062,0,0,1,2.857,3.028,1.62,1.62,0,0,0,.154.245,1.518,1.518,0,0,1,.02,1.5,12.245,12.245,0,0,1-6.065,4.911,6.307,6.307,0,0,1-1.106.22,4.518,4.518,0,0,1-.581.025,6.655,6.655,0,0,1-2.383-.466A8.023,8.023,0,0,1,8.138,16.569Zm-.824-.59a14.661,14.661,0,0,1-2.965-3.112,1.424,1.424,0,0,1,0-1.867A13.69,13.69,0,0,1,8.863,6.851a6.31,6.31,0,0,1,6.532.123c.191.112.381.231.568.356l-.621.621c-.092-.058-.184-.114-.277-.168a5.945,5.945,0,0,0-3.081-.909,6.007,6.007,0,0,0-2.868.786,13.127,13.127,0,0,0-4.263,3.929c-.214.271-.214.343,0,.639a13.845,13.845,0,0,0,3.059,3.153ZM13.9,9.4l-.618.618a2.542,2.542,0,0,0-3.475,3.475l-.61.61A3.381,3.381,0,0,1,12,8.822,3.4,3.4,0,0,1,13.9,9.4Zm.74.674a3.3,3.3,0,0,1,.748,2.138,3.382,3.382,0,0,1-5.515,2.629l.6-.6a2.542,2.542,0,0,0,3.559-3.559Zm-3.146,3.146L13.008,11.7a1.129,1.129,0,0,1-1.516,1.516Zm-.6-.811a1.061,1.061,0,0,1-.018-.2A1.129,1.129,0,0,1,12,11.079a1.164,1.164,0,0,1,.2.017Z\" style=\"currentColor\"></path>\n                <polygon points=\"19.146 4.146 19.854 4.854 4.854 19.854 4.146 19.146 19.146 4.146\" style=\"currentColor\"></polygon>\n            </svg>\n            <strong class=\"spoiler-warningBefore\">\n                Spoiler Warning\n            </strong>\n        </span>\n        <span class=\"spoiler-chevron\">\n    <svg class=\"icon spoiler-chevronUp\" viewBox=\"0 0 20 20\">\n        <title>▲</title>\n        <path fill=\"currentColor\" stroke-linecap=\"square\" fill-rule=\"evenodd\" d=\"M6.79521339,4.1285572 L6.13258979,4.7726082 C6.04408814,4.85847112 6,4.95730046 6,5.0690962 C6,5.18057569 6.04408814,5.27940502 6.13258979,5.36526795 L11.3416605,10.4284924 L6.13275248,15.4915587 C6.04425083,15.5774216 6.00016269,15.6762509 6.00016269,15.7878885 C6.00016269,15.8995261 6.04425083,15.9983555 6.13275248,16.0842184 L6.79537608,16.7282694 C6.88371504,16.8142905 6.98539433,16.8571429 7.10025126,16.8571429 C7.21510819,16.8571429 7.31678748,16.8141323 7.40512644,16.7282694 L13.5818586,10.7248222 C13.6701976,10.6389593 13.7142857,10.54013 13.7142857,10.4284924 C13.7142857,10.3168547 13.6701976,10.2181835 13.5818586,10.1323206 L7.40512644,4.1285572 C7.31678748,4.04269427 7.21510819,4 7.10025126,4 C6.98539433,4 6.88371504,4.04269427 6.79521339,4.1285572 L6.79521339,4.1285572 Z\" transform=\"rotate(-90 9.857 10.429)\"></path>\n    </svg>\n    <svg class=\"icon spoiler-chevronDown\" viewBox=\"0 0 20 20\">\n        <title>▼</title>\n        <path fill=\"currentColor\" stroke-linecap=\"square\" fill-rule=\"evenodd\" d=\"M6.79521339,4.1285572 L6.13258979,4.7726082 C6.04408814,4.85847112 6,4.95730046 6,5.0690962 C6,5.18057569 6.04408814,5.27940502 6.13258979,5.36526795 L11.3416605,10.4284924 L6.13275248,15.4915587 C6.04425083,15.5774216 6.00016269,15.6762509 6.00016269,15.7878885 C6.00016269,15.8995261 6.04425083,15.9983555 6.13275248,16.0842184 L6.79537608,16.7282694 C6.88371504,16.8142905 6.98539433,16.8571429 7.10025126,16.8571429 C7.21510819,16.8571429 7.31678748,16.8141323 7.40512644,16.7282694 L13.5818586,10.7248222 C13.6701976,10.6389593 13.7142857,10.54013 13.7142857,10.4284924 C13.7142857,10.3168547 13.6701976,10.2181835 13.5818586,10.1323206 L7.40512644,4.1285572 C7.31678748,4.04269427 7.21510819,4 7.10025126,4 C6.98539433,4 6.88371504,4.04269427 6.79521339,4.1285572 L6.79521339,4.1285572 Z\" transform=\"rotate(90 9.857 10.429)\"></path>\n    </svg>\n</span>\n    </span>\n</button></div><div class=\"spoiler-content\"><p class=\"spoiler-line\">Some Spoiler content with formatting <strong>bold</strong> <em>italic </em><s>strike</s></p><p class=\"spoiler-line\"><br></p><p class=\"spoiler-line\"><br></p><p></p><p class=\"spoiler-line\">Newlines above <a href=\"unsafe:test link\" rel=\"nofollow\">Link</a></p><p class=\"spoiler-line\">Another line</p></div></div><p><br></p><p>A blockquote will be next.</p><p><br></p><p></p><div class=\"blockquote\"><div class=\"blockquote-content\"><p class=\"blockquote-line\">Some Block quote content<strong>bold</strong> <em>italic </em><s>strike</s></p><p class=\"blockquote-line\"><s>More blockquote content</s></p></div></div><p></p><p><br></p><p></p><p>Unordered List</p><ul><li>Line 1</li><li>Line 2 (2 empty list items after this)</li><li><br></li><li><br></li><li>Line 5 item with <strong>bold and a </strong><a href=\"https://vanillaforums.com\" rel=\"nofollow\"><strong>link</strong></a><strong>.</strong></li><li>Line 6 item with an emoji<span class=\"safeEmoji nativeEmoji\">😉</span>.</li></ul><p>Ordered List</p><ol><li>Number 1</li><li>Number 2</li><li>Number 3 (Empty line below)</li><li><br></li><li>Number 5 with <strong>bold and a </strong><a href=\"https://vanillaforums.com/\" rel=\"nofollow\"><strong>link</strong></a><strong>.</strong></li></ol><p><br></p><hr><h1>Embed operations</h1><h2>Imgur:</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedImgur\">\n    <div class=\"embedExternal-content\">\n        <blockquote class=\"imgur-embed-pub\" lang=\"en\" data-id=\"arP2Otg\"><a href=\"https://imgur.com/arP2Otg\"></a></blockquote>\n    </div>\n</div></div><h2>Image:</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedImage\">\n    <div class=\"embedExternal-content\">\n        <a class=\"embedImage-link\" href=\"http://www.worldoceansday.org/_assets/css/images/events/8075118_2_IMG_1262CoastOceanSky.jpg\" rel=\"nofollow noopener\" target=\"_blank\">\n            <img class=\"embedImage-img\" src=\"http://www.worldoceansday.org/_assets/css/images/events/8075118_2_IMG_1262CoastOceanSky.jpg\">\n        </a>\n    </div>\n</div></div><h2>Twitter:</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedTwitter\">\n    <div class=\"embedExternal-content js-twitterCard\" data-tweeturl=\"https://twitter.com/hootsuite/status/1009883861617135617\" data-tweetid=\"1009883861617135617\">\n        <a href=\"https://twitter.com/hootsuite/status/1009883861617135617\" class=\"tweet-url\" rel=\"nofollow\">https://twitter.com/hootsuite/status/1009883861617135617</a>\n    </div>\n</div></div><h2>Getty:</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedGetty\">\n    <div class=\"embedExternal-content\">\n        <a class=\"embedExternal-content gie-single js-gettyEmbed\" href=\"//www.gettyimages.com/detail/810147408\" id=\"VPkxdgtCQFx-rEo96WtR_g\" data-height=\"345\" data-width=\"498\" data-sig=\"Mb27fqjaYbaPPFANi1BffcYTEvCcNHg0My7qzCNDSHo=\" data-items=\"810147408\" data-capt=\"false\" data-tld=\"com\" data-i360=\"false\">\n            https://www.gettyimages.ca/detail/photo/explosion-of-a-cloud-of-powder-of-particles-of-royalty-free-image/810147408\n        </a>\n    </div>\n</div></div><h2>Vimeo:</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedVideo\">\n    <div class=\"embedExternal-content\">\n        <div class=\"embedVideo-ratio\" style=\"padding-top: 42.5%;\">\n            <button type=\"button\" data-url=\"https://player.vimeo.com/video/264197456?autoplay=1\" aria-label=\"Vimeo\" class=\"embedVideo-playButton iconButton js-playVideo\" title=\"Vimeo\">\n                <img class=\"embedVideo-thumbnail\" src=\"https://i.vimeocdn.com/video/694532899_640.jpg\" role=\"presentation\" alt=\"A thumnail preview of a video\">\n                <span class=\"videoEmbed-scrim\">\n                <svg class=\"embedVideo-playIcon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-1 -1 24 24\">\n    <title>Play Video</title>\n    <path class=\"embedVideo-playIconPath embedVideo-playIconPath-circle\" style=\"fill: currentColor; stroke-width: .3;\" d=\"M11,0A11,11,0,1,0,22,11,11,11,0,0,0,11,0Zm0,20.308A9.308,9.308,0,1,1,20.308,11,9.308,9.308,0,0,1,11,20.308Z\"></path>\n    <polygon class=\"embedVideo-playIconPath embedVideo-playIconPath-triangle\" style=\"fill: currentColor; stroke-width: .3;\" points=\"8.609 6.696 8.609 15.304 16.261 11 8.609 6.696\"></polygon>\n</svg>\n            </span></button>\n        </div>\n    </div>\n</div></div><h2>Youtube:</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedVideo\">\n    <div class=\"embedExternal-content\">\n        <div class=\"embedVideo-ratio\" style=\"padding-top: 74.945533769063%;\">\n            <button type=\"button\" data-url=\"https://www.youtube.com/embed/fy0fTFpqT48?feature=oembed&amp;autoplay=1&amp;start=2\" aria-label=\"Attack of the Killer Tomatoes - Trailer\" class=\"embedVideo-playButton iconButton js-playVideo\" title=\"Attack of the Killer Tomatoes - Trailer\">\n                <img class=\"embedVideo-thumbnail\" src=\"https://img.youtube.com/vi/fy0fTFpqT48/0.jpg\" role=\"presentation\" alt=\"A thumnail preview of a video\">\n                <span class=\"videoEmbed-scrim\">\n                <svg class=\"embedVideo-playIcon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-1 -1 24 24\">\n    <title>Play Video</title>\n    <path class=\"embedVideo-playIconPath embedVideo-playIconPath-circle\" style=\"fill: currentColor; stroke-width: .3;\" d=\"M11,0A11,11,0,1,0,22,11,11,11,0,0,0,11,0Zm0,20.308A9.308,9.308,0,1,1,20.308,11,9.308,9.308,0,0,1,11,20.308Z\"></path>\n    <polygon class=\"embedVideo-playIconPath embedVideo-playIconPath-triangle\" style=\"fill: currentColor; stroke-width: .3;\" points=\"8.609 6.696 8.609 15.304 16.261 11 8.609 6.696\"></polygon>\n</svg>\n            </span></button>\n        </div>\n    </div>\n</div></div><h2>Instagram:</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedInstagram\">\n    <div class=\"embedExternal-content\">\n        <blockquote class=\"instagram-media\" data-instgrm-captioned=\"\" data-instgrm-permalink=\"https://www.instagram.com/p/BTjnolqg4po\" data-instgrm-version=\"8\">\n            <a href=\"https://www.instagram.com/p/BTjnolqg4po/?taken-by=vanillaforums\">https://www.instagram.com/p/BTjnolqg4po/?taken-by=vanillaforums</a>\n        </blockquote>\n    </div>\n</div></div><h2>Soundcloud:</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedSoundCloud\">\n    <div class=\"embedExternal-content\">\n        <iframe width=\"100%\" scrolling=\"no\" frameborder=\"no\" src=\"https://w.soundcloud.com/player/?url=https://api.soundcloud.com/playlists/330864225&amp;show_artwork=true&amp;visual=true\">\n        </iframe>\n    </div>\n</div></div><h2>Giphy:</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedGiphy\">\n    <div class=\"embedExternal-content\" style=\"width: 720px\">\n        <div class=\"embedExternal-ratio\" style=\"padding-bottom: 100%\">\n            <iframe class=\"giphy-embed embedGiphy-iframe\" src=\"https://giphy.com/embed/JIX9t2j0ZTN9S\"></iframe>\n        </div>\n    </div>\n</div></div><h2>Twitch:</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedVideo\">\n    <div class=\"embedExternal-content\">\n        <div class=\"embedVideo-ratio\" style=\"padding-top: 56.2%;\">\n            <button type=\"button\" data-url=\"https://player.twitch.tv/?video=v277077149\" aria-label=\"SamedWii Zeldaérobic\" class=\"embedVideo-playButton iconButton js-playVideo\" title=\"SamedWii Zeldaérobic\">\n                <img class=\"embedVideo-thumbnail\" src=\"https://static-cdn.jtvnw.net/s3_vods/9e05228597e840e180f3_hoopyjv_29218011904_894795907/thumb/thumb0-640x360.jpg\" role=\"presentation\" alt=\"A thumnail preview of a video\">\n                <span class=\"videoEmbed-scrim\">\n                <svg class=\"embedVideo-playIcon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-1 -1 24 24\">\n    <title>Play Video</title>\n    <path class=\"embedVideo-playIconPath embedVideo-playIconPath-circle\" style=\"fill: currentColor; stroke-width: .3;\" d=\"M11,0A11,11,0,1,0,22,11,11,11,0,0,0,11,0Zm0,20.308A9.308,9.308,0,1,1,20.308,11,9.308,9.308,0,0,1,11,20.308Z\"></path>\n    <polygon class=\"embedVideo-playIconPath embedVideo-playIconPath-triangle\" style=\"fill: currentColor; stroke-width: .3;\" points=\"8.609 6.696 8.609 15.304 16.261 11 8.609 6.696\"></polygon>\n</svg>\n            </span></button>\n        </div>\n    </div>\n</div></div><h2>External No Image</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedText embedLink\">\n    <div class=\"embedExternal-content embedText-content embedLink-content\">\n        <a class=\"embedLink-link\" href=\"https://www.google.ca/search?q=typing+google+in+google\" rel=\"noopener noreferrer\">\n            <article class=\"embedText-body\">\n\n                <div class=\"embedText-main\">\n                    <div class=\"embedText-header\">\n                        <h3 class=\"embedText-title\">typing google in google - Google Search</h3>\n\n                        <span class=\"embedLink-source meta\">https://www.google.ca/search?q=typing+google+in+google</span>\n                    </div>\n                    <div class=\"embedLink-excerpt\">typing google into google meme</div>\n                </div>\n            </article>\n        </a>\n    </div>\n</div></div><h2>Exernal With Image</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedText embedLink\">\n    <div class=\"embedExternal-content embedText-content embedLink-content\">\n        <a class=\"embedLink-link\" href=\"https://vanillaforums.com/en/\" rel=\"noopener noreferrer\">\n            <article class=\"embedText-body\">\n                <img src=\"https://vanillaforums.com/images/metaIcons/vanillaForums.png\" class=\"embedLink-image\" aria-hidden=\"true\">\n                <div class=\"embedText-main\">\n                    <div class=\"embedText-header\">\n                        <h3 class=\"embedText-title\">Online Community Software and Customer Forum Software by Vanilla Forums</h3>\n\n                        <span class=\"embedLink-source meta\">https://vanillaforums.com/en/</span>\n                    </div>\n                    <div class=\"embedLink-excerpt\">Engage your customers with a vibrant and modern online customer community forum. A customer community helps to increases loyalty, reduce support costs and deliver feedback.</div>\n                </div>\n            </article>\n        </a>\n    </div>\n</div></div><h2>Wistia:</h2><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedVideo\">\n    <div class=\"embedExternal-content\">\n        <div class=\"embedVideo-ratio is16by9\" style=\"\">\n            <button type=\"button\" data-url=\"https://fast.wistia.net/embed/iframe/0k5h1g1chs\" aria-label=\"Lenny Delivers a Video - oEmbed glitch\" class=\"embedVideo-playButton iconButton js-playVideo\" title=\"Lenny Delivers a Video - oEmbed glitch\">\n                <img class=\"embedVideo-thumbnail\" src=\"https://embed-ssl.wistia.com/deliveries/99f3aefb8d55eef2d16583886f610ebedd1c6734.jpg?image_crop_resized=960x540\" role=\"presentation\" alt=\"A thumnail preview of a video\">\n                <span class=\"videoEmbed-scrim\">\n                <svg class=\"embedVideo-playIcon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-1 -1 24 24\">\n    <title>Play Video</title>\n    <path class=\"embedVideo-playIconPath embedVideo-playIconPath-circle\" style=\"fill: currentColor; stroke-width: .3;\" d=\"M11,0A11,11,0,1,0,22,11,11,11,0,0,0,11,0Zm0,20.308A9.308,9.308,0,1,1,20.308,11,9.308,9.308,0,0,1,11,20.308Z\"></path>\n    <polygon class=\"embedVideo-playIconPath embedVideo-playIconPath-triangle\" style=\"fill: currentColor; stroke-width: .3;\" points=\"8.609 6.696 8.609 15.304 16.261 11 8.609 6.696\"></polygon>\n</svg>\n            </span></button>\n        </div>\n    </div>\n</div></div><p></p><div class=\"js-embed embedResponsive\"><div class=\"embedExternal embedVideo\">\n    <div class=\"embedExternal-content\">\n        <div class=\"embedVideo-ratio is16by9\" style=\"\">\n            <button type=\"button\" data-url=\"https://fast.wistia.net/embed/iframe/vjidqnyg0a\" aria-label=\"Borrowed video: Welcome to Wistia!\" class=\"embedVideo-playButton iconButton js-playVideo\" title=\"Borrowed video: Welcome to Wistia!\">\n                <img class=\"embedVideo-thumbnail\" src=\"https://embed-ssl.wistia.com/deliveries/1e7b480521adb0d8cc29dbd388faa14eb7c99d21.jpg?image_crop_resized=960x540\" role=\"presentation\" alt=\"A thumnail preview of a video\">\n                <span class=\"videoEmbed-scrim\">\n                <svg class=\"embedVideo-playIcon\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"-1 -1 24 24\">\n    <title>Play Video</title>\n    <path class=\"embedVideo-playIconPath embedVideo-playIconPath-circle\" style=\"fill: currentColor; stroke-width: .3;\" d=\"M11,0A11,11,0,1,0,22,11,11,11,0,0,0,11,0Zm0,20.308A9.308,9.308,0,1,1,20.308,11,9.308,9.308,0,0,1,11,20.308Z\"></path>\n    <polygon class=\"embedVideo-playIconPath embedVideo-playIconPath-triangle\" style=\"fill: currentColor; stroke-width: .3;\" points=\"8.609 6.696 8.609 15.304 16.261 11 8.609 6.696\"></polygon>\n</svg>\n            </span></button>\n        </div>\n    </div>\n</div></div><p></p><p><br></p>`;\n"],"sourceRoot":""}