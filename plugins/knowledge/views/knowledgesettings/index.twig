<header class="header-block">
    <h1>
        {{ t('Knowledge Bases') }}</h1>
    <div class="btn-container">
        <a class="js-modal btn btn-primary" href="{{ url('/knowledge-settings/knowledge-bases/add') }}">
            {{ t('Add Knowledge Base') }}</a>
    </div>
</header>
<div class="table-wrap">
    <table class=" table-data">
        <thead>
            <tr>
                <th class="column-md">
                    {{ t('Knowledge Base') }}</th>
                <th class="column-sm">
                    {{ t('Url') }}</th>
                <th class="column-sm"></th>
            </tr>
        </thead>
        <tbody>
            {% for kb in knowledgeBases %}
                <tr data-id="knowledgeBase-{{ kb.knowledgeBaseID }}">
                    <td>
                        <div class="media media-sm">
                            <div class="media-left">
                                <div class="media-image-wrap">
                                    <a href="#">
                                        <img src="{{ kb.icon }}"/>
                                    </a>
                                </div>
                            </div>
                            <div class="media-body">
                                <div class="media-title">
                                    {{ kb.name }}</div>
                                <div class="info">
                                    {{ kb.description }}</div>
                            </div>
                        </div>
                    </td>
                    <td>
                        <a href="{{ kb.url }}">/{{ kb.urlCode }}</a>
                    </td>
                    <td class="options">
                        {% if status == constant('Vanilla\\Knowledge\\Models\\KnowledgeBaseModel::STATUS_PUBLISHED') %}
                            <div class="btn-group">
                                <a href="{{ url("/knowledge-settings/knowledge-bases/"~kb.knowledgeBaseID~"/edit") }}" class="btn btn-icon js-modal" aria-label="Edit" title="Edit">
                                    <svg class="icon icon-svg-edit" viewBox="0 0 17 17">
                                        <use xlink:href="#edit"></use>
                                    </svg>
                                </a>
                                <a href="{{ url("/knowledge-settings/knowledge-bases/"~kb.knowledgeBaseID~"/delete") }}" data-body="{{ t('Are you sure you want to delete this knowledge base?') }}" class="btn btn-icon js-modal-confirm" aria-label="Delete" title="Delete">
                                    <svg class="icon icon-svg-delete" viewBox="0 0 17 17">
                                        <use xlink:href="#delete"></use>
                                    </svg>
                                </a>
                            </div>
                            {% else %}
                            <div class="btn-group">
                                <a href="{{ url("/knowledge-settings/knowledge-bases/"~kb.knowledgeBaseID~"/publish") }}" data-body="{{ t('Are you sure you want to restore this knowledge base?') }}" class="btn btn-icon js-modal-confirm" aria-label="Restore" title="Restore">
                                    {{ t("Restore") }}
                                </a>
                                <a href="{{ url("/knowledge-settings/knowledge-bases/"~kb.knowledgeBaseID~"/delete?purge=purge") }}" data-body="{{ t("Are you sure you want to purge this knowledge base?") }}" class="btn btn-icon js-modal-confirm" aria-label="Purge" title="Purge">
                                    <svg class="icon icon-svg-delete" viewBox="0 0 17 17">
                                        <use xlink:href="#delete"></use>
                                    </svg>
                                </a>
                            </div>
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% if knowledgeBases|length == 0 %}
    <div class="padded">
        <p>
            {% if status == constant('Vanilla\\Knowledge\\Models\\KnowledgeBaseModel::STATUS_PUBLISHED') %}
                {{ t("Add a knowledge base to get started.") }}
                {% else %}
                {{ t('No "deleted" knowledge bases found.') }}
            {% endif %}
        </p>
    </div>
{% endif %}