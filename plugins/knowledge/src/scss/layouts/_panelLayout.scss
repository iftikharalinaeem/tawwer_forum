/**
 * @author Stéphane (slafleche) LaFlèche <stephane.l@vanillaforums.com>
 * @copyright 2009-2018 Vanilla Forums Inc.
 * @license https://opensource.org/licenses/GPL-2.0 GPL-2.0
 */

$panelLayout-twoColumn_breakpoint                    : $global-main_paddedWidth !default;
$panelLayout-oneColumn_breakpoint                    : $global-twoColumn_breakpoint !default;
$panelLayout_bg                                      : $global-color_bg;
$panelArea-rightPanel_bg                             : $panelLayout_bg;
$panelLayout-middlePanel_bg                          : $panelLayout_bg;
$panelArea-leftPanel_bg                              : $panelLayout_bg;
$panelLayout-panel_topPadding                        : $global-widgetInner_padding !default;
$panelLayout-panel_rightPadding                      : $global-widgetInner_padding !default;
$panelLayout-panel_bottomPadding                     : $global-widgetInner_padding !default;
$panelLayout-panel_leftPadding                       : $global-widgetInner_padding !default;

@mixin mediaQuery-panelLayout_twoColumn {
  @media (max-width: #{$panelLayout-twoColumn_breakpoint}) {
    @content;
  }
}

@mixin mediaQuery-panelLayout_oneColumn {
  @media (max-width: #{$panelLayout-oneColumn_breakpoint}) {
    @content;
  }
}

.panelLayout {
  display: block;
}

.panelLayout,
.panelLayout-top,
.panelLayout-main {
  display: block;
}

.panelLayout-container {
  display: flex;
  flex-wrap: nowrap;

  &.noRightColumn {
    .panelLayout-middle {
      flex-basis: 100%;
      max-width: 100%;
    }
  }
}



// Left Section
.panelLayout-left {
  position: relative;
  width: $global-panel_width;
  flex-basis: $global-panel_width;
  z-index: 2;
  background-color: $panelArea-rightPanel_bg;

  //@include mediaQuery-panelLayout_oneColumn {
  //  position: absolute;
  //  top: 0;
  //  left: 0;
  //  width: 100vw;
  //
  //  margin: 0;
  //  transform: translateX(-100vw);
  //  height: 100%;
  //  overflow: auto;
  //
  //  .panelArea-leftTop {
  //    display: none;
  //  }
  //
  //  &.isOpen {
  //    transform: translateX(0);
  //  }
  //}
}




// Content section
.panelLayout-content {
  display: flex;
  flex-basis: calc(100% - #{$global-panel_width});
  max-width: calc(100% - #{$global-panel_width});

  //@include mediaQuery-panelLayout_twoColumn {
  //  flex-wrap: wrap;
  //}
  //
  //@include mediaQuery-panelLayout_oneColumn {
  //  @include backLinkNoBleedStyles;
  //  max-width: 100%;
  //  flex-basis: 100%;
  //  padding-left: 0;
  //}
}

// Middle Column
.panelLayout-middle {
  flex-grow: 1;
  flex-basis: calc(100% - #{$global-panel_width});
  max-width: calc(100% - #{$global-panel_width});
  background-color: $panelLayout-middlePanel_bg;

  @include mediaQuery-panelLayout_twoColumn {
    width: 100%;
    max-width: 100%;
    flex-basis: 100%;
  }
}

.panelLayout-right {
  width: $global-panel_width;
  flex-basis: $global-panel_width;
  background-color: $panelArea-rightPanel_bg;
}

.panelArea-rightTop {
  margin-bottom: $global-gutter_halfSize;
}



.panelArea-leftTop {
  margin-bottom: $global-gutter_halfSize;
  position: relative;
}

.panelArea-leftBottom {
  margin-bottom: $global-gutter_halfSize;
  position: relative;
}







@include mediaQuery-panelLayout_oneColumn {
  .panelLayout-sticky {
    position: relative;
    top: auto;
    left: auto;
    bottom: auto;
  }
}
