@import "compass";

$buttonWidth: 70px;

@function hex_c($c) {
   $c1: floor($c / 16);
   $c2: $c - 16 * $c1;
   $hexes: ("0" "1" "2" "3" "4" "5" "6" "7" "8" "9" "a" "b" "c" "d" "e" "f");

   $hex_c: #{unquote(nth($hexes, $c1 + 1))}#{unquote(nth($hexes, $c2 + 1))};

   @return $hex_c
}

@function hex_str($color) {
   $hex_str: #{hex_c(red($color))}#{hex_c(green($color))}#{hex_c(blue($color))};

   @return $hex_str
}

@function spriteUrl($color, $file: sprites-14) {
   @return url("//vanillicon.com/sprites/#{$file}-#{hex_str(unquote($color))}.png");
}

button, .QuickSearch {
   .Sprite {
      display: inline-block;
      height: 16px;
      width: 16px;
      background: spriteUrl(#000) no-repeat;
      padding: 0;

      @media (-webkit-min-device-pixel-ratio: 2), (-moz-min-device-pixel-ratio: 2) {
         & {
           background-image: spriteUrl(#000, sprites-28);
           background-size: 396px;
         }
       }
   }

   .SpSearch {
      background-position: -220px -100px;
   }
}

.AdvancedSearch {
   margin: 15px auto;
   padding-right: $buttonWidth + 5px;
   max-width: 750px;

   select {
      height: 32px;
      border: solid 1px #999;
      vertical-align: top;
   }

   select, input, button {
      @include box-sizing(border-box);
   }

   .BigInput {
      width: 100%;
   }

   .Gloss {
      line-height: 20px;
      text-align: right;
   }

   .Inline .Gloss {
      line-height: 30px;
      display: inline-block;
   }

   .InputBox {
      padding: 0 5px;
      line-height: 30px;
      height: 30px;
   }

   .Button {
      min-width: $buttonWidth;

      .Sprite {
         vertical-align: middle;
      }
   }

   .DateBox {
      min-width: 100px;
      max-width: 140px;
   }

   // This is for the advanced search form.
   .P {
      margin: 10px 0;

      &.Inline {
         margin: 15px 0;
      }
   }

   label.Heading {
      display: block;
      line-height: 20px;
   }

   .Inline {
      label {
         display: inline-block;
      }
   }

   // This is for the keywords stuff.
   .InputAndButton {
      position: relative;

      .bwrap {
         position: absolute;
         top: 0;
         right: -($buttonWidth + 5px);
      }

      .Button {
         padding: 0 5px;
         line-height: 100%;
         height: 30px;
         width: $buttonWidth;
      }
   }

   .AdvancedWrap {
      display: none;
   }

   &.Open {
      .InputAndButton .Handle {
         //top: 3px;
         //border-color: transparent transparent #000 transparent;
         /*@include transform-origin( 5px, 5px);*/
         @include rotate(180deg);

      }

      .AdvancedWrap {
         display: block;
      }
   }
}

.InputAndButton {
   .Handle {
      // background: rgba(255,255,0,.5);
      position: absolute;
      top: 0;
      right: 0;
      width: 32px;
      height: 30px;
      opacity: .5;
      @include single-transition(transform, .3s);

      &:hover {
         opacity: 1;
      }

      .Arrow {
         position: absolute;
         top: 12px;
         right: 8px;
         height: 0;
         width: 0;
         border: solid 8px;
         border-color: #000 transparent transparent transparent;
      }
   }
}

.DataList-Search {
   & > .Item {
      line-height: 20px; // 2x picture height.
   }
   .Breadcrumbs {
      line-height: 20px;
   }
   h3 {
      margin-bottom: 5px;
   }
   .Excerpt {
      margin: 5px 0 10px;
   }
}

.Media {
   margin: 5px 0 10px;

   &, .Media-Body {
      overflow:hidden;
      _overflow:visible;
      zoom:1;
   }

   .Img {
      float:left; margin-right: 10px;

      img {
         display:block;
      }
   }

   .ImgExt {
      float:right; margin-left: 10px;

      max-height: 200px;
      overflow: hidden;

      iframe { width: 200px;

         &.Vimeo {
            height: 113px;
         }
      }
      img { width: 200px; } //@include single-transition(width, .3s, ease-in-out);}

      &.Open {
         max-height: 306px;
         iframe, img { width: 400px;}
      }
   }

   .Item h2 + &,
   .Item h3 + & {
      margin-top: 0;
   }
}

.QuickSearch {
   display: inline-block;
   position: relative;

   .MenuItems {
      padding: 10px;
      display: none;
      position: absolute;
      right: 0;
      left: auto;
      top: 105%;
      z-index: 1000;
   }

   &.Open {
      .MenuItems {
         display: block;
      }
   }

   form {
      position: relative;
   }

   select, input, button {
      font-size: 12px;
      @include box-sizing(border-box);
      line-height: 24px;
      height: 24px;
      padding: 0 4px;
   }

   .InputBox {
      width: 300px;
      margin-right: 50px;
   }

   .bwrap {
      position: absolute;
      top: 0;
      right: 0;
   }

   .Button {
      width: 40px;
   }

   .QuickSearchButton {   .Sprite {
      background-color: transparent;
      border: none;
      vertical-align: middle;
      }
   }
}

.PagerWrap {
   overflow: visible; // fix for old style.css
}

@import "jquery.tokeninput";
@import "jquery.ui.autocomplete";
/*@import "jquery.ui.core";*/
/*@import "jquery.ui.menu";*/
